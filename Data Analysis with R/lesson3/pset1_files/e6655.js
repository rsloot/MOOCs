webpackJsonp([0,2],{1774:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MentorChat=t.StudentChat=t.actions=t.actionTypes=t.reducer=t.helper=t.chatState=t.apiService=void 0;var i=n(671);Object.defineProperty(t,"apiService",{enumerable:!0,get:function(){return o(i)["default"]}});var a=n(1793);Object.defineProperty(t,"chatState",{enumerable:!0,get:function(){return a.chatState}});var s=n(1807);Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return o(s)["default"]}});var u=n(1796);Object.defineProperty(t,"actionTypes",{enumerable:!0,get:function(){return o(u)["default"]}});var c=n(1794);Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return o(c)["default"]}});var l=n(1833);Object.defineProperty(t,"StudentChat",{enumerable:!0,get:function(){return o(l)["default"]}});var d=n(1821);Object.defineProperty(t,"MentorChat",{enumerable:!0,get:function(){return o(d)["default"]}});var f=n(670),p=r(f);t.helper=p},1791:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.track=function(e,t){window.analytics&&window.analytics.track(e,t)},t.page=function(e,t){window.analytics&&window.analytics.page(e,t)},t.identify=function(e){window.analytics&&window.analytics.identify(e.key,{email:e.email})}},1792:function(e,t,n){var r=n(1850);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1793:function(e,t,n){(function(t){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].e;var o=n[r]={e:{},i:r,l:!1};return e[r].call(o.e,o,o.e,t),o.l=!0,o.e}var n={};return t.m=e,t.c=n,t.p="/",t(t.s=82)}([function(e,t,n){var r=Object;e.e={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function r(){var e=new Uint16Array(8);l(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+"-"+t(e[2])+"-"+t(e[3])+"-"+t(e[4])+"-"+t(e[5])+t(e[6])+t(e[7])}function o(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function i(e){e.client.once("destroy",function(){return d=null}),d=new s({camelCase:!0,getObjectCallback:function(t){return e.client._getObject(t)},propertyNameMap:{Conversation:{unreadMessageCount:"unreadCount"}},changeCallbacks:{Message:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Conversation:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}}}})}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(140),u="undefined"!=typeof window?window.crypto||window.msCrypto:null,c="undefined"==typeof window?n(145):window.atob,l=void 0;"undefined"==typeof window?l=n(147):u&&(l=u.getRandomValues.bind(u)),t.generateUUID=l?r:o,t.typeFromID=function(e){var t=e.match(/layer\:\/\/\/(.*?)\//);return t?t[1]:""},t.isEmpty=function(e){return"[object Object]"===Object.prototype.toString.apply(e)&&0===Object.keys(e).length},t.sortBy=function(e,t,n){n=n?-1:1,e.sort(function(e,r){var o=t(e),i=t(r);return void 0===o&&void 0===i?0:void 0===o&&void 0!==i?1:void 0!==o&&void 0===i?-1:o>i?1*n:o<i?-1*n:0})},t.clone=function(e){return JSON.parse(JSON.stringify(e))},t.defer=function(e){return setTimeout(e,0)},t.decode=function(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return c(t)},t.getExponentialBackoffSeconds=function(e,t){var n=Math.pow(2,t)/10,r=Math.random();return t<2?r/=4:t<6&&(r/=2),n>=e&&(n=e),n+r};var d=void 0;t.layerParse=function(e){d||i(e),d.parse(e)},t.doesObjectMatch=function(e,n){if(!e&&n||e&&!n)return!1;var r=Object.keys(e).sort(),o=Object.keys(n).sort();if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++){var s=r[i],u=o[i],c=e[s],l=n[u];if(s!==u)return!1;if(c&&"object"===("undefined"==typeof c?"undefined":a(c))){if(Array.isArray(c))throw new Error("Array comparison not handled yet");if(!t.doesObjectMatch(c,l))return!1}else if(c!==l)return!1}return!0},t.includes=function(e,t){return e.indexOf(t)!==-1}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}function u(e,t){var n="__"+t,r=t.substring(0,1).toUpperCase()+t.substring(1),o=e.prototype["__adjust"+r]||e.prototype["__update"+r]||e.prototype["__get"+r];o&&(e.prototype[n]=e.prototype[t],Object.defineProperty(e.prototype,t,{enumerable:!0,get:function(){return this["__get"+r]?this["__get"+r](n):this[n]},set:function(e){if(!this.isDestroyed){var t=this[n];if(e!==t){if(this["__adjust"+r]){var o=this["__adjust"+r](e);void 0!==o&&(e=o)}this[n]=e}e!==t&&!this.isInitializing&&this["__update"+r]&&this["__update"+r](e,t)}}}))}function c(e,t){e.name||(e.name=t),e._supportedEvents||(e._supportedEvents=b._supportedEvents),e._ignoredEvents||(e._ignoredEvents=b._ignoredEvents);var n=Object.keys(e.prototype).filter(function(t){return e.prototype.hasOwnProperty(t)&&!b.prototype.hasOwnProperty(t)&&"function"!=typeof e.prototype[t]});n.forEach(function(t){return u(e,t)})}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=n(36),h=n(6),y=n(138),g=n(3);s.prototype=y;var A=new s;"function"==typeof postMessage&&addEventListener("message",function(e){"layer-delayed-event"===e.data.type&&A.trigger(e.data.internalId+"-delayed-event")});var m={},v=/\s+/,b=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));n._subscriptions=[],n._delayedTriggers=[],n._lastDelayedTrigger=Date.now(),n._events={};var r=n.constructor.name;m[r]||(m[r]=0),n.internalId=r+m[r]++,A.on(n.internalId+"-delayed-event",n._processDelayedTriggers,n),n.id||e.id||!n.constructor.prefixUUID||(n.id="temp_"+n.constructor.prefixUUID+f.generateUUID());var a=void 0;for(a in e)n.constructor._supportedEvents.indexOf(a)!==-1?n.on(a,e[a]):a in n&&"function"!=typeof n[a]&&(n[a]=e[a]);return n.isInitializing=!1,n}return a(t,e),d(t,[{key:"_validateId",value:function(){var e=String(this.id),t=this.constructor.prefixUUID;return(0===e.indexOf(t)||0===e.indexOf("temp_"+t))&&!!e.substring(t.length).match(/.{8}-.{4}-.{4}-.{4}-.{12}$/)}},{key:"destroy",value:function(){var e=this;if(this.isDestroyed)throw new Error(h.dictionary.alreadyDestroyed);this.trigger("destroy"),A.off(this.internalId+"-delayed-event",null,this),this.off(),this._subscriptions.forEach(function(t){return t.off(null,null,e)}),this._subscriptions=null,this._delayedTriggers=null,this.isDestroyed=!0}},{key:"toObject",value:function(){var e=this,n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.__inToObject=!0;var r={};try{var o=Object.keys(this.constructor.prototype);o.forEach(function(o){var i=e[o];0!==o.indexOf("_")&&"function"!=typeof i&&(Array.isArray(i)?(r[o]=[],i.forEach(function(e){e instanceof t?n?delete r[o]:e.__inToObject||r[o].push(e.toObject()):r[o].push(e)})):i instanceof t?i.__inToObject||n||(r[o]=i.toObject()):i instanceof Date?r[o]=new Date(i):r[o]=i)})}catch(i){}return this.__inToObject=!1,r}},{key:"_warnForEvent",value:function(e){if(!f.includes(this.constructor._supportedEvents,e))throw new Error("Event "+e+" not defined for "+this.toString())}},{key:"_prepareOn",value:function(e,n,r){var o=this;if(r instanceof t){if(r.isDestroyed)throw new Error(h.dictionary.isDestroyed);r._subscriptions.push(this)}if("string"==typeof e&&"all"!==e)if(v.test(e)){var i=e.split(v);i.forEach(function(e){return o._warnForEvent(e)})}else this._warnForEvent(e);else e&&"object"===("undefined"==typeof e?"undefined":l(e))&&Object.keys(e).forEach(function(e){return o._warnForEvent(e)})}},{key:"on",value:function(e,t,n){return this._prepareOn(e,t,n),y.on.apply(this,[e,t,n]),this}},{key:"once",value:function(e,t,n){return this._prepareOn(e,t,n),y.once.apply(this,[e,t,n]),this}},{key:"trigger",value:function(){return this._disableEvents?this:this._trigger.apply(this,arguments)}},{key:"_trigger",value:function(){if(!f.includes(this.constructor._supportedEvents,arguments.length<=0?void 0:arguments[0]))return void(f.includes(this.constructor._ignoredEvents,arguments.length<=0?void 0:arguments[0])||g.error(this.toString()+" ignored "+(arguments.length<=0?void 0:arguments[0])));var e=this._getTriggerArgs.apply(this,arguments);y.trigger.apply(this,e);var t=this.constructor.bubbleEventParent;if(t){var n,o=this[t];o="function"==typeof o?o.apply(this):o,o&&(n=o).trigger.apply(n,r(e))}}},{key:"_getTriggerArgs",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.prototype.slice.call(n);return n[1]?!function(){var t={target:e};o[1]instanceof p||("object"===l(o[1])?Object.keys(o[1]).forEach(function(e){t[e]=o[1][e]}):t.data=o[1],o[1]=new p(t,o[0]))}():o[1]=new p({target:this},o[0]),o}},{key:"_triggerAsync",value:function(){var e=this,t=this._getTriggerArgs.apply(this,arguments);this._delayedTriggers.push(t);var n=1===this._delayedTriggers.length||this._delayedTriggers.length&&this._lastDelayedTrigger+500<Date.now();n&&(this._lastDelayedTrigger=Date.now(),"function"==typeof postMessage&&"undefined"==typeof jasmine?window.postMessage({type:"layer-delayed-event",internalId:this.internalId},"*"):setTimeout(function(){return e._processDelayedTriggers()},0))}},{key:"_foldEvents",value:function(e,t,n){var r=e.length?e[0][1]:null,o=r?r[t]:null;e.forEach(function(e,n){n>0&&(o.push(e[1][t][0]),this._delayedTriggers.splice(this._delayedTriggers.indexOf(e),1))},this),e.length&&n&&(e[0][1].target=n)}},{key:"_foldChangeEvents",value:function(){var e=this,t=this._delayedTriggers.filter(function(e){return e[1].isChange});t.forEach(function(n,r){r>0&&(t[0][1]._mergeChanges(n[1]),e._delayedTriggers.splice(e._delayedTriggers.indexOf(n),1))})}},{key:"_processDelayedTriggers",value:function(){this.isDestroyed||(this._foldChangeEvents(),this._delayedTriggers.forEach(function(e){this.trigger.apply(this,r(e))},this),this._delayedTriggers=[])}},{key:"toString",value:function(){return this.internalId}}]),t}(s);b.prototype.isDestroyed=!1,b.prototype.internalId="",b.prototype.isInitializing=!0,b.prototype._subscriptions=null,b.prototype._disableEvents=!1,b._supportedEvents=["destroy","all"],b._ignoredEvents=[],e.e=b,e.e.initClass=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(12).LOG,a=i.DEBUG,s=i.INFO,u=i.WARN,c=i.ERROR,l=i.NONE,d=n(1),f=d.isEmpty,p=Boolean(console.assert&&console.assert.toString().match(/assert/)),h="color: #888; font-weight: bold;",y="color: black",g=function(){function e(){r(this,e)}return o(e,[{key:"log",value:function(e,t,n,r){if("string"==typeof e){var o=(new Date).toLocaleTimeString();p?console.log("%cLayer%c "+n+"%c ["+o+"]: "+e,h,"color: "+r,y):console.log("Layer "+n+" ["+o+"]: "+e)}else this._logObj(e,n,r);t&&this._logObj(t,n,r)}},{key:"_logObj",value:function(e,t,n){e&&!f(e)&&("Object"===e.constructor.name?p?console.log("%cLayer%c "+t+"%c: "+JSON.stringify(e,null,4),h,"color: "+n,y):console.log("Layer "+t+": "+JSON.stringify(e,null,4)):p?console.log("%cLayer%c "+t+"%c: %O",h,"color: "+n,y,e):console.log("Layer "+t+":",e))}},{key:"debug",value:function(e,t){this.level>=a&&this.log(e,t,"DEBUG","#888")}},{key:"info",value:function(e,t){this.level>=s&&this.log(e,t,"INFO","black")}},{key:"warn",value:function(e,t){this.level>=u&&this.log(e,t,"WARN","orange")}},{key:"error",value:function(e,t){this.level>=c&&this.log(e,t,"ERROR","red")}}]),e}();g.prototype.level="undefined"==typeof jasmine?c:l;var A=new g;e.e=A},function(e,t,n){var r=e.e={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(e,t,n){var r=n(51)("wks"),o=n(53),i=n(8).Symbol;e.e=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=function(){function e(t){var n=this;r(this,e),t instanceof e?t={errType:t.errType,httpStatus:t.httpStatus,message:t.message,code:t.code,url:t.url,data:t.data}:t&&"object"===("undefined"==typeof t?"undefined":o(t))?t.errType=t.id:t={message:t},Object.keys(t).forEach(function(e){return n[e]=t[e]}),this.data||(this.data={})}return i(e,[{key:"getNonce",value:function(){return this.data&&this.data.nonce?this.data.nonce:""}},{key:"toString",value:function(){return this.code+" ("+this.id+"): "+this.message+"; (see "+this.url+")"}},{key:"log",value:function(){a.error("Layer-Error: "+this.toString())}}]),e}();s.prototype.errType="",s.prototype.code=0,s.prototype.url="",s.prototype.message="",s.prototype.httpStatus=0,s.prototype.request=null,s.prototype.data=null,s.prototype.xhr=null,s.dictionary={appIdMissing:"Property missing: appId is required",identityTokenMissing:"Identity Token missing: answerAuthenticationChallenge requires an identity token",sessionTokenMissing:"Session Token missing: _authComplete requires a {session_token: value} input",clientMissing:"Property missing: client is required",conversationMissing:"Property missing: conversation is required",partsMissing:"Property missing: parts is required",moreParticipantsRequired:"Conversation needs participants other than the current user",isDestroyed:"Object is destroyed",urlRequired:"Object needs a url property",invalidUrl:"URL is invalid",invalidId:"Identifier is invalid",idParamRequired:"The ID Parameter is required",wrongClass:"Parameter class error; should be: ",inProgress:"Operation already in progress",cantChangeIfConnected:"You can not change value after connecting",alreadySent:"Already sent or sending",contentRequired:"MessagePart requires rich content for this call",alreadyDestroyed:"This object has already been destroyed",deletionModeUnsupported:"Call to deletion was made with an unsupported deletion mode"},e.e=s},function(e,t,n){"use strict";function r(e){return"[object Array]"===m.call(e)}function o(e){return"[object ArrayBuffer]"===m.call(e)}function i(e){return"[object FormData]"===m.call(e)}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function l(e){return null!==e&&"object"==typeof e}function d(e){return"[object Date]"===m.call(e)}function f(e){return"[object File]"===m.call(e)}function p(e){return"[object Blob]"===m.call(e)}function h(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function g(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(null,e[i],i,e)}function A(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=A(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)g(arguments[n],e);return t}var m=Object.prototype.toString;e.e={isArray:r,isArrayBuffer:o,isFormData:i,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:d,isFile:f,isBlob:p,isStandardBrowserEnv:y,forEach:g,merge:A,trim:h}},function(e,t,n){var r=e.e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,n){var r=n(21);e.e=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(8),o=n(4),i=n(15),a="prototype",s=function(e,t,n){var u,c,l,d=e&s.F,f=e&s.G,p=e&s.S,h=e&s.P,y=e&s.B,g=e&s.W,A=f?o:o[t]||(o[t]={}),m=f?r:p?r[t]:(r[t]||{})[a];f&&(n=t);for(u in n)c=!d&&m&&u in m,c&&u in A||(l=c?m[u]:n[u],A[u]=f&&"function"!=typeof m[u]?n[u]:y&&c?i(l,r):g&&m[u]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((A[a]||(A[a]={}))[u]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.e=s},function(e,t,n){"use strict";function r(e){var t=e.appId;s[t]&&!s[t].isDestroyed&&s[t].destroy(),s[t]=e}function o(e){s[e.appId]&&delete s[e.appId]}function i(e){return s[e]}function a(){return Object.keys(s).map(function(e){return s[e]})}var s={};e.e={get:i,getAll:a,register:r,unregister:o}},function(e,t,n){"use strict";e.e={SYNC_STATE:{NEW:"NEW",SAVING:"SAVING",SYNCING:"SYNCING",SYNCED:"SYNCED",LOADING:"LOADING"},RECIPIENT_STATE:{NONE:"NONE",SOME:"SOME",ALL:"ALL"},RECEIPT_STATE:{SENT:"sent",DELIVERED:"delivered",READ:"read",PENDING:"pending"},LOCALSTORAGE_KEYS:{SESSIONDATA:"layer-session-data-"},ACCEPT:"application/vnd.layer+json; version=1.0",LOG:{DEBUG:4,INFO:3,WARN:2,ERROR:1,NONE:0},DELETION_MODE:{ALL:1}}},function(e,t,n){"use strict";function r(e){if(!e)return{};var t=e.split(","),n={};return t.forEach(function(e){var t=e.split(";");if(2===t.length){var r=t[0].replace(/<(.*)>/,"$1").trim(),o=t[1].replace(/rel='?(.*)'?/,"$1").trim();n[o]=r}}),n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i="undefined"==typeof window?n(148):null;e.e=function(t,n){var a=i?new i:new XMLHttpRequest,s=(t.method||"GET").toUpperCase(),u=function(){var i={"content-type":this.getResponseHeader("content-type")},a={status:this.status,success:this.status&&this.status<300,xhr:this},s=String(i["content-type"]).split(/;/)[0].match(/^application\/json/)||"json"===t.format;if("blob"===this.responseType||"arraybuffer"===this.responseType)a.data="function"==typeof this.response?this.responseText:this.response;else{if(s&&this.responseText)try{a.data=JSON.parse(this.responseText)}catch(u){a.data={code:999,message:"Invalid JSON from server",response:this.responseText},a.status=999}else a.data=this.responseText;e.e.trigger({target:this,status:this.responseText||this.status?"connection:success":"connection:error"}),this.responseText||this.status?404===this.status&&"object"!==o(a.data)?a.data={id:"operation_not_found",message:"Endpoint "+(t.method||"GET")+" "+t.url+" does not exist",status:this.status,httpStatus:404,code:106,url:"https://developer.layer.com/docs/websdk"}:"string"==typeof a.data&&this.status>=400&&(a.data={id:"unknown_error",message:a.data,status:this.status,httpStatus:this.status,code:0,url:"https://developer.layer.com/docs/websdk"}):(a.status=408,a.data={id:"request_timeout",message:"The server is not responding please try again in a few minutes",url:"https://developer.layer.com/docs/websdk",code:0,status:408,httpStatus:408})}if(t.headers&&(t.headers.accept||"").match(/application\/vnd.layer\+json/)){var c=this.getResponseHeader("link");c&&(a.Links=r(c))}a.xhr=this,n&&n(a)};a.onload=u,a.onerror=a.ontimeout=u;var c=Object.keys(t.headers||{}),l={};c.forEach(function(e){"content-type"===e.toLowerCase()?l["content-type"]=t.headers[e]:l[e.toLowerCase()]=t.headers[e]}),t.headers=l;var d="";t.data&&("undefined"!=typeof Blob&&t.data instanceof Blob?d=t.data:t.headers&&(String(t.headers["content-type"]).match(/^application\/json/)||"application/vnd.layer-patch+json"===String(t.headers["content-type"]))?d="string"==typeof t.data?t.data:JSON.stringify(t.data):t.data&&"object"===o(t.data)?Object.keys(t.data).forEach(function(e){d&&(d+="&"),d+=e+"="+t.data[e]}):d=t.data),d&&"GET"===s&&(t.url+="?"+d),a.open(s,t.url,!0),t.timeout&&(a.timeout=t.timeout),t.withCredentials&&(a.withCredentials=!0),t.responseType&&(a.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(function(e){return a.setRequestHeader(e,t.headers[e])});try{"GET"===s?a.send():a.send(d)}catch(f){}};var a=[];e.e.addConnectionListener=function(e){return a.push(e)},e.e.trigger=function(e){a.forEach(function(t){t(e)})}},function(e,t,n){var r={}.toString;e.e=function(e){return r.call(e).slice(8,-1)}},function(e,t,n){var r=n(27);e.e=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.e={}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){i(this,e);var n=void 0;for(n in t)n in this&&(this[n]=t[n]);this.depends||(this.depends=[])}return a(e,[{key:"destroy",value:function(){this.target=null,this.depends=null,this.callback=null,this.data=null}},{key:"_updateData",value:function(){"function"==typeof this.data&&(this.data=this.data())}},{key:"toObject",value:function(){return{data:this.data}}}]),e}();s.prototype.operation="",Object.defineProperty(s.prototype,"isFiring",{enumerable:!0,set:function(e){this.__isFiring=e,e&&(this.__firedAt=Date.now())},get:function(){return Boolean(this.__isFiring&&Date.now()-this.__firedAt<s.FIRING_EXPIRIATION)}}),s.prototype.success=null,s.prototype.callback=null,s.prototype.retryCount=0,s.prototype.target=null,s.prototype.depends=null,s.prototype.data=null,s.FIRING_EXPIRIATION=12e4;var u=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"_getRequestData",value:function(){return this._updateUrl(),this._updateData(),{url:this.url,method:this.method,headers:this.headers,data:this.data}}},{key:"_updateUrl",value:function(){"function"==typeof this.url&&(this.url=this.url())}},{key:"toObject",value:function(){return{data:this.data,url:this.url,method:this.method}}}]),t}(s);u.prototype.timeout=15e3,u.prototype.url="",u.prototype.returnToOnlineCount=0,u.prototype.headers=null,u.prototype.method="GET";var c=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"_getRequestData",value:function(){return this._updateData(),this.data}},{key:"toObject",value:function(){return this.data}}]),t}(s);e.e={SyncEvent:s,XHRSyncEvent:u,WebsocketSyncEvent:c}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){var o={nonce:t,uid:n},i={headers:{Authorization:"Bearer "+r}};return S["default"].post(e,o,i)}function a(e){return e.parts.filter(function(e){return"text/plain"===e.mimeType}).map(function(e){return e.body}).join("")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(136),u=o(s),c=n(88),l=o(c),d=n(87),f=o(d),p=n(26),h=o(p),y=n(86),g=o(y),A=n(89),m=o(A),v=n(90),b=o(v),C=n(92),_=o(C),k=n(91),w=o(k);t.getMessageText=a;var E=n(55),B=o(E),x=n(141),O=o(x),T=n(40),S=o(T),I=n(139),j=o(I),P=n(83),R=r(P),M=function(e){function t(){(0,m["default"])(this,t);var e=(0,_["default"])(this,(0,g["default"])(t).call(this));return e.client=void 0,e.LOG=!1,e._conversationMessagesCache={},e}return(0,w["default"])(t,e),(0,b["default"])(t,[{key:"_initializeQueries",value:function(){var e=this;return new h["default"](function(t,n){e._conversationQuery=e.client.createQuery({model:O["default"].Query.Conversation}),e._messagesQuery=e.client.createQuery({model:O["default"].Query.Message}),e._conversationQuery.on("change",function(t){e.emit("change",e._conversationQuery),e.LOG&&console.log("conversation updated",e._conversationQuery)}),e._messagesQuery.on("change",function(t){e._conversationMessagesCache[e._messagesQuery._predicate]=e._messagesQuery.data,e.emit("change",e._messagesQuery),e.LOG&&console.log("conversation updated",e._conversationQuery)}),e._conversationQuery.once("change:data",function(e){t()})})}},{key:"_getConvoById",value:function(e){return(0,B["default"])(e,"'convoId' must be provided"),(0,B["default"])(this._conversationQuery,"call initialize first"),this._conversationQuery.data.find(function(t){return t.id===e})}},{key:"getConvoByCourseAndRecipient",value:function(e,t){var n=this;(0,B["default"])(this._conversationQuery,"call initialize first");var r=void 0;return(0,f["default"])(this._conversationQuery.data).forEach(function(o){var i=n._conversationQuery.data[o];i.metadata.courseId===e&&~i.participants.indexOf(t)&&(r=i)}),r}},{key:"configure",value:function(e){var t=e.getIdentityTokenUrl,n=e.appId,r=e.LOG,o=void 0!==r&&r;(0,B["default"])(t,"'getIdentityTokenUrl' must be provided"),(0,B["default"])(n,"'appId' must be provided"),this.getIdentityTokenUrl=t,this.appId=n,this.LOG=o}},{key:"connect",value:function(e){var t=this,n=e.userId,r=e.jwt;return(0,B["default"])(this.getIdentityTokenUrl,"'getIdentityTokenUrl' must be set using configure()"),(0,B["default"])(this.appId,"'appId' must be set using configure()"),(0,B["default"])(n,"'userId' (user userId) must be provided"),(0,B["default"])(r,"'jwt' must be provided"),O["default"].Query.MaxRetryCount=2,new h["default"](function(e,o){return t.client?void e():void(t.client=new O["default"].Client({appId:t.appId,userId:n,challenge:function(e){i(""+t.getIdentityTokenUrl,e.nonce,n,r).then(function(t){var n=t.data.identity_token;e.callback(n)})["catch"](o)},ready:function(t){e()}}))}).then(function(){return t._initializeQueries()})}},{key:"getConversations",value:function(){return this._conversationQuery&&this._conversationQuery.data.reduce(function(e,t){return e[t.id]=t,e},{})||{}}},{key:"getConversationMessages",value:function(){return this._conversationMessagesCache}},{key:"selectConversation",value:function(e){var t=this;return(0,B["default"])(e,"'convoId' must be provided"),(0,B["default"])(this._messagesQuery,"call initialize first"),new h["default"](function(n,r){t._messagesQuery.update({predicate:'conversation.id = "'+e+'"'}),n()})}},{key:"createConversation",value:function(e,t,n){var r=this;return(0,B["default"])(e,"'participants' must be provided"),(0,B["default"])(t,"'metadata' must be provided"),(0,B["default"])(void 0!==n,"'distinct' must be provided"),(0,B["default"])(this.client,"call initialize first"),new h["default"](function(o,i){r._conversationQuery.once("change:insert",function(e){o()}),R.createConversation({participants:e,metadata:t,distinct:n})})}},{key:"sendMessage",value:function(e,t){var n=this;return(0,B["default"])(e,"'text' must be provided"),(0,B["default"])(t,"'convoId' must be provided"),new h["default"](function(r,o){var i=n._getConvoById(t),a=i.createMessage(e).send();a.once("messages:sent",function(e){r(),n.emit("change")})})}},{key:"sendImage",value:function(e,t){var n=this;return(0,B["default"])(e,"'file' must be provided"),(0,B["default"])(t,"'convoId' must be provided"),new h["default"](function(r,o){var i=n._getConvoById(t),a=new O["default"].MessagePart({mimeType:e.type,body:e}),s=i.createMessage({parts:[a]}).send();s.once("messages:sent",function(e){r(),n.emit("change")})})}},{key:"getUnreadCount",value:function(e){var t=e.convoId,n=e.courseId,r=e.recipientId;(0,B["default"])(t||n&&r,"'convoId || (courseId && recipientId)' must be provided");var o=void 0;return t?o=this._conversationQuery.data.find(function(e){return e.id===t}):n&&r&&(o=this.getConvoByCourseAndRecipient(n,r)),o&&o.unreadCount}},{key:"markMessageAsRead",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l["default"])(u["default"].mark(function n(e){return u["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(0,B["default"])(e.id,"'message.id' must be provided"),(0,B["default"])(void 0!==e.isRead,"'message.isRead' must be provided"),e.isRead=!0,this.emit("change");case 4:case"end":return t.stop()}},n,this)}));return e}()},{key:"getSessionToken",value:function(){return(0,B["default"])(this.client,"call initialize first"),this.client.sessionToken}}]),t}(j["default"]);t["default"]=new M},function(e,t,n){e.e=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.e=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){e.e=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0).setDesc,o=n(29),i=n(5)("toStringTag");e.e=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(47),o=n(28);e.e=function(e){return r(o(e))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function m(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(2),l=n(61),d=n(58),f=n(6),p=n(12),h=n(1),y=n(11),g=n(3),A=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(r(this,t),e.fromServer?e.id=e.fromServer.id:"isUnread"in e?e.isRead=!e.isUnread&&!e.is_unread:e.isRead=!0,e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error("clientId property required to create a Message");e.conversation&&(e.conversationId=e.conversation.id);var n=e.parts;e.parts=null;var i=o(this,Object.getPrototypeOf(t).call(this,e));i.parts=n;var a=i.getClient();return i.isInitializing=!0,e&&e.fromServer?i._populateFromServer(e.fromServer):(i.sender={userId:"",name:""},i.sentAt=new Date),i.parts||(i.parts=[]),i.localCreatedAt=new Date,i._disableEvents=!0,e.fromServer?i.__updateRecipientStatus(i.recipientStatus):i.recipientStatus={},i._disableEvents=!1,i.isInitializing=!1,e&&e.fromServer&&a._addMessage(i),i}return i(t,e),s(t,[{key:"getClient",value:function(){return y.get(this.clientId)}},{key:"getConversation",value:function(){if(this.conversationId)return y.get(this.clientId).getConversation(this.conversationId)}},{key:"__adjustParts",value:function(e){var t=this;return"string"==typeof e?[new d({body:e,mimeType:"text/plain",clientId:this.clientId})]:Array.isArray(e)?e.map(function(e){var n=void 0;return n=e instanceof d?e:new d(e),n.clientId=t.clientId,n}):e&&"object"===("undefined"==typeof e?"undefined":a(e))?(e.clientId=this.clientId,[new d(e)]):void 0}},{key:"addPart",value:function(e){return e&&(e.clientId=this.clientId,"object"===("undefined"==typeof e?"undefined":a(e))?this.parts.push(new d(e)):e instanceof d&&this.parts.push(e)),this}},{key:"__getRecipientStatus",value:function(e){var t=this,n=this[e]||{},r=this.getClient();return r&&!function(){var e=r.userId,o=t.getConversation();o&&o.participants.forEach(function(t){n[t]||(n[t]=t===e?p.RECEIPT_STATE.READ:p.RECEIPT_STATE.PENDING)})}(),n}},{key:"__updateRecipientStatus",value:function(e,t){var n=this.getConversation(),r=this.getClient();if(n&&!h.doesObjectMatch(e,t)){var o=r.userId,i=this.sender.userId===o,a=e[o]===p.RECEIPT_STATE.READ;try{var s=n.participants.length-1;this.__isRead||!i&&!a||(this.__isRead=!0);var u=this._getReceiptStatus(e,o),c=u.readCount,l=u.deliveredCount;this._setReceiptStatus(c,l,s)}catch(d){}if(!this.isInitializing&&t){var f=a&&t[o]!==p.RECEIPT_STATE.READ;(f||i)&&this._triggerAsync("messages:change",{oldValue:t,newValue:e,property:"recipientStatus"})}}}},{key:"_getReceiptStatus",value:function(e,t){var n=0,r=0;return Object.keys(e).filter(function(e){return e!==t}).forEach(function(t){e[t]===p.RECEIPT_STATE.READ?(n++,r++):e[t]===p.RECEIPT_STATE.DELIVERED&&r++}),{readCount:n,deliveredCount:r}}},{key:"_setReceiptStatus",value:function(e,t,n){e===n?this.readStatus=p.RECIPIENT_STATE.ALL:e>0?this.readStatus=p.RECIPIENT_STATE.SOME:this.readStatus=p.RECIPIENT_STATE.NONE,t===n?this.deliveryStatus=p.RECIPIENT_STATE.ALL:t>0?this.deliveryStatus=p.RECIPIENT_STATE.SOME:this.deliveryStatus=p.RECIPIENT_STATE.NONE}},{key:"__updateIsRead",value:function(e){if(e){this._sendReceipt(p.RECEIPT_STATE.READ),this._triggerAsync("messages:read");var t=this.getConversation();t&&t.unreadCount--}}},{key:"sendReceipt",value:function(){var e=arguments.length<=0||void 0===arguments[0]?p.RECEIPT_STATE.READ:arguments[0];if(e===p.RECEIPT_STATE.READ){if(this.isRead)return this;this.__isRead=!0,this._triggerAsync("messages:read");var t=this.getConversation();t&&t.unreadCount--}return this._sendReceipt(e),this}},{key:"_sendReceipt",value:function(e){var t=this;0!==this.getConversation().participants.length&&(this._setSyncing(),this._xhr({url:"/receipts",method:"POST",data:{type:e},sync:{operation:"RECEIPT"}},function(){return t._setSynced()}))}},{key:"send",value:function(e){var t=this.getClient(),n=this.getConversation();if(this.syncState!==p.SYNC_STATE.NEW)throw new Error(f.dictionary.alreadySent);if(!n)throw new Error(f.dictionary.conversationMissing);if(!this.parts||!this.parts.length)throw new Error(f.dictionary.partsMissing);this.sender.userId=t.userId,this._setSyncing(),t._addMessage(this),n.send(this),this.trigger("messages:sending");var r={parts:new Array(this.parts.length)};return e&&(r.notification=e),this._preparePartsForSending(r),this}},{key:"_preparePartsForSending",value:function(e){var t=this,n=this.getClient(),r=0;this.parts.forEach(function(o,i){o.once("parts:send",function(n){e.parts[i]={mime_type:n.mime_type},n.content&&(e.parts[i].content=n.content),n.body&&(e.parts[i].body=n.body),n.encoding&&(e.parts[i].encoding=n.encoding),r++,r===t.parts.length&&t._send(e)},t),o._send(n)})}},{key:"_send",value:function(e){var t=this,n=this.getClient(),r=this.getConversation();this.sentAt=new Date,n.sendSocketRequest({method:"POST",body:function(){return{method:"Message.create",object_id:r.id,data:e}},sync:{depends:[this.conversationId,this.id],target:this.id}},function(e,n){return t._sendResult(e,n)})}},{key:"_sendResult",value:function(e){var t=e.success,n=e.data;this.isDestroyed||(t?(this._populateFromServer(n),this._triggerAsync("messages:sent")):(this.trigger("messages:sent-error",{error:n}),this.destroy()),this._setSynced())}},{key:"on",value:function(e,n,r){var o="messages:loaded"===e||e&&"object"===("undefined"==typeof e?"undefined":a(e))&&e["messages:loaded"];return o&&!this.isLoading&&!function(){var t="messages:loaded"===e?n:e["messages:loaded"];h.defer(function(){return t.apply(r)})}(),u(Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"delete",value:function(e){var n=this;if(this.isDestroyed)throw new Error(f.dictionary.isDestroyed);var r="true";if(e===!0&&(g.warn("Calling Message.delete without a mode is deprecated"),e=p.DELETION_MODE.ALL),!e||e!==p.DELETION_MODE.ALL)throw new Error(f.dictionary.deletionModeUnsupported);return this.syncState!==p.SYNC_STATE.NEW&&!function(){var e=n.id,o=n.getClient();n._xhr({url:"?destroy="+r,method:"DELETE"},function(n){n.success||t.load(e,o)})}(),this._deleted(),this.destroy(),this}},{key:"_deleted",value:function(){this.trigger("messages:delete")}},{key:"destroy",value:function(){this.getClient()._removeMessage(this),this.parts.forEach(function(e){return e.destroy()}),this.__parts=null,u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.id;this.id=e.id,this.url=e.url,this.position=e.position,this.parts&&this.parts.forEach(function(e,n){e.id||(e.id=t.id+"/parts/"+n)}),this.parts=e.parts.map(function(e){var n=t.getPartById(e.id);return n?(n._populateFromServer(e),n):d._createFromServer(e)}),this.recipientStatus=e.recipient_status||{},this.isRead=!e.is_unread,this.sentAt=new Date(e.sent_at),this.receivedAt=e.received_at?new Date(e.received_at):void 0,this.sender={userId:e.sender.user_id||"",name:e.sender.name||""},this._setSynced(),n&&n!==this.id&&(this._tempId=n,this.getClient()._updateMessageId(this,n),this._triggerAsync("messages:change",{oldValue:n,newValue:this.id,property:"id"}))}},{key:"getPartById",value:function(e){return this.parts?this.parts.filter(function(t){return t.id===e})[0]:null}},{key:"_handlePatchEvent",value:function(e,t,n){this._inLayerParser=!1,0===n[0].indexOf("recipient_status")&&this.__updateRecipientStatus(this.recipientStatus,t),this._inLayerParser=!0}},{key:"_xhr",value:function(e,t){var n=e.url,r=this.getClient(),o=this.getConversation();if(this.isDestroyed)throw new Error(f.dictionary.isDestroyed);if(!("url"in e))throw new Error(f.dictionary.urlRequired);if(!o)throw new Error(f.dictionary.conversationMissing);n&&!n.match(/^(\/|\?)/)&&(e.url=n="/"+e.url),e.sync=this._setupSyncObject(e.sync);var i=function(){return this.url+(n||"")}.bind(this);return this.url?e.url=i():e.url=i,r.xhr(e,t),this}},{key:"_setupSyncObject",value:function(e){return e!==!1&&(e||(e={}),e.target||(e.target=this.id),e.depends?e.depends.indexOf(this.id)===-1&&e.depends.push(this.conversationId):e.depends=[this.conversationId]),e}},{key:"getText",value:function(){var e=arguments.length<=0||void 0===arguments[0]?". ":arguments[0],t=this.parts.filter(function(e){return"text/plain"===e.mimeType}).map(function(e){return e.body});return t=t.filter(function(e){return e}),t.join(e)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=u(Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.recipientStatus=h.clone(this.recipientStatus),this._toObject.isNew=this.isNew(),this._toObject.isSaving=this.isSaving(),this._toObject.isSaved=this.isSaved(),this._toObject.isSynced=this.isSynced()),this._toObject}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),u(Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),u(Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}}],[{key:"_createFromServer",value:function(e,n){if(!(n instanceof c))throw new Error(f.dictionary.conversationMissing);var r=n.getClient(),o=r.getMessage(e.id),i=void 0;if(o)i=o,i._populateFromServer(e);else{var a=e.fromWebsocket;i=new t({fromServer:e,conversationId:n.id,clientId:r.appId,_notify:a&&e.is_unread&&e.sender.user_id!==r.userId})}var s=i.recipientStatus[r.userId];return s!==p.RECEIPT_STATE.READ&&s!==p.RECEIPT_STATE.DELIVERED&&i._sendReceipt("delivery"),{message:i,"new":!o}}},{key:"load",value:function(e,n){var r=this;if(!(n&&n instanceof c))throw new Error(f.dictionary.clientMissing);if(0!==e.indexOf("layer:///messages/"))throw new Error(f.dictionary.invalidId);var o=new t({id:e,url:n.url+e.substring(8),clientId:n.appId});return o.syncState=p.SYNC_STATE.LOADING,n.xhr({url:o.url,method:"GET",sync:!1},function(e){return r._loadResult(o,n,e)}),o}},{key:"_loadResult",value:function(e,t,n){n.success?this._loadSuccess(e,t,n.data):(e.syncState=p.SYNC_STATE.NEW,e._triggerAsync("messages:loaded-error",{error:n.data}),setTimeout(function(){return e.destroy()},100))}},{key:"_loadSuccess",value:function(e,t,n){e._populateFromServer(n),e.conversationId=n.conversation.id,e._triggerAsync("messages:loaded")}},{key:"_loadResourceForPatch",value:function(e){return!1}}]),t}(l);A.prototype.clientId="",A.prototype.conversationId="",A.prototype.parts=null,A.prototype.id="",A.prototype.url="",A.prototype.sentAt=null,A.prototype.receivedAt=null,A.prototype.sender=null,A.prototype.position=0,A.prototype._notify=!1,A.prototype.recipientStatus=null,A.prototype.isRead=!1,Object.defineProperty(A.prototype,"isUnread",{enumerable:!0,get:function(){return!this.isRead}}),A.prototype.readStatus=p.RECIPIENT_STATE.NONE,A.prototype.deliveryStatus=p.RECIPIENT_STATE.NONE,A.prototype._tempId="",A.prototype.localCreatedAt=null,A.prototype._toObject=null,A.prefixUUID="layer:///messages/",A.inObjectIgnore=l.inObjectIgnore,A.bubbleEventParent="getClient",A.imageTypes=["image/gif","image/png","image/jpeg","image/jpg"],A._supportedEvents=["messages:loaded","messages:loaded-error","messages:delete","messages:sending","messages:sent","messages:sent-error","messages:read","messages:change"].concat(l._supportedEvents),c.initClass.apply(A,[A,"Message"]),e.e=A},function(e,t,n){"use strict";e.e={STARTED:"started",PAUSED:"paused",FINISHED:"finished"}},function(e,t,n){e.e={"default":n(100),__esModule:!0}},function(e,t,n){e.e=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.e=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r={}.hasOwnProperty;e.e=function(e,t){return r.call(e,t)}},function(e,t,n){var r=n(0),o=n(32);e.e=n(19)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.e=!0},function(e,t,n){e.e=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.e=n(30)},function(e,t,n){var r=n(28);e.e=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function v(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:v(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(61),l=n(24),d=n(6),f=n(1),p=n(12),h=n(2),y=n(36),g=n(11),A=n(3),m=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),e.participants||(e.participants=[]),e.metadata||(e.metadata={}),e.fromServer&&(e.id=e.fromServer.id),e.client&&(e.clientId=e.client.appId);var n=o(this,Object.getPrototypeOf(t).call(this,e));n.isInitializing=!0;var i=n.getClient();return e&&e.fromServer?n._populateFromServer(e.fromServer):i&&n.participants.indexOf(i.userId)===-1&&n.participants.push(i.userId),n.localCreatedAt=new Date,i&&i._addConversation(n),n.isInitializing=!1,n}return i(t,e),s(t,[{key:"destroy",value:function(){this.lastMessage=null,this.clientId&&this.getClient()._removeConversation(this),u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.participants=null,this.metadata=null}},{key:"getClient",value:function(){return g.get(this.clientId)}},{key:"send",value:function(e){var t=this,n=this.getClient();if(!n)throw new Error(d.dictionary.clientMissing);if(this._sendDistinctEvent)return this._handleLocalDistinctConversation();if(e&&(e.position=this.lastMessage?this.lastMessage.position+1:0,this.lastMessage=e),this.syncState!==p.SYNC_STATE.NEW)return this;if(this.participants.indexOf(n.userId)===-1&&this.participants.push(n.userId),1===this.participants.length)throw new Error(d.dictionary.moreParticipantsRequired);return this._setSyncing(),n.sendSocketRequest({method:"POST",body:function(){return{method:"Conversation.create",data:this._getPostData()}}.bind(this),sync:{depends:this.id,target:this.id}},function(e){return t._createResult(e)}),this}},{key:"_handleLocalDistinctConversation",value:function(){var e=this._sendDistinctEvent;return this._sendDistinctEvent=null,this._triggerAsync("conversations:sent",e),this}},{key:"_getPostData",value:function(){var e=f.isEmpty(this.metadata);return{participants:this.participants,distinct:this.distinct,metadata:e?null:this.metadata}}},{key:"_createResult",value:function(e){var n=e.success,r=e.data;this.isDestroyed||(n?this._createSuccess(r):"conflict"===r.id?(this._populateFromServer(r.data),this._triggerAsync("conversations:sent",{result:t.FOUND_WITHOUT_REQUESTED_METADATA})):(this.trigger("conversations:sent-error",{error:r}),this.destroy()))}},{key:"_createSuccess",value:function(e){this._populateFromServer(e),this.distinct?this._triggerAsync("conversations:sent",{result:this.lastMessage?t.FOUND:t.CREATED}):this._triggerAsync("conversations:sent",{result:t.CREATED})}},{key:"_populateFromServer",value:function(e){var t=this.getClient();this._disableEvents=this.syncState===p.SYNC_STATE.NEW,this._setSynced();var n=this.id;this.id=e.id,n!==this.id&&(this._tempId=n,t._updateConversationId(this,n),this._triggerAsync("conversations:change",{oldValue:n,newValue:this.id,property:"id"})),this.url=e.url,this.participants=e.participants,this.distinct=e.distinct,this.createdAt=new Date(e.created_at),this.metadata=e.metadata,this.unreadCount=e.unread_message_count,this.isCurrentParticipant=this.participants.indexOf(t.userId)!==-1,t._addConversation(this),e.last_message?this.lastMessage=l._createFromServer(e.last_message,this).message:this.lastMessage=null,this._disableEvents=!1}},{key:"addParticipants",value:function(e){var t=this,n=e.filter(function(e){return t.participants.indexOf(e)===-1});return this._patchParticipants({add:n,remove:[]}),this}},{key:"removeParticipants",value:function(e){var t=this,n=this.participants.concat([]).sort(),r=e.filter(function(e){return t.participants.indexOf(e)!==-1}).sort();if(JSON.stringify(n)===JSON.stringify(r))throw new Error(d.dictionary.moreParticipantsRequired);return this._patchParticipants({add:[],remove:r}),this}},{key:"replaceParticipants",value:function(e){if(!e||!e.length)throw new Error(d.dictionary.moreParticipantsRequired);var t=this._getParticipantChange(e,this.participants);return this._patchParticipants(t),this}},{key:"_patchParticipants",value:function(e){var t=this;this._applyParticipantChange(e),this.isCurrentParticipant=this.participants.indexOf(this.getClient().userId)!==-1;var n=[];e.remove.forEach(function(e){n.push({operation:"remove",property:"participants",value:e})}),e.add.forEach(function(e){n.push({operation:"add",property:"participants",value:e})}),this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t._load()})}},{key:"_applyParticipantChange",value:function(e){var t=[].concat(this.participants);e.add.forEach(function(e){t.indexOf(e)===-1&&t.push(e)}),e.remove.forEach(function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}),this.participants=t}},{key:"delete",value:function(e){var n=this.id,r="true";if(e===!0&&(A.warn("Calling Message.delete without a mode is deprecated"),e=p.DELETION_MODE.ALL),!e||e!==p.DELETION_MODE.ALL)throw new Error(d.dictionary.deletionModeUnsupported);var o=this.getClient();this._xhr({method:"DELETE",url:"?destroy="+r},function(e){e.success||t.load(n,o)}),this._deleted(),this.destroy()}},{key:"_deleted",value:function(){this.trigger("conversations:delete")}},{key:"createMessage",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new l(t)}},{key:"_handlePatchEvent",value:function(e,t,n){this._inLayerParser=!1;try{var r=this._disableEvents;this._disableEvents=!1,0===n[0].indexOf("metadata")?this.__updateMetadata(e,t,n):"participants"===n[0]&&this.__updateParticipants(e,t),this._disableEvents=r}catch(o){}this._inLayerParser=!0}},{key:"_getParticipantChange",value:function(e,t){var n={};return n.add=e.filter(function(e){return t.indexOf(e)===-1}),n.remove=t.filter(function(t){return e.indexOf(t)===-1}),n}},{key:"setMetadataProperties",value:function(e){var t=this,n=[];return Object.keys(e).forEach(function(t){var r=t;t&&("metadata"!==t&&0!==t.indexOf("metadata.")&&(r="metadata."+t),n.push({operation:"set",property:r,value:e[t]}))}),this._inLayerParser=!0,f.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t._load()}),this}},{key:"deleteMetadataProperties",value:function(e){var t=this,n=[];return e.forEach(function(e){"metadata"!==e&&0!==e.indexOf("metadata.")&&(e="metadata."+e),n.push({operation:"delete",property:e})},this),this._inLayerParser=!0,f.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t._load()}),this}},{key:"_xhr",value:function(e,t){var n=this,r=e.url,o=this.getClient();if(this.isDestroyed)throw new Error(d.dictionary.isDestroyed);if(!o)throw new Error(d.dictionary.clientMissing);if(!("url"in e))throw new Error(d.dictionary.urlRequired);if("POST"!==e.method&&this.syncState===p.SYNC_STATE.NEW)return this;e.url&&!e.url.match(/^(\/|\?)/)&&(e.url="/"+e.url),e.sync!==!1&&(e.sync||(e.sync={}),e.sync.target||(e.sync.target=this.id)),r=e.url;var i=function(){return n.url+(r||"")};return this.url?e.url=i():e.url=i,e.method&&"GET"!==e.method&&this._setSyncing(),o.xhr(e,function(r){e.method&&"GET"!==e.method&&!n.isDestroyed&&n._setSynced(),t&&t(r)}),this}},{key:"_load",value:function(){var e=this;this.syncState=p.SYNC_STATE.LOADING,this._xhr({url:"",method:"GET",sync:!1},function(t){return e._loadResult(t)})}},{key:"_loadResult",value:function(e){e.success?(this._populateFromServer(e.data),this.getClient()._addConversation(this),this.trigger("conversations:loaded")):(this.syncState=p.SYNC_STATE.NEW,this.trigger("conversations:loaded-error",{error:e.data}),this.destroy())}},{key:"on",value:function(e,n,r){var o="conversations:loaded"===e||e&&"object"===("undefined"==typeof e?"undefined":a(e))&&e["conversations:loaded"];return o&&!this.isLoading&&!function(){var t="conversations:loaded"===e?n:e["conversations:loaded"];f.defer(function(){return t.apply(r)})}(),u(Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"__adjustUnreadCount",value:function(e){if(e<0)return 0}},{key:"__updateUnreadCount",value:function(e,t){var n=this;this._inLayerParser?(void 0===this._oldUnreadCount&&(this._oldUnreadCount=t),this._updateUnreadCountTimeout&&clearTimeout(this._updateUnreadCountTimeout),this._updateUnreadCountTimeout=setTimeout(function(){return n._updateUnreadCountEvent()},1e3)):this._updateUnreadCountEvent()}},{key:"_updateUnreadCountEvent",value:function(){if(!this.isDestroyed){var e=this._oldUnreadCount,t=this.__unreadCount;this._oldUnreadCount=void 0,t!==e&&this._triggerAsync("conversations:change",{newValue:t,oldValue:e,property:"unreadCount"})}}},{key:"__updateLastMessage",value:function(e,t){e&&t&&e.id===t.id||this._triggerAsync("conversations:change",{property:"lastMessage",newValue:e,oldValue:t})}},{key:"__updateParticipants",value:function(e,t){if(!this._inLayerParser){var n=this._getParticipantChange(e,t);(n.add.length||n.remove.length)&&(n.property="participants",n.oldValue=t,n.newValue=e,this._triggerAsync("conversations:change",n))}}},{key:"__updateMetadata",value:function(e,t,n){this._inLayerParser||JSON.stringify(e)!==JSON.stringify(t)&&this._triggerAsync("conversations:change",{property:"metadata",newValue:e,oldValue:t,paths:n})}},{key:"toObject",value:function(){return this._toObject||(this._toObject=u(Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.metadata=f.clone(this.metadata),this._toObject.isNew=this.isNew(),this._toObject.isSaving=this.isSaving(),this._toObject.isSaved=this.isSaved(),this._toObject.isSynced=this.isSynced()),this._toObject}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),u(Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),u(Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}}],[{key:"_createFromServer",value:function(e,n){var r=void 0;if(!(n instanceof h))throw new Error(d.dictionary.clientMissing);var o=n.getConversation(e.id);return o?(r=o,r._populateFromServer(e)):r=new t({client:n,fromServer:e}),{conversation:r,"new":!o}}},{key:"load",value:function(e,n){if(!n)throw new Error(d.dictionary.clientMissing);var r=new t({url:n.url+e.substring(8),id:e,client:n});return r._load(),r}},{key:"create",value:function(e){if(!e.client)throw new Error(d.dictionary.clientMissing);if(e.distinct){var n=this._createDistinct(e);if(n)return n}return new t(e)}},{key:"_createDistinct",value:function(e){e.participants.indexOf(e.client.userId)===-1&&e.participants.push(e.client.userId);var n=e.participants.sort(),r=n.join(","),o=e.client.findCachedConversation(function(e){if(e.distinct&&e.participants.length===n.length){var t=e.participants.sort();return t.join(",")===r}});if(o)return o._sendDistinctEvent=new y({target:o,result:!e.metadata||f.doesObjectMatch(e.metadata,o.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"conversations:sent"),o}},{key:"_loadResourceForPatch",value:function(e){return!0}}]),t}(c);m.prototype.participants=null,m.prototype.clientId="",m.prototype.createdAt=null,m.prototype.id="",m.prototype.url="",m.prototype.unreadCount=0,m.prototype.distinct=!0,m.prototype.metadata=null,m.prototype.localCreatedAt=null,m.prototype.isCurrentParticipant=!0,m.prototype.lastMessage=null,m.prototype._toObject=null,m.prototype._sendDistinctEvent=null,m.prototype._tempId="",m.prefixUUID="layer:///conversations/",m.bubbleEventParent="getClient",m.CREATED="Created",m.FOUND="Found",m.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",m._supportedEvents=["conversations:sent","conversations:sent-error","conversations:loaded","conversations:loaded-error","conversations:delete","conversations:change"].concat(c._supportedEvents),h.initClass.apply(m,[m,"Conversation"]),e.e=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var o=this;r(this,e);var i=this;n.match(/:change$/)?(this.changes=[{}],i=this.changes[0],this.isChange=!0):this.isChange=!1,Object.keys(t).forEach(function(e){i!==o&&"target"===e?o.target=t.target:i[e]=t[e]}),this.eventName=n}return o(e,[{key:"hasProperty",value:function(e){return!!this.isChange&&Boolean(this.changes.filter(function(t){return t.property===e}).length)}},{key:"getChangesFor",value:function(e){return this.isChange?this.changes.filter(function(t){return t.property===e}):[]}},{key:"_mergeChanges",value:function(e){this.changes=this.changes.concat(e.changes)}}]),e}();i.prototype.isChange=!1,i.prototype.changes=null,i.prototype.target=null,i.prototype.eventName="",e.e=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function A(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:A(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(2),l=n(6),d=n(1),f=n(3),p="Conversation",h="Message",y=new RegExp(/^conversation.id\s*=\s*['"]((temp_)?layer:\/\/\/conversations\/.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),g=function(e){function t(){o(this,t);var e=void 0;if(2===arguments.length?(e=(arguments.length<=1?void 0:arguments[1]).build(),e.client=arguments.length<=0?void 0:arguments[0]):e=arguments.length<=0?void 0:arguments[0],"paginationWindow"in e){var n=e.paginationWindow;e.paginationWindow=Math.min(t.MaxPageSize,e.paginationWindow),e.paginationWindow!==n&&f.warn("paginationWindow value "+n+" in Query constructor excedes Query.MaxPageSize of "+t.MaxPageSize)}var r=i(this,Object.getPrototypeOf(t).call(this,e));if(r.data=[],r._initialPaginationWindow=r.paginationWindow,!r.client)throw new Error(l.dictionary.clientMissing);return r.client.on("all",r._handleChangeEvents,r),r.client.isReady?r._run():r.client.once("ready",function(){return r._run()},r),r}return a(t,e),s(t,[{key:"destroy",value:function(){this.client.off(null,null,this),this.client._removeQuery(this),this.data=null,u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=void 0,r=void 0,o="function"==typeof e.build?e.build():e;return"paginationWindow"in o&&this.paginationWindow!==o.paginationWindow&&(this.paginationWindow=Math.min(t.MaxPageSize+this.size,o.paginationWindow),this.paginationWindow<o.paginationWindow&&f.warn("paginationWindow value "+o.paginationWindow+" in Query.update() increases size greater than Query.MaxPageSize of "+t.MaxPageSize),n=!0),"predicate"in o&&this.predicate!==o.predicate&&(this.predicate=o.predicate||"",r=!0),"model"in o&&this.model!==o.model&&(this.model=o.model,r=!0),"sortBy"in o&&JSON.stringify(this.sortBy)!==JSON.stringify(o.sortBy)&&(this.sortBy=o.sortBy,r=!0),r&&this._reset(),(r||n)&&this._run(),this}},{key:"_reset",value:function(){this.totalSize=0;var e=this.data;this.data=[],this.client._checkCache(e),this.isFiring=!1,this._predicate=null,this.paginationWindow=this._initialPaginationWindow,this._triggerChange({data:[],type:"reset"})}},{key:"reset",value:function(){this._reset(),this._run()}},{key:"_run",value:function(){var e=Math.min(this.paginationWindow-this.size,t.MaxPageSize);if(e<0){var n=this.data.slice(this.paginationWindow);this.data=this.data.slice(0,this.paginationWindow),this.client._checkCache(n),this._triggerAsync("change",{data:[]})}else 0===e||(this.model===p?this._runConversation(e):this.model===h&&this.predicate&&this._runMessage(e))}},{key:"_runConversation",value:function(e){var t=this,n=this.data[this.data.length-1],r=n?this._getInstance(n):null,o=r&&r.isSaved()?"&from_id="+r.id:"",i=this._getSortField();this.isFiring=!0;var a=this._firingRequest="conversations?sort_by="+i+"&page_size="+e+o;this.client.xhr({url:a,method:"GET",sync:!1},function(e){return t._processRunResults(e,a)})}},{key:"_getSortField",value:function(){return this.model===h?"position":this.sortBy&&this.sortBy[0]&&this.sortBy[0]["lastMessage.sentAt"]?"last_message":"created_at"}},{key:"_getConversationPredicateIds",value:function(){if(this.predicate.match(y)){var e=this.predicate.replace(y,"$1"),t=(this._predicate||e).replace(/^(temp_)?layer\:\/\/\/conversations\//,"");if(t)return{uuid:t,id:e}}}},{key:"_runMessage",value:function(e){var t=this,n=this.data[this.data.length-1],r=n?this._getInstance(n):null,o=r&&r.isSaved()?"&from_id="+r.id:"",i=this._getConversationPredicateIds();i?!function(){var r="layer:///conversations/"+i.uuid;t._predicate||(t._predicate=i.id);var a=t.client.getConversation(r);a&&a.lastMessage&&n&&n.id===a.lastMessage.id&&(o="");var s="conversations/"+i.uuid+"/messages?page_size="+e+o;t._predicate.match(/temp_/)||s===t._firingRequest||(t.isFiring=!0,t._firingRequest=s,t.client.xhr({url:s,method:"GET",sync:!1},function(e){return t._processRunResults(e,s)})),0===t.data.length&&a&&a.lastMessage&&(t.data=[t._getData(a.lastMessage)],t._triggerChange({type:"data",data:t._getData(a.lastMessage),
query:t,target:t.client}))}():this.predicate.match(/['"]/)||f.error("This query may need to quote its value")}},{key:"_processRunResults",value:function(e,n){var r=this;n!==this._firingRequest||this.isDestroyed||(this.isFiring=!1,this._firingRequest="",e.success?e.data.length?(this._retryCount=0,this._appendResults(e),this.totalSize=Number(e.xhr.getResponseHeader("Layer-Count")||0),"true"===e.xhr.getResponseHeader("Layer-Conversation-Is-Syncing")&&this.data.length<this.paginationWindow&&setTimeout(function(){return r._run()},1500)):0===this.size&&(this._retryCount<t.MaxRetryCount?setTimeout(function(){r._retryCount++,r._run()},1500):(this._retryCount=0,this._triggerChange({type:"data",data:[],query:this,target:this.client}))):this.trigger("error",{error:e.data}))}},{key:"_appendResults",value:function(e){var n=this;e.data.forEach(function(e){return n.client._createObject(e)});var r=e.data.filter(function(e){return n._getIndex(e.id)===-1});this.dataType===t.ObjectDataType&&(this.data=[].concat(this.data));var o=this.data;r.forEach(function(e){var t=void 0,r=n.client._getObject(e.id);t=n.model===h?n._getInsertMessageIndex(r,o):n._getInsertConversationIndex(r,o),o.splice(t,0,n._getData(r))}),this._triggerChange({type:"data",data:e.data.map(function(e){return n._getData(n.client._getObject(e.id))}),query:this,target:this.client})}},{key:"_getData",value:function(e){return this.dataType===t.ObjectDataType?e.toObject():e}},{key:"_getInstance",value:function(e){return e instanceof c?e:this.client._getObject(e.id)}},{key:"_getItem",value:function(e){switch(d.typeFromID(e)){case"messages":if(this.model===h){var t=this._getIndex(e);return t===-1?null:this.data[t]}if(this.model===p){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(n.lastMessage&&n.lastMessage.id===e)return n.lastMessage}return null}break;case"conversations":if(this.model===p){var t=this._getIndex(e);return t===-1?null:this.data[t]}}}},{key:"_getIndex",value:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].id===e)return t;return-1}},{key:"_handleChangeEvents",value:function(e,t){this.model===p?this._handleConversationEvents(t):this._handleMessageEvents(t)}},{key:"_handleConversationEvents",value:function(e){switch(e.eventName){case"conversations:change":this._handleConversationChangeEvent(e);break;case"conversations:add":this._handleConversationAddEvent(e);break;case"conversations:remove":this._handleConversationRemoveEvent(e)}}},{key:"_handleConversationChangeEvent",value:function(e){var n=this._getIndex(e.target.id);if(this.dataType===t.ObjectDataType){var o=e.getChangesFor("id");o.length&&(n=this._getIndex(o[0].oldValue))}if(n!==-1){var i=this._getSortField(),a=e.hasProperty("lastMessage")&&"last_message"===i;this.dataType===t.ObjectDataType?a?(this.data.splice(n,1),this.data=[e.target.toObject()].concat(r(this.data))):this.data=[].concat(r(this.data.slice(0,n)),[e.target.toObject()],r(this.data.slice(n+1))):a&&(this.data.splice(n,1),this.data.unshift(e.target)),this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes})}}},{key:"_getInsertConversationIndex",value:function(e,t){var n=this._getSortField(),r=void 0;if("created_at"===n){for(r=0;r<t.length&&!(e.createdAt>=t[r].createdAt);r++);return r}var o=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(r=0;r<t.length;r++){var i=t[r].lastMessage?t[r].lastMessage.sentAt:t[r].createdAt;if(o>=i)break}return r}},{key:"_getInsertMessageIndex",value:function(e,t){var n=void 0;for(n=0;n<t.length&&!(e.position>t[n].position);n++);return n}},{key:"_handleConversationAddEvent",value:function(e){var n=this,r=e.conversations.filter(function(e){return n._getIndex(e.id)===-1});r.length&&!function(){var e=n.data;r.forEach(function(t){var r=n._getInsertConversationIndex(t,e);e.splice(r,0,n._getData(t))}),n.dataType===t.ObjectDataType&&(n.data=[].concat(e)),n.totalSize+=r.length,r.forEach(function(e){var t=n._getData(e);n._triggerChange({type:"insert",index:n.data.indexOf(t),target:t,query:n})})}()}},{key:"_handleConversationRemoveEvent",value:function(e){var n=this,o=[];e.conversations.forEach(function(e){var i=n._getIndex(e.id);i!==-1&&(o.push({data:e,index:i}),n.dataType===t.ObjectDataType?n.data=[].concat(r(n.data.slice(0,i)),r(n.data.slice(i+1))):n.data.splice(i,1))}),this.totalSize-=o.length,o.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}},{key:"_handleMessageEvents",value:function(e){switch(e.eventName){case"conversations:change":this._handleMessageConvIdChangeEvent(e);break;case"messages:change":case"messages:read":this._handleMessageChangeEvent(e);break;case"messages:add":this._handleMessageAddEvent(e);break;case"messages:remove":this._handleMessageRemoveEvent(e)}}},{key:"_handleMessageConvIdChangeEvent",value:function(e){var t=e.getChangesFor("id");t.length&&this._predicate===t[0].oldValue&&(this._predicate=t[0].newValue,this.predicate="conversation.id = '"+this._predicate+"'",this._run())}},{key:"_handleMessagePositionChange",value:function(e,t){if(t===-1)return!1;var n=[].concat(r(this.data.slice(0,t)),r(this.data.slice(t+1))),o=this._getInsertMessageIndex(e.target,n);return o!==t?(n.splice(o,0,this._getData(e.target)),this.data=n,this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes}),!0):void 0}},{key:"_handleMessageChangeEvent",value:function(e){var n=this._getIndex(e.target.id),o=e.getChangesFor("id");o.length&&(this.dataType===t.ObjectDataType&&(n=this._getIndex(o[0].oldValue)),this._handleMessagePositionChange(e,n))||e.target.conversationId===this._predicate&&n!==-1&&(this.dataType===t.ObjectDataType&&(this.data=[].concat(r(this.data.slice(0,n)),[e.target.toObject()],r(this.data.slice(n+1)))),this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes}))}},{key:"_handleMessageAddEvent",value:function(e){var n=this,r=e.messages.filter(function(e){return e.conversationId===n._predicate}).filter(function(e){return n._getIndex(e.id)===-1}).map(function(e){return n._getData(e)});r.length&&!function(){var e=n.data=n.dataType===t.ObjectDataType?[].concat(n.data):n.data;r.forEach(function(t){var r=n._getInsertMessageIndex(t,e);e.splice(r,0,t)}),n.totalSize+=r.length,r.forEach(function(e){n._triggerChange({type:"insert",index:n.data.indexOf(e),target:e,query:n})})}()}},{key:"_handleMessageRemoveEvent",value:function(e){var n=this,o=[];e.messages.forEach(function(e){var i=n._getIndex(e.id);i!==-1&&(o.push({data:e,index:i}),n.dataType===t.ObjectDataType?n.data=[].concat(r(n.data.slice(0,i)),r(n.data.slice(i+1))):n.data.splice(i,1))}),this.totalSize-=o.length,o.forEach(function(e){n._triggerChange({type:"remove",target:n._getData(e.data),index:e.index,query:n})})}},{key:"_triggerChange",value:function(e){this.trigger("change",e),this.trigger("change:"+e.type,e)}}]),t}(c);g.prefixUUID="layer:///queries/",g.Conversation=p,g.Message=h,g.ObjectDataType="object",g.InstanceDataType="instance",g.MaxPageSize=100,Object.defineProperty(g.prototype,"size",{enumerable:!0,get:function(){return this.data?this.data.length:0}}),g.prototype.totalSize=0,g.prototype.client=null,g.prototype.data=null,g.prototype.model=p,g.prototype.returnType="object",g.prototype.dataType=g.InstanceDataType,g.prototype.paginationWindow=100,g.prototype.sortBy=null,g.prototype._initialPaginationWindow=100,g.prototype.predicate=null,g.prototype.isFiring=!1,g.prototype._firingRequest="",g.prototype._retryCount=0,g.MaxRetryCount=0,g._supportedEvents=["change","change:data","change:reset","change:property","change:insert","change:remove","error"].concat(c._supportedEvents),c.initClass.apply(g,[g,"Query"]),e.e=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=2500,a=n(25),s=a.STARTED,u=a.PAUSED,c=a.FINISHED,l=n(11),d=function(){function e(t){r(this,e),this.clientId=t.clientId,t.conversation&&(this.conversation=this._getClient().getConversation(t.conversation.id)),this.state=c,this._lastMessageTime=0}return o(e,[{key:"setConversation",value:function(e){this.setState(c),this.conversation=e?this._getClient().getConversation(e.id):null,this.state=c}},{key:"setState",value:function(e){if(this._pauseLoopId&&(clearInterval(this._pauseLoopId),this._pauseLoopId=0),this.conversation){if(this.state!==e)this.state=e,this._send(e);else{if(e===c)return;Date.now()>this._lastMessageTime+i?this._send(e):this._scheduleNextMessage(e)}this.state!==c&&this._startPauseLoop()}}},{key:"_startPauseLoop",value:function(){var e=this;this._pauseLoopId||(this._pauseLoopId=window.setInterval(function(){e.state===u?e.setState(c):e.state===s&&e.setState(u)},i))}},{key:"_scheduleNextMessage",value:function(e){var t=this;this._scheduleId&&clearTimeout(this._scheduleId);var n=i-Math.min(Date.now()-this._lastMessageTime,i);this._scheduleId=setTimeout(function(){t._scheduleId=0,t.state===e&&t._send(e)},n)}},{key:"_send",value:function(e){if(this.conversation.isSaved()){this._lastMessageTime=Date.now();var t=this._getClient().socketManager;t.sendSignal({type:"typing_indicator",object:{id:this.conversation.id},data:{action:e}})}}},{key:"_getClient",value:function(){return l.get(this.clientId)}},{key:"destroy",value:function(){delete this.conversation,clearTimeout(this._scheduleId),clearInterval(this._pauseLoopId)}}]),e}();e.e=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return t({type:h.CHAT_STATE_FETCHING}),e().then(function(e){return t({type:h.CHAT_STATE_SUCCESS,payload:e}),e})["catch"](function(e){t({type:h.CHAT_STATE_FAIL,error:e})})}}function i(){return{type:h.CHAT_STATE_MANUAL_TRIGGER}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].connect.apply(p["default"],t)})}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].createConversation.apply(p["default"],t)})}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].sendMessage.apply(p["default"],t)})}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].sendImage.apply(p["default"],t)})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].selectConversation.apply(p["default"],t)})}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(function(){return p["default"].markMessageAsRead.apply(p["default"],t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.types=void 0,t.manuallyTriggerReducer=i,t.connect=a,t.createConversation=s,t.sendMessage=u,t.sendImage=c,t.selectConversation=l,t.markMessageAsRead=d;var f=n(18),p=r(f),h=t.types={CHAT_STATE_MANUAL_TRIGGER:"CHAT_STATE_MANUAL_TRIGGER",CHAT_STATE_FETCHING:"CHAT_STATE_FETCHING",CHAT_STATE_SUCCESS:"CHAT_STATE_SUCCESS",CHAT_STATE_FAIL:"CHAT_STATE_FAIL"};t["default"]={types:h,manuallyTriggerReducer:i,connect:a,createConversation:s,sendMessage:u,sendImage:c,selectConversation:l,markMessageAsRead:d}},function(e,t,n){e.e=n(69)},function(e,t,n){"use strict";var r=n(7),o=n(75),i=n(80),a=n(42),s=n(79),u=window.btoa||n(74);e.e=function(e,t,c){var l=c.data,d=c.headers;r.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(!window.XDomainRequest||"withCredentials"in f||s(c.url)||(f=new window.XDomainRequest),c.auth){var p=c.auth.username||"",h=c.auth.password||"";d.Authorization="Basic "+u(p+":"+h)}if(f.open(c.method.toUpperCase(),o(c.url,c.params,c.paramsSerializer),!0),f.timeout=c.timeout,f.onload=function(){if(f){var n="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,r=["text",""].indexOf(c.responseType||"")!==-1?f.responseText:f.response,o={data:a(r,n,c.transformResponse),status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:c};(o.status>=200&&o.status<300||!("status"in f)&&o.responseText?e:t)(o),f=null}},f.onerror=function(){t(new Error("Network Error")),f=null},r.isStandardBrowserEnv()){var y=n(77),g=c.withCredentials||s(c.url)?y.read(c.xsrfCookieName):void 0;g&&(d[c.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){"undefined"==typeof l&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),c.withCredentials&&(f.withCredentials=!0),c.responseType)try{f.responseType=c.responseType}catch(A){if("json"!==f.responseType)throw A}r.isArrayBuffer(l)&&(l=new DataView(l)),f.send(l)}},function(e,t,n){"use strict";var r=n(7);e.e=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){e.e={"default":n(95),__esModule:!0}},function(e,t,n){e.e={"default":n(99),__esModule:!0}},function(e,t,n){e.e={"default":n(101),__esModule:!0}},function(e,t,n){var r=n(14),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.e=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(14);e.e=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(31),o=n(10),i=n(33),a=n(30),s=n(29),u=n(16),c=n(112),l=n(22),d=n(0).getProto,f=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",y="keys",g="values",A=function(){return this};e.e=function(e,t,n,m,v,b,C){c(n,t,m);var _,k,w=function(e){if(!p&&e in O)return O[e];switch(e){case y:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",B=v==g,x=!1,O=e.prototype,T=O[f]||O[h]||v&&O[v],S=T||w(v);if(T){var I=d(S.call(new e));l(I,E,!0),!r&&s(O,h)&&a(I,f,A),B&&T.name!==g&&(x=!0,S=function(){return T.call(this)})}if(r&&!C||!p&&!x&&O[f]||a(O,f,S),u[t]=S,u[E]=A,v)if(_={values:B?S:w(g),keys:b?S:w(y),entries:B?w("entries"):S},C)for(k in _)k in O||i(O,k,_[k]);else o(o.P+o.F*(p||x),t,_);return _}},function(e,t,n){var r=n(10),o=n(4),i=n(20);e.e=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(0).getDesc,o=n(21),i=n(9),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.e={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(15)(Function.call,r(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){var r=n(8),o="__core-js_shared__",i=r[o]||(r[o]={});e.e=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=Math.ceil,o=Math.floor;e.e=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},function(e,t,n){var r=0,o=Math.random();e.e=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},function(e,t){},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if("production"!=="production".NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.e=r},function(e,t,n){(function(t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(13),c=n(2),l=n(66),d=n(64),f=n(65),p=n(6),h=n(59),y=n(60),g=n(17),A=g.XHRSyncEvent,m=g.WebsocketSyncEvent,v=n(12),b=v.ACCEPT,C=v.LOCALSTORAGE_KEYS,_=n(1),k=n(3),w=3,E=function(e){function n(e){if(r(this,n),!e.appId)throw new Error(p.dictionary.appIdMissing);var i=e.userId,a="",s="";try{a=t.localStorage?t.localStorage[C.SESSIONDATA+e.appId]:null,s=a?JSON.parse(a).userId:""}catch(u){}delete e.userId;var c=o(this,Object.getPrototypeOf(n).call(this,e));return c.url=c.url.replace(/\/$/,""),!c.sessionToken&&i&&c.isTrustedDevice?c._restoreLastSession(e,i,s):t.localStorage&&(localStorage.removeItem(C.SESSIONDATA+c.appId),c.sessionToken&&i&&(c.userId=i)),c}return i(n,e),s(n,[{key:"_restoreLastSession",value:function(e,t,n){var r=e.sessionToken||this._getSessionToken();e.sessionToken?this.userId=t:r&&n===t?(this.sessionToken=r,this.userId=t):(this.sessionToken="",this.userId="")}},{key:"_initComponents",value:function(){this.socketManager=new l({client:this}),this.socketChangeManager=new d({client:this,socketManager:this.socketManager}),this.socketRequestManager=new f({client:this,socketManager:this.socketManager}),this.onlineManager=new h({socketManager:this.socketManager,testUrl:this.url+"/nonces?connection-test",connected:this._handleOnlineChange.bind(this),disconnected:this._handleOnlineChange.bind(this)}),this.syncManager=new y({onlineManager:this.onlineManager,socketManager:this.socketManager,requestManager:this.socketRequestManager,client:this}),this._connect()}},{key:"_destroyComponents",value:function(){this.syncManager.destroy(),this.onlineManager.destroy(),this.socketManager.destroy(),this.socketChangeManager.destroy(),this.socketRequestManager.destroy()}},{key:"_getSessionToken",value:function(){if(this.sessionToken)return this.sessionToken;var e=t.localStorage?t.localStorage[C.SESSIONDATA+this.appId]:"{}";try{return JSON.parse(e).sessionToken}catch(n){return""}}},{key:"_connect",value:function(){var e=this;this.sessionToken?this.xhr({url:"/",method:"GET",sync:!1,headers:{"content-type":"application/json"}},function(t){return e._connectionWithSessionResponse(t)}):this.xhr({url:"/nonces",method:"POST",sync:!1},function(t){return e._connectionResponse(t)})}},{key:"_connectionWithSessionResponse",value:function(e){!e.success&&e.data.getNonce()?this._sessionTokenExpired(e.data.getNonce()):this._sessionTokenRestored(e.data)}},{key:"_connectionResponse",value:function(e){e.success?this._connectionComplete(e.data):this._connectionError(e.data)}},{key:"_connectionComplete",value:function(e){this.isConnected=!0,this.trigger("connected"),this._authenticate(e.nonce)}},{key:"_connectionError",value:function(e){this.trigger("connected-error",{error:e})}},{key:"_authenticate",value:function(e){e&&this.trigger("challenge",{nonce:e,callback:this.answerAuthenticationChallenge.bind(this)})}},{key:"answerAuthenticationChallenge",value:function(e){var t=this;if(!e)throw new Error(p.dictionary.identityTokenMissing);var n=_.decode(e.split(".")[1]);this.__userId=JSON.parse(n).prn,this.xhr({url:"/sessions",method:"POST",sync:!1,data:{identity_token:e,app_id:this.appId}},function(n){return t._authResponse(n,e)})}},{key:"_authResponse",value:function(e,t){e.success?this._authComplete(e.data):this._authError(e.data,t)}},{key:"_authComplete",value:function(e){if(!e||!e.session_token)throw new Error(p.dictionary.sessionTokenMissing);if(this.sessionToken=e.session_token,t.localStorage&&this.isTrustedDevice)try{t.localStorage[C.SESSIONDATA+this.appId]=JSON.stringify({sessionToken:this.sessionToken||"",userId:this.userId||""})}catch(n){}this.isAuthenticated=!0,this.trigger("authenticated"),this._clientReady()}},{key:"_authError",value:function(e,t){this.trigger("authenticated-error",{error:e})}},{key:"_sessionTokenRestored",value:function(e){this.isConnected=!0,this.trigger("connected"),this.isAuthenticated=!0,this.trigger("authenticated"),this._clientReady()}},{key:"_sessionTokenExpired",value:function(e){this.sessionToken="",t.localStorage&&localStorage.removeItem(C.SESSIONDATA+this.appId),this._authenticate(e)}},{key:"_clientReady",value:function(){this.isReady||(this.isReady=!0,this.trigger("ready"),this.onlineManager.start())}},{key:"logout",value:function(){return this.isAuthenticated&&this.xhr({method:"DELETE",url:"/sessions/"+escape(this.sessionToken)}),this._resetSession(),this}},{key:"login",value:function(){return this._connect(),this}},{key:"_resetSession",value:function(){this.isReady=!1,this.sessionToken&&(this.sessionToken="",t.localStorage&&localStorage.removeItem(C.SESSIONDATA+this.appId)),this.isConnected=!1,this.isAuthenticated=!1,this.trigger("deauthenticated"),this.onlineManager.stop()}},{key:"registerIOSPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"apns",device_id:e.deviceId,ios_version:e.iosVersion,apns_bundle_id:e.bundleId}},function(e){return t(e.data)})}},{key:"registerAndroidPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"gcm",device_id:e.deviceId,gcm_sender_id:e.senderId}},function(e){return t(e.data)})}},{key:"unregisterPushToken",value:function(e,t){this.xhr({url:"push_tokens/"+e,method:"DELETE"},function(e){return t(e.data)})}},{key:"__adjustAppId",value:function(e){if(this.isConnected)throw new Error(p.dictionary.cantChangeIfConnected)}},{key:"__adjustUserId",value:function(e){if(this.isConnected)throw new Error(p.dictionary.cantChangeIfConnected)}},{key:"sendSocketRequest",value:function(e,t){if(e.sync){var n=e.sync.target,r=e.sync.depends;n&&!r&&(r=[n]),this.syncManager.request(new m({data:e.body,operation:e.method,target:n,depends:r,callback:t}))}else"function"==typeof e.data&&(e.data=e.data()),this.socketRequestManager.sendRequest(e,t)}},{key:"_handleOnlineChange",value:function(e){if(this.isAuthenticated){var t=e.offlineDuration,r="connected"===e.eventName,o={isOnline:r};r&&(o.reset=t>n.ResetAfterOfflineDuration),this.trigger("online",o)}}},{key:"xhr",value:function(e,t){return"string"==typeof e.url&&(e.url=this._xhrFixRelativeUrls(e.url)),e.withCredentials=!0,e.method||(e.method="GET"),e.headers||(e.headers={}),this._xhrFixHeaders(e.headers),this._xhrFixAuth(e.headers),e.sync===!1?this._nonsyncXhr(e,t,0):this._syncXhr(e,t),this}},{key:"_syncXhr",value:function(e,t){var n=this;e.sync||(e.sync={});var r=function(e){n._xhrResult(e,t)},o=e.sync.target,i=e.sync.depends;o&&!i&&(i=[o]),this.syncManager.request(new A({url:e.url,data:e.data,method:e.method,operation:e.sync.operation||e.method,headers:e.headers,callback:r,target:o,depends:i}))}},{key:"_nonsyncXhr",value:function(e,t,n){var r=this;u(e,function(o){[502,503,504].indexOf(o.status)!==-1&&n<w?setTimeout(function(){return r._nonsyncXhr(e,t,n+1)},1e3):r._xhrResult(o,t)})}},{key:"_xhrFixAuth",value:function(e){this.sessionToken&&!e.Authorization&&(e.authorization='Layer session-token="'+this.sessionToken+'"')}},{key:"_xhrFixRelativeUrls",value:function(e){var t=e;return e.indexOf("https://")===-1&&(t="/"===e[0]?this.url+e:this.url+"/"+e),t}},{key:"_xhrFixHeaders",value:function(e){var t=Object.keys(e);t.forEach(function(t){t!==t.toLowerCase()&&(e[t.toLowerCase()]=e[t],delete e[t])}),e.accept||(e.accept=b),e["content-type"]||(e["content-type"]="application/json")}},{key:"_xhrResult",value:function(e,t){this.isDestroyed||(e.success||(e.data&&"object"===a(e.data)&&this._generateError(e),401===e.status&&this.isAuthenticated&&(k.warn("SESSION EXPIRED!"),this.isAuthenticated=!1,this.trigger("deauthenticated"),this._authenticate(e.data.getNonce()))),t&&t(e))}},{key:"_generateError",value:function(e){e.data=new p(e.data),e.data.httpStatus||(e.data.httpStatus=e.status),e.data.log()}}]),n}(c);E.prototype.isAuthenticated=!1,E.prototype.isConnected=!1,E.prototype.isReady=!1,E.prototype.appId="",E.prototype.userId="",E.prototype.sessionToken="",E.prototype.url="https://api.layer.com",E.prototype.socketManager=null,E.prototype.socketRequestManager=null,E.prototype.socketChangeManager=null,E.prototype.syncManager=null,E.prototype.onlineManager=null,Object.defineProperty(E.prototype,"isOnline",{enumerable:!0,get:function(){return this.onlineManager&&this.onlineManager.isOnline}}),Object.defineProperty(E.prototype,"logLevel",{enumerable:!1,get:function(){return k.level},set:function(e){k.level=e}}),E.prototype.isTrustedDevice=!1,E.ResetAfterOfflineDuration=108e6,E._supportedEvents=["ready","connected","connected-error","authenticated","authenticated-error","deauthenticated","challenge","session-terminated","online"].concat(c._supportedEvents),c.initClass.apply(E,[E,"ClientAuthenticator"]),e.e=E}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=n(13),c=function(e){function t(e){return r(this,t),"string"==typeof e&&(e={id:e}),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),a(t,[{key:"loadContent",value:function(e,t){u({url:this.downloadUrl,responseType:"arraybuffer"},function(n){if(n.success)if("undefined"!=typeof Blob){var r=new Blob([n.data],{type:e});t(null,r)}else t(null,n.data);else t(n.data,null)})}},{key:"refreshContent",value:function(e,t){var n=this;e.xhr({url:this.refreshUrl,method:"GET"},function(e){var r=e.data;n.expiration=new Date(r.expiration),n.downloadUrl=r.download_url,t&&t(n.downloadUrl)})}},{key:"isExpired",value:function(){var e=6e5;return this.expiration.getTime()-e<Date.now()}}],[{key:"_createFromServer",value:function(e){return new t({id:e.id,downloadUrl:e.download_url,expiration:new Date(e.expiration),refreshUrl:e.refresh_url})}}]),t}(s);c.prototype.id="",c.prototype.blob=null,c.prototype.downloadUrl="",c.prototype.refreshUrl="",c.prototype.size=0,c.prototype.expiration=null,s.initClass.apply(c,[c,"Content"]),e.e=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(2),c=n(57),l=n(13),d=n(11),f=n(6),p="undefined"!=typeof Blob,h="undefined"==typeof window?n(146):FileReader,y=function(e){function t(e){r(this,t);var n=e;if("string"==typeof e)n={body:e},arguments.length-1>0?n.mimeType=arguments.length<=1?void 0:arguments[1]:n.mimeType="text/plain";else if(p&&(e instanceof Blob||e.body instanceof Blob)){var i=e instanceof Blob?e:e.body;n={mimeType:i.type,body:i,size:i.size,hasContent:!0}}var a=o(this,Object.getPrototypeOf(t).call(this,n));return!a.size&&a.body&&(a.size=a.body.length),p&&a.body instanceof Blob&&(a.url=URL.createObjectURL(a.body)),a}return i(t,e),a(t,[{key:"destroy",value:function(){this.__url&&(URL.revokeObjectURL(this.__url),this.__url=null),this.body=null,s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getClient",value:function(){return d.get(this.clientId)}},{key:"_getMessage",value:function(){return this._getClient().getMessage(this.id.replace(/\/parts.*$/,""))}},{key:"fetchContent",value:function(e){var t=this;if(this._content&&!this.isFiring){this.isFiring=!0;var n="image/jpeg+preview"===this.mimeType?"image/jpeg":this.mimeType;this._content.loadContent(n,function(n,r){return t._fetchContentCallback(n,r,e)})}return this}},{key:"_fetchContentCallback",value:function(e,t,n){var r=this;e?this.trigger("content-loaded-error",e):(this.url=URL.createObjectURL(t),this.isFiring=!1,"text/plain"===this.mimeType?!function(){var e=new h;e.addEventListener("loadend",function(){r._fetchContentComplete(e.result,n)}),e.readAsText(t)}():this._fetchContentComplete(t,n))}},{key:"_fetchContentComplete",value:function(e,t){var n=this._getMessage();this.body=e,this.trigger("content-loaded"),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(this.body)}},{key:"fetchStream",value:function(e){var t=this;if(!this._content)throw new Error(f.dictionary.contentRequired);this._content.isExpired()?this._content.refreshContent(this._getClient(),function(n){return t._fetchStreamComplete(n,e)}):this._fetchStreamComplete(this._content.downloadUrl,e)}},{key:"_fetchStreamComplete",value:function(e,t){var n=this._getMessage();this.trigger("url-loaded"),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(e)}},{key:"_send",value:function(e){this._content&&this._sendWithContent(),this.size>2048?this._generateContentAndSend(e):"undefined"!=typeof Blob&&this.body instanceof Blob?this._sendBlob(e):this._sendBody()}},{key:"_sendBody",value:function(){var e={mime_type:this.mimeType,body:this.body};this.encoding&&(e.encoding=this.encoding),this.trigger("parts:send",e)}},{key:"_sendWithContent",value:function(){this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}})}},{key:"_sendBlob",value:function(e){var t=this,n=new h;n.onloadend=function(){var r=n.result;r.length<2048?(t.body=r,t.body=t.body.substring(t.body.indexOf(",")+1),t.encoding="base64",t._sendBody(e)):t._generateContentAndSend(e)},n.readAsDataURL(this.body)}},{key:"_generateContentAndSend",value:function(e){var t=this;this.hasContent=!0,e.xhr({url:"/content",method:"POST",headers:{"Upload-Content-Type":this.mimeType,"Upload-Content-Length":this.size,"Upload-Origin":"undefined"!=typeof location?location.origin:""},sync:{}},function(n){t._processContentResponse(n.data,e)})}},{key:"_processContentResponse",value:function(e,t){var n=this;this._content=new c(e.id),this.hasContent=!0,l({url:e.upload_url,
method:"PUT",data:this.body,headers:{"Upload-Content-Length":this.size,"Upload-Content-Type":this.mimeType}},function(r){return n._processContentUploadResponse(r,e,t)})}},{key:"_processContentUploadResponse",value:function(e,t,n){e.success?this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}}):n.onlineManager.isOnline?console.error("We don't yet handle this!"):n.onlineManager.once("connected",this._processContentResponse.bind(this,t,n),this)}},{key:"getText",value:function(){return"text/plain"===this.mimeType?this.body:""}},{key:"_populateFromServer",value:function(e){e.content&&this._content&&(this._content.downloadUrl=e.content.download_url,this._content.expiration=new Date(e.content.expiration))}}],[{key:"_createFromServer",value:function(e){var n=e.content?c._createFromServer(e.content):null;return new t({id:e.id,mimeType:e.mime_type,body:e.body||"",_content:n,hasContent:Boolean(n),size:e.size||0,encoding:e.encoding||""})}}]),t}(u);y.prototype.clientId="",y.prototype.id="",y.prototype.body=null,y.prototype._content=null,y.prototype.hasContent=!1,Object.defineProperty(y.prototype,"url",{enumerable:!0,get:function(){return this.__url?this.__url:this._content?this._content.isExpired()?"":this._content.downloadUrl:""},set:function(e){this.__url=e}}),y.prototype.mimeType="text/plain",y.prototype.encoding="",y.prototype.size=0,y._supportedEvents=["parts:send","content-loaded","url-loaded","content-loaded-error"].concat(u._supportedEvents),u.initClass.apply(y,[y,"MessagePart"]),e.e=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function p(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(2),c=n(13),l=n(3),d=n(1),f=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return c.addConnectionListener(function(e){return n._connectionListener(e)}),n.socketManager.on("message",function(){return n._connectionListener({status:"connection:success"})},n),"undefined"!=typeof window&&(window.addEventListener("online",n._handleOnlineEvent.bind(n)),window.addEventListener("offline",n._handleOnlineEvent.bind(n))),n}return i(t,e),a(t,[{key:"start",value:function(){l.info("OnlineStateManager: start"),this.isClientReady=!0,this.isOnline=!0,this._firstStart||this.trigger("connected",{offlineDuration:0}),this._firstStart=!1,this._scheduleNextOnlineCheck()}},{key:"stop",value:function(){l.info("OnlineStateManager: stop"),this.isClientReady=!1,this._clearCheck(),this._changeToOffline()}},{key:"_scheduleNextOnlineCheck",value:function(){if(l.debug("OnlineStateManager: skip schedule"),!this.isDestroyed&&this.isClientReady)if(this._clearCheck(),this.isOnline)l.debug("OnlineStateManager: Scheduled onlineExpired"),this.onlineCheckId=setTimeout(this._onlineExpired.bind(this),this.pingFrequency);else{l.info("OnlineStateManager: Scheduled checkOnlineStatus");var e=d.getExponentialBackoffSeconds(this.maxOfflineWait,Math.min(10,this.offlineCounter++));this.onlineCheckId=setTimeout(this.checkOnlineStatus.bind(this),Math.floor(1e3*e))}}},{key:"_clearCheck",value:function(){this.onlineCheckId&&(clearTimeout(this.onlineCheckId),this.onlineCheckId=0)}},{key:"_handleOnlineEvent",value:function(e){this.offlineCounter=0,this.checkOnlineStatus()}},{key:"_onlineExpired",value:function(){this._clearCheck(),this._changeToOffline(),this._scheduleNextOnlineCheck()}},{key:"checkOnlineStatus",value:function(e){var t=this;this._clearCheck(),l.info("OnlineStateManager: Firing XHR for online check"),this._lastCheckOnlineStatus=new Date,c({url:this.testUrl,method:"POST",headers:{accept:"application/vnd.layer+json; version=1.0"}},function(){e&&e(t.isOnline)})}},{key:"_changeToOffline",value:function(){this.isOnline&&(this.isOnline=!1,this.trigger("disconnected"),l.info("OnlineStateManager: Connection lost"))}},{key:"_connectionListener",value:function(e){if("connection:success"===e.status){var t=this.lastMessageTime;this.lastMessageTime=new Date,this.isOnline||(this.isOnline=!0,this.offlineCounter=0,this.trigger("connected",{offlineDuration:t?Date.now()-t:0}),void 0===this.connectedCounter&&(this.connectedCounter=0),this.connectedCounter++,l.info("OnlineStateManager: Connected restored"))}else this._changeToOffline();this._scheduleNextOnlineCheck()}},{key:"destroy",value:function(){this._clearCheck(),this.socketManager=null,s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u);f.prototype.isClientReady=!1,f.prototype.testUrl="",f.prototype.socketManager=null,f.prototype.offlineCounter=0,f.prototype.maxOfflineWait=300,f.prototype.minBackoffWait=100,f.prototype.lastMessageTime=null,f.prototype._lastCheckOnlineStatus=null,f.prototype.isOnline=!1,f.prototype.onlineCheckId=0,f.prototype._firstStart=!0,f.prototype.pingFrequency=1e5,f._supportedEvents=["connected","disconnected"].concat(u._supportedEvents),u.initClass.apply(f,[f,"OnlineStateManager"]),e.e=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(2),c=n(17),l=c.WebsocketSyncEvent,d=n(13),f=n(3),p=n(1),h=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return e.client&&e.client.on("authenticated",n._processNextRequest,n),n.queue=[],n.onlineManager.on("disconnected",n._onlineStateChange,n),n.socketManager.on("connected disconnected",n._onlineStateChange,n),n}return i(t,e),a(t,[{key:"isOnline",value:function(){return this.onlineManager.isOnline}},{key:"_onlineStateChange",value:function(e){var t=this;"connected"===e.eventName?(this.queue.length&&this.queue[0].returnToOnlineCount++,setTimeout(function(){return t._processNextRequest()},100)):"disconnected"===e.eventName&&this.queue.length&&(this.queue[0].isFiring=!1)}},{key:"request",value:function(e){"PATCH"===e.operation&&this._findUnfiredCreate(e)?(f.info("Sync Manager Request PATCH "+e.target+" request ignored; create request still enqueued"),f.debug(e.toObject())):(f.info("Sync Manager Request "+e.operation+" on target "+e.target),f.debug(e.toObject()),this.queue.push(e),this.trigger("sync:add",{request:e,target:e.target})),"DELETE"===e.operation&&this._purgeOnDelete(e),1===this.queue.length&&this._processNextRequest()}},{key:"_findUnfiredCreate",value:function(e){return Boolean(this.queue.filter(function(t){return t.target===e.target&&"POST"===t.operation&&!t.isFiring}).length)}},{key:"_processNextRequest",value:function(){var e=this;if(!this.isDestroyed){var t=this.queue[0];this.isOnline()&&t&&!t.isFiring?t instanceof l?this.socketManager&&this.socketManager._isOpen()?(f.debug("Sync Manager Websocket Request Firing "+t.operation+" on target "+t.target,t.toObject()),this.requestManager.sendRequest(t._getRequestData(),function(n){return e._xhrResult(n,t)}),t.isFiring=!0):f.debug("Sync Manager Websocket Request skipped; socket closed"):(f.debug("Sync Manager XHR Request Firing "+t.operation+" "+t.target,t.toObject()),d(t._getRequestData(),function(n){return e._xhrResult(n,t)}),t.isFiring=!0):t&&t.isFiring&&f.debug("Sync Manager processNext skipped; request still firing "+t.operation+" on target "+t.target,t.toObject())}}},{key:"_xhrResult",value:function(e,t){e.request=t,t.isFiring=!1,e.success?this._xhrSuccess(e):this._xhrError(e)}},{key:"_getErrorState",value:function(e,n,r){return r?404===e.status&&e.data&&102===e.data.code?"notFound":408===e.status?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"validateOnlineAndRetry":[502,503,504].indexOf(e.status)!==-1?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"serverUnavailable":401===e.status&&e.data.data&&e.data.data.nonce?"reauthorize":"serverRejectedRequest":n.returnToOnlineCount>=t.MAX_RETRIES_BEFORE_CORS_ERROR?"CORS":"offline"}},{key:"_xhrError",value:function(e){var t=e.request;f.warn("Sync Manager "+(t instanceof l?"Websocket":"XHR")+" "+(t.operation+" Request on target "+t.target+" has Failed"),t.toObject());var n=this._getErrorState(e,t,this.isOnline());switch(f.warn("Sync Manager Error State: "+n),n){case"tooManyFailuresWhileOnline":this._xhrHandleServerError(e,"Sync Manager Server Unavailable Too Long; removing request");break;case"notFound":this._xhrHandleServerError(e,"Resource not found; presumably deleted");break;case"validateOnlineAndRetry":this._xhrValidateIsOnline();break;case"serverUnavailable":this._xhrHandleServerUnavailableError(t);break;case"reauthorize":t.callback(e);break;case"serverRejectedRequest":this._xhrHandleServerError(e,"Sync Manager Server Rejects Request; removing request");break;case"CORS":this._xhrHandleServerError(e,"Sync Manager Server detects CORS-like errors; removing request");break;case"offline":this._xhrHandleConnectionError()}}},{key:"_xhrHandleServerUnavailableError",value:function(e){var n=t.MAX_UNAVAILABLE_RETRY_WAIT,r=p.getExponentialBackoffSeconds(n,Math.min(15,e.retryCount++));f.warn("Sync Manager Server Unavailable; retry count "+e.retryCount+"; retrying in "+r+" seconds"),setTimeout(this._processNextRequest.bind(this),1e3*r)}},{key:"_xhrHandleServerError",value:function(e,t){e.request.callback(e),f.error(t,e.request),this.trigger("sync:error",{target:e.request.target,request:e.request,error:e.data}),e.request.success=!1,"POST"===e.request.operation&&this._purgeDependentRequests(e.request),this._removeRequest(e.request),this._processNextRequest()}},{key:"_xhrHandleConnectionError",value:function(){}},{key:"_xhrValidateIsOnline",value:function(){var e=this;f.debug("Sync Manager verifying online state"),this.onlineManager.checkOnlineStatus(function(t){return e._xhrValidateIsOnlineCallback(t)})}},{key:"_xhrValidateIsOnlineCallback",value:function(e){f.debug("Sync Manager online check result is "+e),e?(this.queue[0].retryCount++,this._processNextRequest()):this._xhrHandleConnectionError()}},{key:"_xhrSuccess",value:function(e){var t=e.request;f.debug("Sync Manager "+(t instanceof l?"Websocket":"XHR")+" "+(t.operation+" Request on target "+t.target+" has Succeeded"),t.toObject()),e.data&&f.debug(e.data),t.success=!0,this._removeRequest(t),t.callback&&t.callback(e),this._processNextRequest(),this.trigger("sync:success",{target:t.target,request:t,response:e.data})}},{key:"_removeRequest",value:function(e){var t=this.queue.indexOf(e);t!==-1&&this.queue.splice(t,1)}},{key:"_purgeDependentRequests",value:function(e){this.queue=this.queue.filter(function(t){return t.depends.indexOf(e.target)===-1||t===e})}},{key:"_purgeOnDelete",value:function(e){this.queue=this.queue.filter(function(t){return t.depends.indexOf(e.target)===-1||e===t})}},{key:"destroy",value:function(){this.queue.forEach(function(e){return e.destroy()}),this.queue=null,s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u);h.prototype.socketManager=null,h.prototype.requestManager=null,h.prototype.onlineManager=null,h.prototype.queue=null,h.MAX_UNAVAILABLE_RETRY_WAIT=900,h.MAX_RETRIES_BEFORE_CORS_ERROR=3,h.MAX_RETRIES=20,h._supportedEvents=["sync:error","sync:success","sync:add"].concat(u._supportedEvents),u.initClass(h),e.e=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=n(12),c=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"_setSyncing",value:function(){switch(this._clearObject(),this.syncState){case u.SYNC_STATE.SYNCED:this.syncState=u.SYNC_STATE.SYNCING;break;case u.SYNC_STATE.NEW:this.syncState=u.SYNC_STATE.SAVING}this._syncCounter++}},{key:"_setSynced",value:function(){this._clearObject(),this._syncCounter>0&&this._syncCounter--,this.syncState=0===this._syncCounter?u.SYNC_STATE.SYNCED:u.SYNC_STATE.SYNCING,this.isSending=!1}},{key:"_clearObject",value:function(){this._toObject=null}},{key:"isNew",value:function(){return this.syncState===u.SYNC_STATE.NEW}},{key:"isSaving",value:function(){return this.syncState===u.SYNC_STATE.SAVING}},{key:"isSaved",value:function(){return!(this.isNew()||this.isSaving())}},{key:"isSynced",value:function(){return this.syncState===u.SYNC_STATE.SYNCED}}]),t}(s);c.prototype.syncState=u.SYNC_STATE.NEW,c.prototype._syncCounter=0,Object.defineProperty(c.prototype,"isLoading",{enumerable:!0,get:function(){return this.syncState===u.SYNC_STATE.LOADING}}),c._supportedEvents=[].concat(s._supportedEvents),c.inObjectIgnore=s.inObjectIgnore,e.e=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(38),a=n(25),s=a.STARTED,u=(a.PAUSED,a.FINISHED),c=function(){function e(t){r(this,e),this.clientId=t.clientId,this.conversation=t.conversation,this.publisher=new i({clientId:this.clientId,conversation:this.conversation}),this.intervalId=0,this.lastKeyId=0,this._handleKeyPress=this._handleKeyPress.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this.setInput(t.input)}return o(e,[{key:"destroy",value:function(){this._removeInput(this.input),this.publisher.destroy()}},{key:"setInput",value:function(e){e!==this.input&&(this._removeInput(this.input),this.input=e,this.input.addEventListener("keypress",this._handleKeyPress),this.input.addEventListener("keydown",this._handleKeyDown))}},{key:"_removeInput",value:function(e){e&&(e.removeEventListener("keypress",this._handleKeyPress),e.removeEventListener("keydown",this._handleKeyDown),this.input=null)}},{key:"setConversation",value:function(e){e!==this.conversation&&(this.conversation=e,this.publisher.setConversation(e))}},{key:"_handleKeyPress",value:function(e){var t=this;this.lastKeyId&&window.clearTimeout(this.lastKeyId),this.lastKeyId=window.setTimeout(function(){t.lastKeyId=0;var e=!Boolean(t.input.value);t.send(e?u:s)},50)}},{key:"_handleKeyDown",value:function(e){[8,46,13].indexOf(e.keyCode)!==-1&&this._handleKeyPress()}},{key:"send",value:function(e){this.publisher.setState(e)}}]),e}();e.e=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(2),c=n(1),l=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.on("all",n._clearObject,n),n}return i(t,e),a(t,[{key:"setClient",value:function(e){if(e){var t=Object.keys(e._conversationsHash).map(function(t){return e.getConversation(t)}).filter(function(e){return 2==e.participants.length&&e.participants.indexOf(this.id)!=-1},this);c.sortBy(t,function(e){return e.lastMessage?e.lastMessage.sentAt:null},!0),t.length?this.conversation=t[0]:e.on("conversations:add",this._checkNewConversation,this)}}},{key:"_checkNewConversation",value:function(e){var t=this,n=e.conversations;n.forEach(function(e){2==e.participants.length&&e.participants.indexOf(t.id)!=-1&&(t.conversation=e,e.client.off(null,null,t))})}},{key:"__updateConversation",value:function(e,t){t&&t.off(null,null,this),e&&e.on("destroy",this._destroyConversation,this),this.trigger("conversations:change")}},{key:"_destroyConversation",value:function(e){this.conversation=null}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(Object.getPrototypeOf(t.prototype),"toObject",this).call(this)),this._toObject}},{key:"_clearObject",value:function(){delete this._toObject}}]),t}(u);l.prototype.data=null,l.prototype.id="",l.prototype.displayName="",l.prototype.iconClass="",l.prototype.conversation=null,l.prototype._toObject=null,l._supportedEvents=["conversations:change"].concat(u._supportedEvents),u.initClass.apply(l,[l,"User"]),e.e=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=n(3),s=n(24),u=n(35),c=function(){function e(t){r(this,e),this.client=t.client,t.socketManager.on("message",this._handleChange,this)}return o(e,[{key:"_handleChange",value:function(e){if("change"===e.data.type){var t=e.data.body;switch(t.operation){case"create":a.info("Websocket Change Event: Create "+t.object.type+" "+t.object.id),a.debug(t.data),this._handleCreate(t);break;case"delete":a.info("Websocket Change Event: Delete "+t.object.type+" "+t.object.id),a.debug(t.data),this._handleDelete(t);break;case"patch":a.info("Websocket Change Event: Patch "+t.object.type+" "+t.object.id+": "+t.data.map(function(e){return e.property}).join(", ")),a.debug(t.data),this._handlePatch(t)}}}},{key:"_handleCreate",value:function(e){e.data.fromWebsocket=!0,this.client._createObject(e.data)}},{key:"_handleDelete",value:function(e){var t=this._getObject(e);t&&(t._deleted(),t.destroy())}},{key:"_handlePatch",value:function(e){var t=this._getObject(e);if(t)try{t._inLayerParser=!0,i.layerParse({object:t,type:e.object.type,operations:e.data,client:this.client}),t._inLayerParser=!1}catch(n){a.error("websocket-manager: Failed to handle event",e.data)}else"conversations"===i.typeFromID(e.object.id)?u._loadResourceForPatch(e.data)&&this.client.getConversation(e.object.id,!0):"messages"===i.typeFromID(e.object.id)&&s._loadResourceForPatch(e.data)&&this.client.getMessage(e.object.id,!0)}},{key:"_getObject",value:function(e){return this.client._getObject(e.object.id)}},{key:"destroy",value:function(){this.client=null}}]),e}();c.prototype.client=null,e.e=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=n(3),s=n(6),u=15e3,c=function(){function e(t){r(this,e),this.client=t.client,this.socketManager=t.socketManager,this.socketManager.on({message:this._handleResponse,disconnected:this._reset},this),this._requestCallbacks={}}return o(e,[{key:"_reset",value:function(){this._requestCallbacks={}}},{key:"_handleResponse",value:function(e){if("response"===e.data.type){var t=e.data.body,n=t.request_id,r=t.success?t.data:new s(t.data);a.debug("Websocket response "+n+" "+(t.success?"Successful":"Failed")),n&&this._requestCallbacks[n]&&(this._requestCallbacks[n].callback({success:t.success,fullData:e.data,data:r}),delete this._requestCallbacks[n])}}},{key:"sendRequest",value:function(e,t){if(!this._isOpen())return t?t(new s({success:!1,data:{id:"not_connected",code:0,message:"WebSocket not connected"}})):void 0;var n=i.clone(e);n.request_id="r"+this._nextRequestId++,a.debug("Request "+n.request_id+" is sending"),t&&(this._requestCallbacks[n.request_id]={date:Date.now(),callback:t}),this.socketManager.send({type:"request",body:n}),this._scheduleCallbackCleanup()}},{key:"_scheduleCallbackCleanup",value:function(){this._callbackCleanupId||(this._callbackCleanupId=setTimeout(this._runCallbackCleanup.bind(this),u+50))}},{key:"_runCallbackCleanup",value:function(){var e=this;if(this._callbackCleanupId=0,!this.isDestroyed&&this._isOpen()){var t=0,n=Date.now();Object.keys(this._requestCallbacks).forEach(function(r){var o=e._requestCallbacks[r];if(o&&n<o.date+u)t++;else{if(n>e.socketManager._lastDataFromServerTimestamp+u)return e.socketManager._reconnect(!1),void e._scheduleCallbackCleanup();e._timeoutRequest(r)}}),t&&this._scheduleCallbackCleanup()}}},{key:"_timeoutRequest",value:function(e){try{a.warn("Websocket request timeout"),this._requestCallbacks[e].callback({success:!1,data:new s({id:"request_timeout",message:"The server is not responding. We know how much that sucks.",url:"https:/developer.layer.com/docs/websdk",code:0,status:408,httpStatus:408})})}catch(t){}delete this._requestCallbacks[e]}},{key:"_isOpen",value:function(){return this.socketManager._isOpen()}},{key:"destroy",value:function(){this.isDestroyed=!0,this._callbackCleanupId&&clearTimeout(this._callbackCleanupId),this._requestCallbacks=null}}]),e}();c.prototype._nextRequestId=1,c.prototype.client=null,c.prototype._requestCallbacks=null,c.prototype._callbackCleanupId=0,c.prototype.socketManager=null,e.e=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(2),c=n(1),l=n(3),d=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));if(!n.client)throw new Error("SocketManager requires a client");return n._onMessage=n._onMessage.bind(n),n._onOpen=n._onOpen.bind(n),n._onSocketClose=n._onSocketClose.bind(n),n._onError=n._onError.bind(n),n.client.isAuthenticated&&n.client.onlineManager.isOnline&&n.connect(),n.client.on("online",n._onlineStateChange,n),n.client.on("authenticated",n.connect,n),n._lastTimestamp=Date.now(),n}return i(t,e),a(t,[{key:"_reset",value:function(){this._lastTimestamp=0,this._lastDataFromServerTimestamp=0,this._lastCounter=null,this._hasCounter=!1,this._inReplay=!1,this._needsReplayFrom=null}},{key:"_onlineStateChange",value:function(e){this.client.isAuthenticated&&(e.isOnline?this._reconnect(e.reset):this.close())}},{key:"_reconnect",value:function(e){this.close(),e&&this._reset(),this.connect()}},{key:"connect",value:function(e){if(!this.client.isDestroyed&&this.client.isOnline){this._closing=!1,this._lastCounter=-1;var t="undefined"==typeof WebSocket?n(149).w3cwebsocket:WebSocket,r="wss://"+("https://api.layer.com"===this.client.url?"websockets":"staging-websockets")+".layer.com/?session_token="+this.client.sessionToken;this._socket=new t(r,"layer-1.0"),"undefined"==typeof WebSocket?(this._socket.onmessage=this._onMessage,this._socket.onclose=this._onSocketClose,this._socket.onopen=this._onOpen,this._socket.onerror=this._onError):(this._socket.addEventListener("message",this._onMessage),this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("open",this._onOpen),this._socket.addEventListener("error",this._onError)),this._connectionFailedId=setTimeout(this._connectionFailed.bind(this),5e3)}}},{key:"_clearConnectionFailed",value:function(){this._connectionFailedId&&(clearTimeout(this._connectionFailedId),this._connectionFailedId=0)}},{key:"_connectionFailed",value:function(){this._connectionFailedId=0;var e="Websocket failed to connect to server";l.warn(e);try{this.isOpen=!1,this._removeSocketEvents(),this._socket.close(),this._socket=null}catch(t){}this._onError(new Error(e))}},{key:"_onOpen",value:function(){this._clearConnectionFailed(),this._isOpen()&&(this._lostConnectionCount=0,this.isOpen=!0,this.trigger("connected"),l.debug("Websocket Connected"),this._hasCounter?this.replayEvents(this._lastTimestamp,!0):this._reschedulePing())}},{key:"_isOpen",value:function(){return!!this._socket&&("undefined"==typeof WebSocket||this._socket&&this._socket.readyState===WebSocket.OPEN)}},{key:"_onError",value:function(e){this._closing||(this._clearConnectionFailed(),l.debug("Websocket Error causing websocket to close",e),this.isOpen?(this._onSocketClose(),this._socket.close(),this._socket=null):(this._removeSocketEvents(),this._lostConnectionCount++,this._scheduleReconnect()))}},{key:"sendSignal",value:function(e){this._socket.send(JSON.stringify({type:"signal",body:e}))}},{key:"getCounter",value:function(e){l.debug("Websocket request: getCounter"),this.client.socketRequestManager.sendRequest({method:"Counter.read"},function(t){l.debug("Websocket response: getCounter "+t.data.counter),e&&(t.success?e(!0,t.data.counter,t.fullData.counter):e(!1))})}},{key:"replayEvents",value:function(e,t,n){var r=this;e&&(t&&(this._inReplay=!1),"number"==typeof e&&(e=new Date(e).toISOString()),this._inReplay||!this._isOpen()?this._needsReplayFrom||(l.debug("Websocket request: replayEvents updating _needsReplayFrom"),this._needsReplayFrom=e):(this._inReplay=!0,l.info("Websocket request: replayEvents"),this.client.socketRequestManager.sendRequest({method:"Event.replay",data:{from_timestamp:e}},function(t){return r._replayEventsComplete(e,n,t.success)})))}},{key:"_replayEventsComplete",value:function(e,t,n){if(this._inReplay=!1,n&&!this._needsReplayFrom)l.info("Websocket replay complete"),this.trigger("synced"),t&&t();else if(n&&this._needsReplayFrom){l.info("Websocket replay partially complete");var r=this._needsReplayFrom;this._needsReplayFrom=null,this.replayEvents(r)}else l.info("Websocket replay retry"),this.replayEvents(e)}},{key:"_onMessage",value:function(e){this._lostConnectionCount=0;try{var t=JSON.parse(e.data),n=this._lastCounter+1!==t.counter;this._hasCounter=!0,this._lastCounter=t.counter,this._lastDataFromServerTimestamp=Date.now(),n?this.replayEvents(this._lastTimestamp):this._lastTimestamp=new Date(t.timestamp).getTime(),this.trigger("message",{data:t}),this._reschedulePing()}catch(r){l.error("Layer-Websocket: Failed to handle websocket message: "+r+"\n",e.data)}}},{key:"_reschedulePing",value:function(){this._nextPingId&&clearTimeout(this._nextPingId),this._nextPingId=setTimeout(this._ping.bind(this),this.pingFrequency)}},{key:"_ping",value:function(){l.debug("Websocket ping"),this._nextPingId=0,this._isOpen()&&this.getCounter(this._reschedulePing.bind(this))}},{key:"close",value:function(){l.debug("Websocket close requested"),this._closing=!0,this.isOpen=!1,this._socket&&(this._onSocketClose(),this._socket.close(),this._socket=null)}},{key:"send",value:function(e){this._socket.send(JSON.stringify(e))}},{key:"destroy",value:function(){this.close(),this._nextPingId&&clearTimeout(this._nextPingId),s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_onSocketClose",value:function(){l.debug("Websocket closed"),this.isOpen=!1,this._closing||this._scheduleReconnect(),this._removeSocketEvents(),this.trigger("disconnected")}},{key:"_removeSocketEvents",value:function(){"undefined"!=typeof WebSocket&&this._socket?(this._socket.removeEventListener("message",this._onMessage),this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("open",this._onOpen),this._socket.removeEventListener("error",this._onError)):this._socket&&(this._socket.onmessage=null,this._socket.onclose=null,this._socket.onopen=null,this._socket.onerror=null)}},{key:"_scheduleReconnect",value:function(){if(!this.isDestroyed&&this.client.isOnline){var e=(this.client.onlineManager.pingFrequency-1e3)/1e3,t=c.getExponentialBackoffSeconds(e,Math.min(15,this._lostConnectionCount));l.debug("Websocket Reconnect in "+t+" seconds"),this._reconnectId=setTimeout(this._validateSessionBeforeReconnect.bind(this),1e3*t)}}},{key:"_validateSessionBeforeReconnect",value:function(){var e=this;!this.isDestroyed&&this.client.isOnline&&this.client.xhr({url:"/",method:"GET",sync:!1},function(t){t.success&&e.connect()})}}]),t}(u);d.prototype.isOpen=!1,d.prototype._reconnectId=0,d.prototype._connectionFailedId=0,d.prototype._lastTimestamp=0,d.prototype._lastDataFromServerTimestamp=0,d.prototype._lastCounter=null,d.prototype._hasCounter=!1,d.prototype._inReplay=!1,d.prototype._needsReplayFrom=null,d.prototype.pingFrequency=3e4,d.prototype.client=null,d.prototype._socket=null,d.prototype._closing=!1,d.prototype._lostConnectionCount=0,
d._supportedEvents=["message","connected","disconnected","syncing","synced"].concat(u._supportedEvents),u.initClass.apply(d,[d,"SocketManager"]),e.e=d},function(e,t,n){function r(){f&&l&&(f=!1,l.length?d=l.concat(d):p=-1,d.length&&o())}function o(){if(!f){var e=s(r);f=!0;for(var t=d.length;t;){for(l=d,d=[];++p<t;)l&&l[p].run();p=-1,t=d.length}l=null,f=!1,u(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var s,u,c=e.e={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var l,d=[],f=!1,p=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new i(e,t)),1!==d.length||f||s(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{conversations:u["default"].getConversations(),conversationMessages:u["default"].getConversationMessages(),_instance:u["default"],error:void 0}:arguments[0],t=arguments[1];switch(t.type){case c.types.CHAT_STATE_MANUAL_TRIGGER:e=(0,a["default"])({},e,{conversations:u["default"].getConversations(),conversationMessages:u["default"].getConversationMessages()});break;case c.types.CHAT_STATE_FETCHING:e=(0,a["default"])({},e,{error:void 0});break;case c.types.CHAT_STATE_SUCCESS:e=(0,a["default"])({},e,{conversations:u["default"].getConversations(),conversationMessages:u["default"].getConversationMessages()});break;case c.types.CHAT_STATE_FAIL:e=(0,a["default"])({},e,{conversations:u["default"].getConversations(),conversationMessages:u["default"].getConversationMessages(),error:t.error})}return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(84),a=r(i);t["default"]=o;var s=n(18),u=r(s),c=n(39)},function(e,n,r){"use strict";function o(e){this.defaults=a.merge({},e),this.interceptors={request:new u,response:new u}}var i=r(72),a=r(7),s=r(71),u=r(70),c=r(78),l=r(76),d=r(73),f=r(42);o.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),e=a.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!c(e.url)&&(e.url=l(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=f(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var n=[s,void 0],r=t.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r};var p=new o(i),h=e.e=d(o.prototype.request,p);h.create=function(e){return new o(e)},h.defaults=p.defaults,h.all=function(e){return t.all(e)},h.spread=r(81),h.interceptors=p.interceptors,a.forEach(["delete","get","head"],function(e){o.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))},h[e]=d(o.prototype[e],p)}),a.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,r){return this.request(a.merge(r||{},{method:e,url:t,data:n}))},h[e]=d(o.prototype[e],p)})},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(7);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.e=r},function(e,n,r){(function(n){"use strict";e.e=function(e){return new t(function(t,o){try{var i;"function"==typeof e.adapter?i=e.adapter:"undefined"!=typeof XMLHttpRequest?i=r(41):"undefined"!=typeof n&&(i=r(41)),"function"==typeof i&&i(t,o,e)}catch(a){o(a)}})}}).call(n,r(67))},function(e,t,n){"use strict";var r=n(7),o=/^\)\]\}',?\n/,i={"Content-Type":"application/x-www-form-urlencoded"};e.e={transformRequest:[function(e,t){return r.isFormData(e)?e:r.isArrayBuffer(e)?e:r.isArrayBufferView(e)?e.buffer:!r.isObject(e)||r.isFile(e)||r.isBlob(e)?e:(r.isUndefined(t)||(r.forEach(t,function(e,n){"content-type"===n.toLowerCase()&&(t["Content-Type"]=e)}),r.isUndefined(t["Content-Type"])&&(t["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(e))}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(o,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(i),post:r.merge(i),put:r.merge(i)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}},function(e,t,n){"use strict";e.e=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){this.message=e}function o(e){for(var t,n,o=String(e),a="",s=0,u=i;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if(n=o.charCodeAt(s+=.75),n>255)throw new r("INVALID_CHARACTER_ERR: DOM Exception 5");t=t<<8|n}return a}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.e=o},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(7);e.e=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else{var a=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),i=a.join("&")}return i&&(e+=(e.indexOf("?")===-1?"?":"&")+i),e}},function(e,t,n){"use strict";e.e=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";var r=n(7);e.e=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";e.e=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(7);e.e=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(7);e.e=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},function(e,t,n){"use strict";e.e=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18);Object.defineProperty(t,"chatState",{enumerable:!0,get:function(){return r(o)["default"]}});var i=n(39);Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return r(i)["default"]}});var a=n(68);Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r(a)["default"]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){(0,h["default"])("string"==typeof e,"'conversationId' must be string.");var t=e.split("/");return t[t.length-1]}function i(){var e=g["default"].getSessionToken();return{headers:{Accept:"application/vnd.layer+json; version=1.0",Authorization:"Layer session-token='"+e+"'"}}}function a(e){var t=e.message,n=e.convoId,r=o(n),a={parts:[{body:t,mime_type:"text/plain"}]};return f["default"].post(A.LAYER_REST_URL+"/conversations/"+r+"/messages",a,i())}function s(e){var t=e.participants,n=e.metadata,r=e.distinct,o=void 0===r||r;return f["default"].post(A.LAYER_REST_URL+"/conversations",{participants:t,metadata:n,distinct:o},i())}function u(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return f["default"].get(A.LAYER_REST_URL+"/conversations/"+e,i()).then(function(e){return e.data})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,h["default"])(e,"Must provide 'messageUrl'."),f["default"].get(buildQueryString(t,e),i()).then(function(e){return e.data}).then(function(e){return e.reverse()})}function l(e){(0,h["default"])(e,"'messageId' must be provided");var t={type:"read"};return f["default"].post(A.LAYER_REST_URL+"/messages/"+e+"/receipts",t,i()).then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.getConversationUuid=o,t.sendMessage=a,t.createConversation=s,t.getConversations=u,t.getMessages=c,t.markMessageAsRead=l;var d=n(40),f=r(d),p=n(55),h=r(p),y=n(18),g=r(y),A={LAYER_REST_URL:"https://api.layer.com"}},function(e,t,n){e.e={"default":n(94),__esModule:!0}},function(e,t,n){e.e={"default":n(96),__esModule:!0}},function(e,t,n){e.e={"default":n(97),__esModule:!0}},function(e,t,n){e.e={"default":n(98),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(26),i=r(o);t["default"]=function(e){return function(){var t=e.apply(this,arguments);return new i["default"](function(e,n){function r(o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}return s.done?void e(u):i["default"].resolve(u).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(85),i=r(o);t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";var r=n(43)["default"],o=n(44)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(93),i=r(o);t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";var r=n(45)["default"];t["default"]=function(e){return e&&e.constructor===r?"symbol":typeof e},t.__esModule=!0},function(e,t,n){n(128),e.e=n(4).Object.assign},function(e,t,n){var r=n(0);e.e=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(0);e.e=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t,n){n(129),e.e=n(4).Object.getPrototypeOf},function(e,t,n){n(130),e.e=n(4).Object.keys},function(e,t,n){n(131),e.e=n(4).Object.setPrototypeOf},function(e,t,n){n(54),n(133),n(135),n(132),e.e=n(4).Promise},function(e,t,n){n(134),n(54),e.e=n(4).Symbol},function(e,t,n){e.e=function(){}},function(e,t,n){var r=n(21),o=n(8).document,i=r(o)&&r(o.createElement);e.e=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(0);e.e=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var o,i=n(e),a=r.isEnum,s=0;i.length>s;)a.call(e,o=i[s++])&&t.push(o);return t}},function(e,t,n){var r=n(15),o=n(111),i=n(109),a=n(9),s=n(125),u=n(126);e.e=function(e,t,n,c){var l,d,f,p=u(e),h=r(n,c,t?2:1),y=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(i(p))for(l=s(e.length);l>y;y++)t?h(a(d=e[y])[0],d[1]):h(e[y]);else for(f=p.call(e);!(d=f.next()).done;)o(f,h,d.value,t)}},function(e,t,n){var r=n(23),o=n(0).getNames,i={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.e.get=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},function(e,t,n){e.e=n(8).document&&document.documentElement},function(e,t,n){e.e=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(16),o=n(5)("iterator"),i=Array.prototype;e.e=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(14);e.e=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9);e.e=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(i){var a=e["return"];throw void 0!==a&&r(a.call(e)),i}}},function(e,t,n){"use strict";var r=n(0),o=n(32),i=n(22),a={};n(30)(a,n(5)("iterator"),function(){return this}),e.e=function(e,t,n){e.prototype=r.create(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.e=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(s){}return n}},function(e,t,n){e.e=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(0),o=n(23);e.e=function(e,t){for(var n,i=o(e),a=r.getKeys(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===t)return n}},function(e,t,n){var r,o,i,a=n(8),s=n(124).set,u=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,d="process"==n(14)(c),f=function(){var e,t,n;for(d&&(e=c.domain)&&(c.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;o=void 0,e&&e.enter()};if(d)i=function(){c.nextTick(f)};else if(u){var p=1,h=document.createTextNode("");new u(f).observe(h,{characterData:!0}),i=function(){h.data=p=-p}}else i=l&&l.resolve?function(){l.resolve().then(f)}:function(){s.call(a,f)};e.e=function(e){var t={fn:e,next:void 0,domain:d&&c.domain};o&&(o.next=t),r||(r=t,i()),o=t}},function(e,t,n){var r=n(0),o=n(34),i=n(47);e.e=n(20)(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),a=arguments,s=a.length,u=1,c=r.getKeys,l=r.getSymbols,d=r.isEnum;s>u;)for(var f,p=i(a[u++]),h=l?c(p).concat(l(p)):c(p),y=h.length,g=0;y>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:Object.assign},function(e,t,n){var r=n(33);e.e=function(e,t){for(var n in t)r(e,n,t[n]);return e}},function(e,t,n){e.e=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(4),o=n(0),i=n(19),a=n(5)("species");e.e=function(e){var t=r[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9),o=n(27),i=n(5)("species");e.e=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){e.e=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},function(e,t,n){var r=n(52),o=n(28);e.e=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var r,o,i,a=n(15),s=n(108),u=n(107),c=n(103),l=n(8),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,y=0,g={},A="onreadystatechange",m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){m.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete g[e]},"process"==n(14)(d)?r=function(e){d.nextTick(a(m,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=v,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):r=A in c("script")?function(e){u.appendChild(c("script"))[A]=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.e={set:f,clear:p}},function(e,t,n){var r=n(52),o=Math.min;e.e=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(46),o=n(5)("iterator"),i=n(16);e.e=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(102),o=n(114),i=n(16),a=n(23);e.e=n(48)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(10);r(r.S+r.F,"Object",{assign:n(117)})},function(e,t,n){var r=n(34);n(49)("getPrototypeOf",function(e){return function(t){return e(r(t))}})},function(e,t,n){var r=n(34);n(49)("keys",function(e){return function(t){return e(r(t))}})},function(e,t,n){var r=n(10);r(r.S,"Object",{setPrototypeOf:n(50).set})},function(e,t,n){"use strict";var r,o=n(0),i=n(31),a=n(8),s=n(15),u=n(46),c=n(10),l=n(21),d=n(9),f=n(27),p=n(122),h=n(105),y=n(50).set,g=n(119),A=n(5)("species"),m=n(121),v=n(116),b="Promise",C=a.process,_="process"==u(C),k=a[b],w=function(){},E=function(e){var t,n=new k(w);return e&&(n.constructor=function(e){e(w,w)}),(t=k.resolve(n))["catch"](w),t===n},B=function(){function e(t){var n=new k(t);return y(n,e.prototype),n}var t=!1;try{if(t=k&&k.resolve&&E(),y(e,k),e.prototype=o.create(k.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(t=!1),t&&n(19)){var r=!1;k.resolve(o.setDesc({},"then",{get:function(){r=!0}})),t=r}}catch(i){t=!1}return t}(),x=function(e,t){return!(!i||e!==k||t!==r)||g(e,t)},O=function(e){var t=d(e)[A];return void 0!=t?t:e},T=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},S=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},I=function(e){try{e()}catch(t){return{error:t}}},j=function(e,t){if(!e.n){e.n=!0;var n=e.c;v(function(){for(var r=e.v,o=1==e.s,i=0,s=function(t){var n,i,a=o?t.ok:t.fail,s=t.resolve,u=t.reject;try{a?(o||(e.h=!0),n=a===!0?r:a(r),n===t.promise?u(TypeError("Promise-chain cycle")):(i=T(n))?i.call(n,s,u):s(n)):u(r)}catch(c){u(c)}};n.length>i;)s(n[i++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,o=e.p;P(o)&&(_?C.emit("unhandledRejection",r,o):(t=a.onunhandledrejection)?t({promise:o,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},P=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!P(t.promise))return!1;return!0},R=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),j(t,!0))},M=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=T(e))?v(function(){var r={r:n,d:!1};try{t.call(e,s(M,r,1),s(R,r,1))}catch(o){R.call(r,o)}}):(n.v=e,n.s=1,j(n,!1))}catch(r){R.call({r:n,d:!1},r)}}};B||(k=function(e){f(e);var t=this._d={p:p(this,k,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(M,t,1),s(R,t,1))}catch(n){R.call(t,n)}},n(118)(k.prototype,{then:function(e,t){var n=new S(m(this,k)),r=n.promise,o=this._d;return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&j(o,!1),r},"catch":function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!B,{Promise:k}),n(22)(k,b),n(120)(b),r=n(4)[b],c(c.S+c.F*!B,b,{reject:function(e){var t=new S(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(!B||E(!0)),b,{resolve:function(e){if(e instanceof k&&x(e.constructor,this))return e;var t=new S(this),n=t.resolve;return n(e),t.promise}}),c(c.S+c.F*!(B&&n(113)(function(e){k.all(e)["catch"](function(){})})),b,{all:function(e){var t=O(this),n=new S(t),r=n.resolve,i=n.reject,a=[],s=I(function(){h(e,!1,a.push,a);var n=a.length,s=Array(n);n?o.each.call(a,function(e,o){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[o]=e,--n||r(s))},i)}):r(s)});return s&&i(s.error),n.promise},race:function(e){var t=O(this),n=new S(t),r=n.reject,o=I(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(e,t,n){"use strict";var r=n(123)(!0);n(48)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),o=n(8),i=n(29),a=n(19),s=n(10),u=n(33),c=n(20),l=n(51),d=n(22),f=n(53),p=n(5),h=n(115),y=n(106),g=n(104),A=n(110),m=n(9),v=n(23),b=n(32),C=r.getDesc,_=r.setDesc,k=r.create,w=y.get,E=o.Symbol,B=o.JSON,x=B&&B.stringify,O=!1,T=p("_hidden"),S=r.isEnum,I=l("symbol-registry"),j=l("symbols"),P="function"==typeof E,R=Object.prototype,M=a&&c(function(){return 7!=k(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(R,t);r&&delete R[t],_(e,t,n),r&&e!==R&&_(R,t,r)}:_,N=function(e){var t=j[e]=k(E.prototype);return t._k=e,a&&O&&M(R,e,{configurable:!0,set:function(t){i(this,T)&&i(this[T],e)&&(this[T][e]=!1),M(this,e,b(1,t))}}),t},D=function(e){return"symbol"==typeof e},G=function(e,t,n){return n&&i(j,t)?(n.enumerable?(i(e,T)&&e[T][t]&&(e[T][t]=!1),n=k(n,{enumerable:b(0,!1)})):(i(e,T)||_(e,T,b(1,{})),e[T][t]=!0),M(e,t,n)):_(e,t,n)},q=function(e,t){m(e);for(var n,r=g(t=v(t)),o=0,i=r.length;i>o;)G(e,n=r[o++],t[n]);return e},U=function(e,t){return void 0===t?k(e):q(k(e),t)},L=function(e){var t=S.call(this,e);return!(t||!i(this,e)||!i(j,e)||i(this,T)&&this[T][e])||t},F=function(e,t){var n=C(e=v(e),t);return!n||!i(j,t)||i(e,T)&&e[T][t]||(n.enumerable=!0),n},W=function(e){for(var t,n=w(v(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==T||r.push(t);return r},H=function(e){for(var t,n=w(v(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])&&r.push(j[t]);return r},z=function(e){if(void 0!==e&&!D(e)){for(var t,n,r=[e],o=1,i=arguments;i.length>o;)r.push(i[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&A(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!D(t))return t}),r[1]=t,x.apply(B,r)}},Y=c(function(){var e=E();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))});P||(E=function(){if(D(this))throw TypeError("Symbol is not a constructor");return N(f(arguments.length>0?arguments[0]:void 0))},u(E.prototype,"toString",function(){return this._k}),D=function(e){return e instanceof E},r.create=U,r.isEnum=L,r.getDesc=F,r.setDesc=G,r.setDescs=q,r.getNames=y.get=W,r.getSymbols=H,a&&!n(31)&&u(R,"propertyIsEnumerable",L,!0));var $={"for":function(e){return i(I,e+="")?I[e]:I[e]=E(e)},keyFor:function(e){return h(I,e)},useSetter:function(){O=!0},useSimple:function(){O=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);$[e]=P?t:N(t)}),O=!0,s(s.G+s.W,{Symbol:E}),s(s.S,"Symbol",$),s(s.S+s.F*!P,"Object",{create:U,defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:F,getOwnPropertyNames:W,getOwnPropertySymbols:H}),B&&s(s.S+s.F*(!P||Y),"JSON",{stringify:z}),d(E,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){n(127);var r=n(16);r.NodeList=r.HTMLCollection=r.Array},function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.e=n(137),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}e.e={"default":e.e,__esModule:!0}}).call(t,function(){return this}())},function(e,t,n){(function(t,r){"use strict";var o=n(45)["default"],i=n(43)["default"],a=n(44)["default"],s=n(26)["default"];!function(t){function n(e,t,n,r){var o=i((t||c).prototype),a=new m(r||[]);return o._invoke=y(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function c(){}function l(){}function d(){}function f(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function p(e){this.arg=e}function h(e){function t(n,r,o,i){var a=u(e[n],e,r);if("throw"!==a.type){var c=a.arg,l=c.value;return l instanceof p?s.resolve(l.arg).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):s.resolve(l).then(function(e){c.value=e,o(c)},i)}i(a.arg)}function n(e,n){function r(){return new s(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}"object"==typeof r&&r.domain&&(t=r.domain.bind(t));var o;this._invoke=n}function y(e,t,n){var r=O;return function(o,i){if(r===S)throw new Error("Generator is already running");if(r===I){if("throw"===o)throw i;return b()}for(;;){var a=n.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===C){n.delegate=null;var s=a.iterator["return"];if(s){var c=u(s,a.iterator,i);if("throw"===c.type){o="throw",i=c.arg;continue}}if("return"===o)continue}var c=u(a.iterator[o],a.iterator,i);if("throw"===c.type){n.delegate=null,o="throw",i=c.arg;continue}o="next",i=C;var l=c.arg;if(!l.done)return r=T,l;n[a.resultName]=l.value,n.next=a.nextLoc,n.delegate=null}if("next"===o)r===T?n.sent=i:n.sent=C;else if("throw"===o){if(r===O)throw r=I,i;n.dispatchException(i)&&(o="next",i=C)}else"return"===o&&n.abrupt("return",i);r=S;var c=u(e,t,n);if("normal"===c.type){r=n.done?I:T;var l={value:c.arg,done:n.done};if(c.arg!==j)return l;n.delegate&&"next"===o&&(i=C)}else"throw"===c.type&&(r=I,o="throw",i=c.arg)}}}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function v(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function o(){for(;++n<e.length;)if(_.call(e,n))return o.value=e[n],o.done=!1,o;return o.value=C,o.done=!0,o};return r.next=r}}return{next:b}}function b(){return{value:C,done:!0}}var C,_=Object.prototype.hasOwnProperty,k="function"==typeof o?o:{},w=k.iterator||"@@iterator",E=k.toStringTag||"@@toStringTag",B="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(B&&(e.e=x));x=t.regeneratorRuntime=B?e.e:{},x.wrap=n;var O="suspendedStart",T="suspendedYield",S="executing",I="completed",j={},P=d.prototype=c.prototype;l.prototype=P.constructor=d,d.constructor=l,d[E]=l.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return a?a(e,d):(e.__proto__=d,E in e||(e[E]="GeneratorFunction")),e.prototype=i(P),e},x.awrap=function(e){return new p(e)},f(h.prototype),x.async=function(e,t,r,o){var i=new h(n(e,t,r,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},f(P),P[w]=function(){return this},P[E]="Generator",P.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=v,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=C,this.done=!1,this.delegate=null,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=C)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=_.call(o,"catchLoc"),s=_.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?this.next=o.finallyLoc:this.complete(i),j},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),j}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},j}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(t,function(){return this}(),n(67))},function(e,t,n){!function(){function n(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++s+"";return e?e+t:t},has:function(e,t){return i.call(e,t)},each:function(e,t,n){if(null!=e)if(o&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)this.has(e,a)&&t.call(n,e[a],a,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var r,o=Array.prototype.forEach,i=Object.prototype.hasOwnProperty,a=Array.prototype.slice,s=0,u=n();r={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});
var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,o=u.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n)},off:function(e,t,n){var r,o,i,a,s,c,d,f;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:u.keys(this._events),s=0,c=a.length;s<c;s++)if(e=a[s],i=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,f=i.length;d<f;d++)o=i[d],(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&d(n,t),r&&d(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var o=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var i in r)r[i].off(t,n,this),o&&delete this._listeners[i];return this}};var c=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(r));return!1}if(c.test(n)){for(var i=n.split(c),a=0,s=i.length;a<s;a++)e[t].apply(e,[i[a]].concat(r));return!1}return!0},d=function(e,t){var n,r=-1,o=e.length,i=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};u.each(f,function(e,t){r[t]=function(t,n,r){var o=this._listeners||(this._listeners={}),i=t._listenerId||(t._listenerId=u.uniqueId("l"));return o[i]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),r.bind=r.on,r.unbind=r.off,r.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return u.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof e&&e.e&&(t=e.e=r),t.BackboneEvents=r}(this)},function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.e=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){!function(){function t(e){return this.camelCase=e.camelCase,this.propertyNameMap=e.propertyNameMap,this.changeCallbacks=e.changeCallbacks,this.abortCallbacks=e.abortCallbacks,this.getObjectCallback=e.getObjectCallback,this.doesObjectMatchIdCallback=e.doesObjectMatchIdCallback||function(e,t){return t.id==e},this.returnIds=e.returnIds,this}function n(e,t,n){this.changeCallbacks&&n&&this.changeCallbacks[n]&&Object.keys(e).forEach(function(r){this.changeCallbacks[n].all?this.changeCallbacks[n].all(t,t[r],e[r].before,e[r].paths):this.changeCallbacks[n][r]&&this.changeCallbacks[n][r](t,t[r],e[r].before,e[r].paths)},this)}function r(e,t,n,r){var o=t.object,a=String.fromCharCode(145);e=e.replace(/\\\./g,a),e=e.replace(/\\(.)/g,"$1");var s=e.split(/\./),u=new RegExp(a,"g");if(s=s.map(function(e){return e.replace(u,".")}),this.camelCase&&(s[0]=s[0].replace(/[-_]./g,function(e){return e[1].toUpperCase()})),this.propertyNameMap){var c=this.propertyNameMap[t.type];s[0]=c&&c[s[0]]||s[0]}i.apply(this,[{baseName:s[0],fullPath:e,object:t.object,options:t,changes:n,operation:r}]);for(var l=o,d=0;d<s.length-1;d++){var f=s[d];if(f in l){if(l=l[f],null===l||"object"!=typeof l)throw new Error("Can not access property '"+e+"'")}else l[f]={},l=l[f]}return{pointer:l,lastName:s[s.length-1],baseName:s[0],fullPath:e,abortHandler:this.abortCallbacks&&this.abortCallbacks[t.type]&&(this.abortCallbacks[t.type].all||this.abortCallbacks[t.type][s[0]])}}function o(e,t){if(e.id){if(!this.getObjectCallback)throw new Error("Must provide getObjectCallback in constructor to use ids");var n=this.getObjectCallback(e.id);return n?n:this.returnIds?e.id:null}return e.value}function i(e){if(!e.changes[e.baseName]){var t=e.object[e.baseName];"id"in e.operation&&t&&(t=t.id);var n=e.changes[e.baseName]={paths:[]};n.before=t&&"object"==typeof t?JSON.parse(JSON.stringify(t)):t}var r=e.changes[e.baseName].paths;r.indexOf(e.fullPath)===-1&&r.push(e.fullPath)}function a(e,t,n,r,o){e.abortHandler&&e.abortHandler(e.fullPath,"set",t)||(e.pointer[e.lastName]=t)}function s(e,t,n,r,o){e.abortHandler&&e.abortHandler(e.fullPath,"delete",t)||delete e.pointer[e.lastName]}function u(e,t,n,r,o){if(!e.abortHandler||!e.abortHandler(e.fullPath,"add",t)){var i;if(i=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!Array.isArray(i))throw new Error("The add operation requires an array or new structure to add to.");if(!n.id){if(Array.isArray(t))throw new Error("The add operation will not add arrays to sets.");if(t&&"object"==typeof t)throw new Error("The add operation will not add objects to sets.")}i.indexOf(t)===-1&&i.push(t)}}function c(e,t,n,r,o){if(!e.abortHandler||!e.abortHandler(e.fullPath,"remove",t)){var i;if(i=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!Array.isArray(i))throw new Error("The remove operation requires an array or new structure to remove from.");if(n.id){for(var a=0;a<i.length;a++)if(this.doesObjectMatchIdCallback(n.id,i[a])){i.splice(a,1);break}}else{if(Array.isArray(t))throw new Error("The remove operation will not remove arrays from sets.");if(t&&"object"==typeof t)throw new Error("The remove operation will not remove objects from sets.");var s=i.indexOf(t);s!==-1&&i.splice(s,1)}}}var l={set:a,"delete":s,add:u,remove:c};e.e=t,t.prototype.parse=function(e){var t={};e.operations.forEach(function(n){var i=r.apply(this,[n.property,e,t,n]);l[n.operation].call(this,i,o.apply(this,[n,e]),n,e,t)},this),n.apply(this,[t,e.object,e.type])}}()},function(e,t,n){(function(t){t.layer||(t.layer={}),t.layer.plugins||(t.layer.plugins={});var r=t.layer;r.Root=n(2),r.Client=n(142),r.ClientAuthenticator=n(56),r.Conversation=n(35),r.Message=n(24),r.MessagePart=n(58),r.Query=n(37),r.QueryBuilder=n(143),r.xhr=n(13),r.User=n(63),r.LayerError=n(6),r.LayerEvent=n(36),r.Content=n(57),r.SyncManager=n(60),r.SyncEvent=n(17).SyncEvent,r.XHRSyncEvent=n(17).XHRSyncEvent,r.WebsocketSyncEvent=n(17).WebsocketSyncEvent,r.Websockets={SocketManager:n(66),RequestManager:n(65),ChangeManager:n(64)},r.OnlineStateManager=n(59),r.Constants=n(12),r.Util=n(1),r.TypingIndicators=n(25),r.TypingIndicators.TypingListener=n(62),r.TypingIndicators.TypingPublisher=n(38),e.e=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},u=n(56),c=n(35),l=n(37),d=n(6),f=n(24),p=n(63),h=n(144),y=n(1),g=n(2),A=n(11),m=n(3),v=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return A.register(n),n._conversationsHash={},n._messagesHash={},n._tempConversationsHash={},n._tempMessagesHash={},n._queriesHash={},e.users?n.__updateUsers(n.users):n.users=[],n._initComponents(),n.on("online",n._connectionRestored.bind(n)),n}return i(t,e),a(t,[{key:"_initComponents",value:function(){var e=this;s(Object.getPrototypeOf(t.prototype),"_initComponents",this).call(this),this._typingIndicators=new h({clientId:this.appId}),Object.keys(t.plugins).forEach(function(n){e[n]=new t.plugins[n](e)})}},{key:"_cleanup",value:function(){var e=this;this.isDestroyed||(this._inCleanup=!0,Object.keys(this._conversationsHash).forEach(function(t){var n=e._conversationsHash[t];n&&!n.isDestroyed&&n.destroy()}),this._conversationsHash=null,Object.keys(this._messagesHash).forEach(function(t){var n=e._messagesHash[t];n&&!n.isDestroyed&&n.destroy()}),this._messagesHash=null,Object.keys(this._queriesHash).forEach(function(t){e._queriesHash[t].destroy()}),this._queriesHash=null,this.users&&[].concat(this.users).forEach(function(e){return e.destroy?e.destroy():null}),this.users=[],this.socketManager&&this.socketManager.close())}},{key:"destroy",value:function(){var e=this;Object.keys(t.plugins).forEach(function(t){e[t]&&(e[t].destroy(),delete e[t])}),this._cleanup(),this._destroyComponents(),A.unregister(this),s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._inCleanup=!1}},{key:"getConversation",value:function(e,t){if("string"!=typeof e)throw new Error(d.dictionary.idParamRequired);return this._conversationsHash[e]?this._conversationsHash[e]:this._tempConversationsHash[e]&&this._conversationsHash[this._tempConversationsHash[e]]?this._conversationsHash[this._tempConversationsHash[e]]:t?c.load(e,this):void 0}},{key:"_addConversation",value:function(e){var t=e.id;return this._conversationsHash[t]||(this._conversationsHash[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("conversations:add",{conversations:[e]})),this}},{key:"_removeConversation",value:function(e){var t=this;return e.off(null,null,this),this._conversationsHash[e.id]&&(delete this._conversationsHash[e.id],this._triggerAsync("conversations:remove",{conversations:[e]})),delete this._tempConversationsHash[e._tempId],Object.keys(this._messagesHash).forEach(function(n){t._messagesHash[n].conversationId===e.id&&t._messagesHash[n].destroy()}),this}},{key:"_updateConversationId",value:function(e,t){var n=this;this._conversationsHash[t]&&(this._conversationsHash[e.id]=e,delete this._conversationsHash[t],this._tempConversationsHash[t]=e.id,Object.keys(this._messagesHash).filter(function(e){return n._messagesHash[e].conversationId===t}).forEach(function(t){return n._messagesHash[t].conversationId=e.id}))}},{key:"getMessage",value:function(e,t){if("string"!=typeof e)throw new Error(d.dictionary.idParamRequired);return this._messagesHash[e]?this._messagesHash[e]:this._tempMessagesHash[e]&&this._messagesHash[this._tempMessagesHash[e]]?this._messagesHash[this._tempMessagesHash[e]]:t?f.load(e,this):void 0}},{key:"getMessagePart",value:function(e){if("string"!=typeof e)throw new Error(d.dictionary.idParamRequired);var t=e.replace(/\/parts.*$/,""),n=this.getMessage(t);if(n)return n.getPartById(e)}},{key:"_addMessage",value:function(e){if(!this._messagesHash[e.id]){this._messagesHash[e.id]=e,this._triggerAsync("messages:add",{messages:[e]}),e._notify&&(this._triggerAsync("messages:notify",{message:e}),e._notify=!1);var t=e.getConversation();t&&(!t.lastMessage||t.lastMessage.position<e.position)&&(t.lastMessage=e)}}},{key:"_removeMessage",value:function(e){var t="string"==typeof e?e:e.id;if(e=this._messagesHash[t],e&&(delete this._messagesHash[t],delete this._tempMessagesHash[e._tempId],!this._inCleanup)){this._triggerAsync("messages:remove",{messages:[e]});var n=e.getConversation();n&&n.lastMessage===e&&(n.lastMessage=null)}}},{key:"_updateMessageId",value:function(e,t){this._messagesHash[e.id]=e,delete this._messagesHash[t],this._tempMessagesHash[t]=e.id}},{key:"_getObject",value:function(e){switch(y.typeFromID(e)){case"messages":return this.getMessage(e);case"conversations":return this.getConversation(e);case"queries":return this.getQuery(e)}}},{key:"_createObject",value:function(e){switch(y.typeFromID(e.id)){case"messages":var t=this.getConversation(e.conversation.id,!0);return f._createFromServer(e,t);case"conversations":return c._createFromServer(e,this)}}},{key:"_processDelayedTriggers",value:function(){if(!this.isDestroyed){var e=this._delayedTriggers.filter(function(e){return"conversations:add"===e[0]}),n=this._delayedTriggers.filter(function(e){return"conversations:remove"===e[0]});this._foldEvents(e,"conversations",this),this._foldEvents(n,"conversations",this);var r=this._delayedTriggers.filter(function(e){return"messages:add"===e[0]}),o=this._delayedTriggers.filter(function(e){return"messages:remove"===e[0]});this._foldEvents(r,"messages",this),this._foldEvents(o,"messages",this),s(Object.getPrototypeOf(t.prototype),"_processDelayedTriggers",this).call(this)}}},{key:"trigger",value:function(e,n){this._triggerLogger(e,n),s(Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_triggerLogger",value:function(e,t){var n=["conversations:add","conversations:remove","conversations:change","messages:add","messages:remove","messages:change","challenge","ready"];if(n.indexOf(e)!==-1){if(t&&t.isChange)m.info("Client Event: "+e+" "+t.changes.map(function(e){return e.property}).join(", "));else{var r="";t&&(t.message&&(r=t.message.id),t.messages&&(r=t.messages.length+" messages"),t.conversation&&(r=t.conversation.id),t.conversations&&(r=t.conversations.length+" conversations")),m.info("Client Event: "+e+" "+r)}t&&m.debug(t)}else m.debug(e,t)}},{key:"findCachedConversation",value:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._conversationsHash),o=r.length,i=0;i<o;i++){var a=r[i],s=this._conversationsHash[a];if(n(s,i))return s}}},{key:"_resetSession",value:function(){return this._cleanup(),this.users=[],this._conversationsHash={},this._messagesHash={},this._queriesHash={},s(Object.getPrototypeOf(t.prototype),"_resetSession",this).call(this)}},{key:"addUser",value:function(e){return this.users.push(e),e.setClient(this),this.trigger("users:change"),this}},{key:"findUser",value:function(e){for(var t=this.users.length,n=0;n<t;n++){var r=this.users[n];if(r.id===e)return r}}},{key:"__adjustUsers",value:function(e){return e?Array.isArray(e)?void 0:[e]:[]}},{key:"__updateUsers",value:function(e){var t=this;e.forEach(function(e){e instanceof p&&e.setClient(t)}),this.trigger("users:change")}},{key:"createConversation",value:function(e){var t=void 0;return t=Array.isArray(e)?{participants:e}:e,"distinct"in t||(t.distinct=!0),t.client=this,c.create(t)}},{key:"getQuery",value:function(e){if("string"!=typeof e)throw new Error(d.dictionary.idParamRequired);if(this._queriesHash[e])return this._queriesHash[e]}},{key:"createQuery",value:function(e){var t=void 0;return"function"==typeof e.build?t=new l(this,e):(e.client=this,t=new l(e)),this._addQuery(t),t}},{key:"_addQuery",value:function(e){this._queriesHash[e.id]=e}},{key:"_removeQuery",value:function(e){var t=this;if(e){if(!this._inCleanup){var n=e.data.map(function(e){return t._getObject(e.id)}).filter(function(e){return e});this._checkCache(n)}this.off(null,null,e),delete this._queriesHash[e.id]}}},{key:"_checkCache",value:function(e){var t=this;e.forEach(function(e){t._isCachedObject(e)||(e instanceof g==!1&&(e=t._getObject(e.id)),e.destroy())})}},{key:"_isCachedObject",value:function(e){for(var t=Object.keys(this._queriesHash),n=0;n<t.length;n++){var r=this._queriesHash[t[n]];if(r._getItem(e.id))return!0}}},{key:"_connectionRestored",value:function(e){var t=this;e.reset&&(m.debug("Client Connection Restored; Resetting all Queries"),Object.keys(this._queriesHash).forEach(function(e){var n=t._queriesHash[e];n&&n.reset()}))}},{key:"_removeObject",value:function(e){e&&e.destroy()}},{key:"createTypingListener",value:function(e){var t=n(62);return new t({clientId:this.appId,input:e})}},{key:"createTypingPublisher",value:function(){var e=n(38);return new e({clientId:this.appId})}}],[{key:"getClient",value:function(e){return A.get(e)}},{key:"destroyAllClients",value:function(){A.getAll().forEach(function(e){return e.destroy()})}},{key:"registerPlugin",value:function(e,n){t.plugins[e]=n}}]),t}(u);v.prototype._conversationsHash=null,v.prototype._messagesHash=null,v.prototype._tempConversationsHash=null,v.prototype._tempMessagesHash=null,v.prototype._queriesHash=null,v.prototype.users=null,v._ignoredEvents=["conversations:loaded","conversations:loaded-error"],v._supportedEvents=["conversations:add","conversations:remove","conversations:sent","conversations:sent-error","conversations:change","messages:notify","messages:add","messages:remove","messages:sent","messages:sending","messages:sent-error","messages:change","messages:read","conversations:delete","messages:delete","users:change","typing-indicator-change"].concat(u._supportedEvents),v.plugins={},g.initClass.apply(v,[v,"Client"]),e.e=v},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(37),s=n(6),u=function(){function e(t){o(this,e),t?this._query={model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:this._query={model:a.Message,returnType:"object",dataType:"object",paginationWindow:a.prototype.paginationWindow},this._conversationIdSet=!1}return i(e,[{key:"forConversation",value:function(e){return e?(this._query.predicate="conversation.id = '"+e+"'",this._conversationIdSet=!0):(delete this._query.predicate,this._conversationIdSet=!1),this}},{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){if(!this._conversationIdSet)throw new Error(s.dictionary.conversationMissing);return this._query}}]),e}(),c=function(){function e(t){o(this,e),t?this._query={model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:t.sortBy}:this._query={model:a.Conversation,returnType:"object",dataType:"object",paginationWindow:a.prototype.paginationWindow,sortBy:null}}return i(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"sortBy",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return this._query.sortBy=[r({},e,t?"asc":"desc")],this}},{key:"build",value:function(){return this._query}}]),e}(),l={messages:function(){return new u},conversations:function(){return new c},fromQueryObject:function(e){switch(e.model){case a.Message:return new u(e);case a.Conversation:return new c(e);default:return null}}};e.e=l},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=n(11),l=n(25),d=l.STARTED,f=l.PAUSED,p=l.FINISHED,h=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));n.state={},n._pollId=0;var r=n._getClient();return r.on("ready",function(){return n._clientReady()}),n}return a(t,e),s(t,[{key:"_clientReady",value:function(){var e=this._getClient();this.userId=e.userId;var t=e.socketManager;t.on("message",this._handleSocketEvent,this),this._startPolling()}},{key:"_isRelevantEvent",value:function(e){return"signal"===e.type&&"typing_indicator"===e.body.type&&e.body.data.user_id!==this.userId}},{key:"_handleSocketEvent",value:function(e){var t=e.data;if(this._isRelevantEvent(t)){var n=t.body.data.user_id,r=t.body.data.action,o=t.body.object.id,i=this.state[o];i||(i=this.state[o]={users:{},typing:[],paused:[]}),i.users[n]={startTime:Date.now(),state:r},i.users[n].state===p&&delete i.users[n],this._updateState(i,r,n),this.trigger("typing-indicator-change",{conversationId:o,typing:i.typing,paused:i.paused})}}},{key:"_updateState",value:function(e,t,n){var o=e.typing.indexOf(n);t!==d&&o!==-1&&(e.typing=[].concat(r(e.typing.slice(0,o)),r(e.typing.slice(o+1))));var i=e.paused.indexOf(n);t!==f&&i!==-1&&(e.paused=[].concat(r(e.paused.slice(0,i)),r(e.paused.slice(i+1)))),t===d&&o===-1?e.typing=[].concat(r(e.typing),[n]):t===f&&i===-1&&(e.paused=[].concat(r(e.paused),[n]))}},{key:"_startPolling",value:function(){var e=this;this._pollId||(this._pollId=setInterval(function(){return e._poll()},5e3))}},{key:"_poll",value:function(){var e=this,t=Object.keys(this.state);t.forEach(function(t){var n=e.state[t];Object.keys(e.state[t].users).forEach(function(r){Date.now()>=n.users[r].startTime+6e3&&(e._updateState(n,p,r),delete n.users[r],e.trigger("typing-indicator-change",{conversationId:t,typing:n.typing,paused:n.paused}))})})}},{key:"_getClient",value:function(){return c.get(this.clientId)}}]),t}(u);h.prototype._pollId=0,h.prototype.clientId="",h.bubbleEventParent="_getClient",h._supportedEvents=["typing-indicator-change"].concat(u._supportedEvents),u.initClass.apply(h,[h,"TypingIndicatorListener"]),e.e=h},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}])})}).call(t,n(27))},1794:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getStudentsForGuru=t.submitRating=t.assignGuru=t.submitCheckin=t.fetchGuruForCourse=void 0;var o=n(670),i=n(1796),a=r(i),s=n(671),u=r(s),c=t.fetchGuruForCourse=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.createAsyncActionCreator)(a["default"].FETCH_GURU,a["default"].FETCH_GURU_COMPLETE,function(){return u["default"].getGuruForCourse.apply(u["default"],t)})},l=t.submitCheckin=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.createAsyncActionCreator)(a["default"].SUBMIT_GURU_CHECKIN,a["default"].SUBMIT_GURU_CHECKIN_COMPLETE,function(){return u["default"].submitCheckin.apply(u["default"],t)})},d=t.assignGuru=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.createAsyncActionCreator)(a["default"].UPDATE_GURU_ASSIGN,a["default"].UPDATE_GURU_ASSIGN_COMPLETE,function(){return u["default"].assignGuru.apply(u["default"],t)})},f=t.submitRating=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.createAsyncActionCreator)(a["default"].SUBMIT_GURU_RATING,a["default"].SUBMIT_GURU_RATING_COMPLETE,function(){return u["default"].submitRating.apply(u["default"],t)})},p=t.getStudentsForGuru=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.createAsyncActionCreator)(a["default"].FETCH_GURU,a["default"].FETCH_GURU_COMPLETE,function(){return u["default"].getStudentsForGuru.apply(u["default"],t)})};t["default"]={fetchGuruForCourse:c,submitCheckin:l,assignGuru:d,submitRating:f,getStudentsForGuru:p}},1796:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.FETCH_GURU="FETCH_GURU",r=t.FETCH_GURU_COMPLETE="FETCH_GURU_COMPLETE",o=t.ASSIGN_GURU="ASSIGN_GURU",i=t.ASSIGN_GURU_COMPLETE="ASSIGN_GURU_COMPLETE",a=t.SUBMIT_GURU_CHECKIN="SUBMIT_GURU_CHECKIN",s=t.SUBMIT_GURU_CHECKIN_COMPLETE="SUBMIT_GURU_CHECKIN_COMPLETE",u=t.SUBMIT_GURU_RATING="SUBMIT_GURU_RATING",c=t.SUBMIT_GURU_RATING_COMPLETE="SUBMIT_GURU_RATING_COMPLETE";t["default"]={FETCH_GURU:n,FETCH_GURU_COMPLETE:r,ASSIGN_GURU:o,ASSIGN_GURU_COMPLETE:i,SUBMIT_GURU_RATING:u,SUBMIT_GURU_RATING_COMPLETE:c,SUBMIT_GURU_CHECKIN:a,SUBMIT_GURU_CHECKIN_COMPLETE:s}},1797:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1864),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=(u=s=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleOnClick=function(e){r.props.changeSteps&&r.props.changeSteps(e)},r.renderDots=function(e,t){for(var n=[],o=0;o<e;o++){var i=void 0;o===t?i="active":o<t&&(i="inactive"),r.props.changeSteps&&(i+=" hover");var a=p["default"].createElement("div",{key:o,styleName:"dot "+i,onClick:r.handleOnClick.bind(r,o)});n.push(a)}return n},a=n,i(r,a)}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.current;return p["default"].createElement("div",{styleName:"dots"},this.renderDots(t,n))}}]),t}(f.Component),s.propTypes={total:f.PropTypes.number.isRequired,current:f.PropTypes.number.isRequired,changeSteps:f.PropTypes.func},s.defaultProps={total:3,current:1},u);t["default"]=(0,y["default"])(g,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1798:function(e,t,n){"use strict";function r(e,t){(0,i.track)("Guru Onboarding CTA Interacted",{cta_message:e,category:"Guru Onboarding CTA",label:"Guru Onboarding CTA Interacted",sku:t})}function o(e,t,n){r(e,t),n()}Object.defineProperty(t,"__esModule",{value:!0}),t.reportSegmentEvent=r,t.next=o;var i=n(1791)},1800:function(e,t,n){var r=n(1856);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1801:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1858),i=r(o),a=n(3),s=r(a),u=n(1),c=r(u),l=function(e){var t=e.size,n=e.image,r=e.highlight,o={width:t,height:t,backgroundImage:"url("+n+")"};return c["default"].createElement("div",{styleName:"image "+(r&&"highlight"),style:o})};l.defaultProps={size:"2em"},l.propTypes={size:u.PropTypes.string,image:u.PropTypes.string,highlight:u.PropTypes.bool},t["default"]=(0,s["default"])(l,i["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1802:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1859),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=(u=s=function(e){
function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return p["default"].createElement("div",{styleName:"progressbar"},p["default"].createElement("div",{styleName:"bar"},p["default"].createElement("div",{styleName:"filled",style:{width:this.props.progress+"%"}})),this.props.showText&&p["default"].createElement("div",{styleName:"text"},this.props.progress,"%"))}}]),t}(f.Component),s.propTypes={progress:f.PropTypes.number.isRequired,showText:f.PropTypes.bool},s.defaultProps={showText:!0},u);t["default"]=(0,y["default"])(g,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1803:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1860),s=r(a),u=n(3),c=r(u),l=n(1),d=r(l),f=function(e){var t=e.profilePic,n=void 0===t?"http://kleptocracyinitiative.org/wp-content/themes/fcai/images/default_user_image.jpg":t,r=e.size,a=void 0===r?"4em":r,s=(e.styles,o(e,["profilePic","size","styles"]));return d["default"].createElement("div",i({styleName:"avatar"},s),d["default"].createElement("div",{styleName:"inner",style:{backgroundImage:"url("+n+")",width:a,height:a}}))};f.propTypes={profilePic:l.PropTypes.string,size:l.PropTypes.string},t["default"]=(0,c["default"])(f,s["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1804:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,l,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1861),h=r(p),y=n(1),g=r(y),A=n(3),m=r(A),v=n(9),b=n(1814),C=r(b),_=n(1794),k=r(_),w=n(1793),E=n(59),B=(l=c=function(e){function t(){var e,n,r,o,u=this;a(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={conversation:void 0,loading:!0},r.initConversationAndMessages=function(){var e=i(regeneratorRuntime.mark(function t(e,n){var o,i,a,s,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.props,i=o.me,a=o.jwt,r.setState({loading:!0}),s=w.chatState.getConvoByCourseAndRecipient(e,n)){t.next=11;break}return c=[n],l={courseId:e},t.next=10,r.props.createConversation(c,l,!1);case 10:s=w.chatState.getConvoByCourseAndRecipient(e,n);case 11:return t.next=13,r.props.selectConversation(s.id);case 13:r.props.onConversationLoaded(s,r.props.sendMessage),r.setState({loading:!1,conversation:s});case 15:case"end":return t.stop()}},t,u)}));return function(t,n){return e.apply(this,arguments)}}(),o=n,s(r,o)}return u(t,e),f(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){var e,t,r,o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props,t=e.chatState,r=e.courseId,o=e.jwt,i=e.me,t._instance.on("change",this.props.manuallyTriggerReducer),n.prev=6,n.next=9,this.props.connect({userId:i.key,jwt:o});case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](6),console.log("ERROR",n.t0);case 14:return a=this.props.recipientProfile.uid,n.next=17,this.initConversationAndMessages(r,a);case 17:case"end":return n.stop()}},n,this,[[6,11]])}));return e}()},{key:"componentWillUnmount",value:function(){var e=this.props.chatState;e._instance.removeListener("change",this.props.manuallyTriggerReducer)}},{key:"componentWillReceiveProps",value:function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(e){var t,r,o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.props,r=t.courseId,o=t.jwt,i=t.me,a=t.recipientProfile,e.courseId===r&&e.recipientProfile.uid===a.uid){n.next=8;break}return n.next=8,this.initConversationAndMessages(e.courseId,e.recipientProfile.uid);case 8:case"end":return n.stop()}},n,this)}));return e}()},{key:"render",value:function(){var e=this.state.loading,t=this.props,n=(t.styles,t.courseId),r=t.chatState,i=t.recipientProfile,a=t.me;o(t,["styles","courseId","chatState","recipientProfile","me"]);if(r.error)return g["default"].createElement("div",{styleName:"error"},r.error.status);if(e)return g["default"].createElement("div",{styleName:"loading"},g["default"].createElement(E.UreactLoading,null));var s=w.chatState.getConvoByCourseAndRecipient(n,i.uid),u=void 0;return s&&(u=r.conversationMessages[s.id]),g["default"].createElement(C["default"],{me:a,courseId:n,conversation:s,messages:u,recipientProfile:i,sendMessage:this.props.sendMessage,sendImage:this.props.sendImage,indent:this.props.indent})}}]),t}(y.Component),c.propTypes={connect:y.PropTypes.func.isRequired,manuallyTriggerReducer:y.PropTypes.func.isRequired,createConversation:y.PropTypes.func.isRequired,selectConversation:y.PropTypes.func.isRequired,sendMessage:y.PropTypes.func.isRequired,sendImage:y.PropTypes.func.isRequired,chatState:y.PropTypes.shape({_instance:y.PropTypes.object.isRequired,conversations:y.PropTypes.object.isRequired,conversationMessages:y.PropTypes.object.isRequired}).isRequired,recipientProfile:y.PropTypes.shape({uid:y.PropTypes.string.isRequired,name:y.PropTypes.string.isRequired}).isRequired,onConversationLoaded:y.PropTypes.func.isRequired,me:y.PropTypes.shape({key:y.PropTypes.string.isRequired}).isRequired,courseId:y.PropTypes.string.isRequired,jwt:y.PropTypes.string.isRequired,indent:y.PropTypes.bool},l),x=function(e){return d({},e)},O=d({},k["default"],w.actions);t["default"]=(0,v.connect)(x,O)((0,m["default"])(B,h["default"],{allowMultiple:!0,errorWhenNotFound:!1}))}).call(t,n(27))},1805:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1866),i=r(o),a=n(3),s=r(a),u=n(1),c=r(u),l=function(e){var t=e.size,n=e.image,r=e.highlight,o=(e.highlightColor,{width:t,height:t,backgroundImage:"url("+n+")"});return c["default"].createElement("div",{styleName:"image "+(r&&"highlight"),style:o})};l.defaultProps={size:"2em"},l.propTypes={size:u.PropTypes.string,image:u.PropTypes.string,highlight:u.PropTypes.bool,highlightColor:u.PropTypes.string},t["default"]=(0,s["default"])(l,i["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1806:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1869),f=r(d),p=n(1),h=r(p),y=n(3),g=r(y),A=n(1797),m=r(A),v=(c=u=function(e){function t(){var e,n,r,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={currentStep:0},r.next=function(){return r.state.currentStep===r.props.steps.length-1?void(r.props.done&&r.props.done()):void r.setState({currentStep:r.state.currentStep+1})},r.prev=function(){0!==r.state.currentStep&&r.setState({currentStep:r.state.currentStep-1})},r.skipToStep=function(e){e<0||e>r.props.steps.length-1||r.setState({currentStep:e})},r.renderCurrentStep=function(e){var t=r.props,n=t.steps,i=(t.done,t.styles,o(t,["steps","done","styles"])),a=n[e];return h["default"].createElement(a,Object.assign({},i,{className:r.getAnimationStyleName(e),next:r.next,prev:r.prev,skipToStep:r.skipToStep,currentStep:r.state.currentStep}))},r.getAnimationStyleName=function(e){var t=r.props.steps.length-1,n=f["default"].next;switch(e){case 0:n=f["default"].first;break;case t:n=f["default"].last}return n},s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=(e.done,e.steps,e.className),n=(o(e,["done","steps","className"]),this.state.currentStep);return h["default"].createElement("div",{styleName:"overlay-panel",className:t},h["default"].createElement("div",{styleName:"content"},this.renderCurrentStep(n)),h["default"].createElement("div",{styleName:"end"},h["default"].createElement(m["default"],{total:this.props.steps.length,current:n,changeSteps:this.skipToStep})))}}]),t}(p.Component),u.propTypes={steps:p.PropTypes.arrayOf(p.PropTypes.any).isRequired,done:p.PropTypes.func},u.defaultProps={steps:[],done:function(){}},c);t["default"]=(0,g["default"])(v,f["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1807:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1796),s=r(a),u={students:{},pairings:{},gurus:{},checkins:{}};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1],n=t.type,r=t.payload;switch(n){case s["default"].FETCH_GURU_COMPLETE:e=i({},e,r);break;case s["default"].ASSIGN_GURU_COMPLETE:e=i({},e,{pairings:i({},e.pairings,o({},r.pairing.course_id,r.pairing)),gurus:i({},e.gurus,o({},r.guru.uid,r.guru))})}return e}},1808:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(170),i=n(674),a=r(i),s=n(1807),u=r(s),c=n(1793);t["default"]=(0,o.createStore)((0,o.combineReducers)({guru:u["default"],chatState:c.reducer}),(0,o.applyMiddleware)(a["default"]))},1811:function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return s;if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=l.test(e);return n||d.test(e)?f(e.slice(2),n?2:8):c.test(e)?s:+e}var o=n(169),i=n(77),a=n(227),s=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;e.exports=r},1812:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1857),f=r(d),p=n(1),h=r(p),y=n(3),g=r(y),A=n(1802),m=r(A),v=n(1801),b=r(v),C=(c=u=function(e){function t(){var e,n,r,s,u=this;i(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isDragging:!1,error:void 0,uploading:!1,progress:0,preview:void 0},r.onClick=function(e){r.state.uploading||r.fileInput.click()},r.onDragEnter=function(e){e.preventDefault(),r.state.uploading||r.setState({isDragging:!0})},r.onDragLeave=function(e){e.preventDefault(),r.state.uploading||r.setState({isDragging:!1})},r.onDragOver=function(e){e.preventDefault(),e.stopPropagation()},r.onDrop=function(){var e=o(regeneratorRuntime.mark(function t(e){var n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!r.state.uploading){t.next=3;break}return t.abrupt("return");case 3:for(r.setState({isDragging:!1,error:void 0}),n=e.dataTransfer?e.dataTransfer.files:e.target.files,o=0;o<n.length;o++)i=n[o],i.preview=window.URL.createObjectURL(i);if(!r.props.verify){t.next=15;break}t.prev=7,n=r.props.verify(n)||n,t.next=15;break;case 11:return t.prev=11,t.t0=t["catch"](7),r.setState({error:t.t0.toString()}),t.abrupt("return");case 15:return r.updateProgress({progress:0,uploading:!0}),t.prev=16,t.next=19,r.props.uploadFiles(n,{updateProgress:r.updateProgress,setDoneCallback:r.setDoneCallback});case 19:r.doneProgress(),t.next=26;break;case 22:t.prev=22,t.t1=t["catch"](16),r.updateProgress({progress:0,uploading:!1}),r.setState({error:t.t1.toString()});case 26:case"end":return t.stop()}},t,u,[[7,11],[16,22]])}));return function(t){return e.apply(this,arguments)}}(),r.setDoneCallback=function(e){r._doneCallback=e},r.doneProgress=function(){r.updateProgress({progress:100,uploading:!0}),setTimeout(function(){r.updateProgress({progress:0,uploading:!1}),r._doneCallback&&r._doneCallback()},1e3)},r.updateProgress=function(e){var t=e.progress,n=e.uploading,o=e.preview,i={uploading:n,progress:t,preview:o};r.setState(JSON.parse(JSON.stringify(i)))},s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.uploading,r=t.progress,o=t.preview,i=t.error,a=t.isDragging,s=this.props.styleNames,u=a?"dragging":null,c=(n&&s.uploading)+" "+(a&&s.dragging);return h["default"].createElement("div",{styleName:"dropfile "+u,className:c,onClick:this.onClick,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop},n?h["default"].createElement("div",{styleName:"uploading"},h["default"].createElement("div",{styleName:"preview"},o&&h["default"].createElement(b["default"],{image:o,size:"100%"})),h["default"].createElement("div",{styleName:"progressbar"},h["default"].createElement(m["default"],{progress:r}))):h["default"].createElement("div",{styleName:"placeholder"},i&&h["default"].createElement("div",{styleName:"error"},i),this.props.children,h["default"].createElement("input",{type:"file",style:{display:"none"},multiple:!1,ref:function(t){return e.fileInput=t},onChange:this.onDrop})))}}]),t}(p.Component),u.propTypes={children:p.PropTypes.node,verify:p.PropTypes.func,uploadFiles:p.PropTypes.func.isRequired,styleNames:p.PropTypes.shape({uploading:p.PropTypes.string,dragging:p.PropTypes.string})},u.defaultProps={children:h["default"].createElement("div",{style:{textAlign:"center"}},"Drag and drop file here or ",h["default"].createElement("br",null),h["default"].createElement("a",null," browse your computer ")),styleNames:{}},c);t["default"]=(0,g["default"])(C,f["default"],{allowMultiple:!0,errorWhenNotFound:!1})}).call(t,n(27))},1813:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(1812),i=r(o),a=n(1802),s=r(a),u=n(1801),c=r(u);e.exports={Dropfile:i["default"],Progressbar:s["default"],Image:c["default"]}},1814:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1800),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=n(1829),A=r(g),m=n(1820),v=r(m),b=n(1822),C=r(b),_=n(1791),k=n(1834),w=r(k),E=(u=s=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={isActionShown:!1},r.toggleActionShown=function(){r.setState({isActionShown:!r.state.isActionShown})},a=n,i(r,a)}return a(t,e),c(t,[{key:"componentDidMount",value:function(){(0,_.identify)(this.props.me)}},{key:"render",value:function(){var e=[];return e[this.props.me.key]=this.props.me,e[this.props.recipientProfile.uid]=this.props.recipientProfile,p["default"].createElement("span",{styleName:"wrapper"},p["default"].createElement("div",{styleName:"header"},p["default"].createElement(v["default"],{profile:this.props.recipientProfile})),p["default"].createElement("div",{styleName:"body"},p["default"].createElement(C["default"],{conversation:this.props.conversation,messages:this.props.messages,users:e,me:this.props.me,enableShowAvatar:!0,indent:this.props.indent})),p["default"].createElement("div",{styleName:"end"},this.state.isActionShown&&p["default"].createElement("div",{styleName:"action"},p["default"].createElement(w["default"],{toggleActionShown:this.toggleActionShown,sendImage:this.props.sendImage,conversation:this.props.conversation})),p["default"].createElement(A["default"],{recipientId:this.props.recipientProfile.uid,courseId:this.props.courseId,conversation:this.props.conversation,sendMessage:this.props.sendMessage,toggleActionShown:this.toggleActionShown,isActionShown:this.state.isActionShown})))}}]),t}(f.Component),s.propTypes={conversation:f.PropTypes.object.isRequired,messages:f.PropTypes.array.isRequired,sendMessage:f.PropTypes.func.isRequired,sendImage:f.PropTypes.func.isRequired,recipientProfile:f.PropTypes.shape({uid:f.PropTypes.string.isRequired,name:f.PropTypes.string.isRequired}).isRequired,me:f.PropTypes.shape({key:f.PropTypes.string.isRequired}).isRequired,courseId:f.PropTypes.string.isRequired,indent:f.PropTypes.bool},s.defaultProps={messages:[]},u);t["default"]=(0,y["default"])(E,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1815:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(1818),y=r(h),g=n(1816),A=r(g),m=n(1817),v=r(m),b=n(1797),C=(r(b),n(3)),_=(r(C),n(1887)),k=r(_),w=n(1791),E=n(1862),B=r(E),x=n(1806),O=r(x),T=(c=u=function(e){function t(){var e,n,r,o;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.startCheckin=function(){(0,w.track)("Guru Check-in CTA Interacted",{guru_uid:r.props.guruId,cta_message:"Started Check-in",category:"Guru Check-in CTA",label:"Guru Check-in CTA Interacted",sku:r.props.courseId})},r.postToLayer=function(e){var t=(0,k["default"])(e,function(e,t,n){return e+"**"+n+"**\n      "+t+"\n\n"},"**WEEKLY CHECK IN**\n\n");r.props.sendMessage(t,r.props.conversation.id)},r.sendResponses=function(e){r.postToLayer(e);var t=r.formatResponses(e);r.props.submitCheckin(r.props.studentId,r.props.courseId,t),(0,w.track)("Guru Rate Mentor Displayed",{guru_uid:r.props.guruId,category:"Guru Rate Mentor",label:"Guru Rate Mentor Displayed",sku:r.props.courseId})},r.rateGuru=function(e,t){r.props.submitRating(r.props.studentId,r.props.guruId,r.props.courseId,e,t),r.props.onComplete()},r.formatResponses=function(e){return(0,k["default"])(e,function(e,t,n){return n+="\n\n",t+="\n\n\n",""+e+n+t},"")},o=n,a(r,o)}return s(t,e),d(t,[{key:"componentDidMount",value:function(){(0,w.track)("Guru Check-in CTA Displayed",{guru_uid:this.props.guruId,category:"Guru Check-in CTA",label:"Guru Check-in CTA Displayed",sku:this.props.courseId})}},{key:"render",value:function(){var e=o(this.props,[]);return p["default"].createElement(O["default"],l({},e,{startCheckin:this.startCheckin,postToLayer:this.postToLayer,sendResponses:this.sendResponses,rateGuru:this.rateGuru,formatResponses:this.formatResponses,className:B["default"].container,steps:[y["default"],v["default"],A["default"]]}))}}]),t}(f.Component),u.propTypes={studentId:f.PropTypes.string.isRequired,courseId:f.PropTypes.string.isRequired,guruId:f.PropTypes.string.isRequired,conversation:f.PropTypes.object.isRequired,sendMessage:f.PropTypes.func.isRequired,submitCheckin:f.PropTypes.func.isRequired,submitRating:f.PropTypes.func.isRequired,onComplete:f.PropTypes.func.isRequired,checkin:f.PropTypes.object.isRequired},c);t["default"]=T},1816:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(3),d=r(l),f=n(1832),p=r(f),h=n(1792),y=r(h),g=n(48),A=r(g),m=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={rating:0,ratingReason:""},r.next=function(e,t){e(),t()},r.handleTextChange=function(e){r.setState({ratingReason:e.target.value})},r.rate=function(e){r.setState({rating:e})},r.sendRating=function(){var e=r.state,t=e.rating,n=e.ratingReason;r.props.rateGuru(t,n)},a=n,i(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{styleName:"top",className:this.props.className},c["default"].createElement("div",{styleName:"wrapper"},c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"section header"},"How's Your Mentor Doing?"),c["default"].createElement("div",{styleName:"section"},"Let us know how helpful your Mentor has been, so we can continue to improve your learning experience. This information will not be shared with your Mentor.")),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"section bold"},"How would you rate your Mentor's feedback and support in the last week?"),c["default"].createElement("div",{styleName:"section"},c["default"].createElement(p["default"],{onRate:this.rate,rating:this.state.rating}))),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"section"},c["default"].createElement("textarea",{styleName:"textbox",placeholder:"What in particular made you choose this rating?",onChange:this.handleTextChange,value:this.state.ratingReason})),c["default"].createElement("div",{styleName:"section"},c["default"].createElement(A["default"],{type:"primary",onClick:this.next.bind(this,this.sendRating,this.props.next),label:"Complete Check In"})))))}}]),t}(u.Component);t["default"]=(0,d["default"])(m,y["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1817:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),d=n(3),f=r(d),p=n(1792),h=r(p),y=n(48),g=r(y),A="What are your goals for the coming week?",m="Are you currently stuck on anything?",v=function(e){function t(){var e,n,r,s;i(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={learned:"",challenges:""},r.next=function(e,t){e(),t()},r.handleTextChange=function(e,t){r.setState(o({},e,t.target.value))},r.sendResponses=function(){var e,t=r.state,n=t.learned,i=t.challenges;r.props.sendResponses((e={},o(e,A,n),o(e,m,i),e))},s=n,a(r,s)}return s(t,e),u(t,[{key:"isDisabled",value:function(){var e=this.state,t=e.learned,n=e.challenges;return!t||!n||t.length<8||n.length<8}},{key:"render",value:function(){var e=this,t=this.isDisabled();return l["default"].createElement("div",{styleName:"top",className:this.props.className},l["default"].createElement("div",{styleName:"wrapper"},l["default"].createElement("div",{styleName:"big section"},l["default"].createElement("div",{styleName:"section header"},"Check In Questions"),l["default"].createElement("div",{styleName:"section"},"Answer the following questions, which will post as a message to your Mentor so they can provide feedback."),l["default"].createElement("div",{styleName:"section"},l["default"].createElement("textarea",{styleName:"textbox",placeholder:A,onChange:function(t){return e.handleTextChange("learned",t)},value:this.state.learned})),l["default"].createElement("div",{styleName:"section"},l["default"].createElement("textarea",{styleName:"textbox",placeholder:m,onChange:function(t){return e.handleTextChange("challenges",t)},value:this.state.challenges}))),l["default"].createElement("div",{styleName:"big section"},l["default"].createElement(g["default"],{type:"primary",onClick:this.next.bind(this,this.sendResponses,this.props.next),disabled:t,label:"Send Responses to Mentor"}))))}}]),t}(c.Component);t["default"]=(0,f["default"])(v,h["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1818:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){e(),t()}function i(e){return(0,g["default"])(e).format("dddd M/DD")}function a(e){return g["default"].duration((0,g["default"])(Date.now()).diff(e)).humanize()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=r(s),c=n(3),l=r(c),d=n(1792),f=r(d),p=n(48),h=r(p),y=n(5),g=r(y),A=n(1882),m=r(A),v=function(e){var t=a(e.checkin.due_on);return u["default"].createElement("div",{styleName:"top",className:e.className},u["default"].createElement("div",{styleName:"wrapper"},u["default"].createElement("div",{styleName:"big section"},u["default"].createElement("div",{styleName:"icon",style:{backgroundImage:"url("+m["default"]+")"}})),u["default"].createElement("div",{styleName:"section header"},"Check In Due in "+t+"!"),u["default"].createElement("div",{styleName:"section complete-by"},"Complete by "+i(e.checkin.due_on)),u["default"].createElement("div",{styleName:"big section"},"Send your Mentor a quick update on how you're doing so they can help you stay on track"),u["default"].createElement("div",{styleName:"big section"},u["default"].createElement(h["default"],{type:"primary",onClick:o.bind(null,e.startCheckin,e.next),label:"Start Check In"}))))};t["default"]=(0,l["default"])(v,f["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1819:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1863),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=n(5),A=r(g),m=(u=s=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props.date,t=(0,A["default"])(e).startOf("day").format("MMMM DD, YYYY");return p["default"].createElement("div",{styleName:"datebreak"},p["default"].createElement("div",{styleName:"date"},t),p["default"].createElement("div",{styleName:"line-wrapper"},p["default"].createElement("div",{styleName:"line"})))}}]),t}(f.Component),s.propTypes={date:f.PropTypes.any.isRequired},s.defaultProps={date:Date.now()},u);t["default"]=(0,y["default"])(m,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1820:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1865),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=n(1879),A=r(g),m=(u=s=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={open:!1},e.toggleOpen=e.toggleOpen.bind(e),e}return a(t,e),c(t,[{key:"toggleOpen",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props.profile,t=this.state.open?"opened":"",n=e.from||"",r=e.bio||"";return p["default"].createElement("div",{styleName:"guru-header "+t},p["default"].createElement("div",{styleName:"header",onClick:this.toggleOpen},p["default"].createElement("div",{styleName:"name"},e.name),p["default"].createElement("div",{styleName:"icon",style:{backgroundImage:"url("+A["default"]+")"}})),p["default"].createElement("div",{styleName:"body"},p["default"].createElement("div",{styleName:"from"},n),p["default"].createElement("div",{styleName:"description"},r)))}}]),t}(f.Component),s.propTypes={profile:f.PropTypes.shape({from:f.PropTypes.string,name:f.PropTypes.string.isRequired,bio:f.PropTypes.string}).isRequired},s.defaultProps={profile:{from:"",name:"",bio:""}},u);t["default"]=(0,y["default"])(m,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1821:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,l,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1794),h=r(p),y=n(3),g=r(y),A=n(1804),m=r(A),v=n(1),b=r(v),C=n(1808),_=r(C),k=n(1800),w=r(k),E=n(9),B=n(1791),x=n(59),O=(l=c=function(e){function t(){var e,n,r,o,u=this;a(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={loading:!0},r.reset=i(regeneratorRuntime.mark(function f(){var e,t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=r.props,t=e.me,n=e.courseId,o.next=5,r.props.getStudentsForGuru(t.key);case 5:r.setState({loading:!1});case 6:case"end":return o.stop()}},f,u)})),o=n,s(r,o)}return u(t,e),f(t,[{key:"componentWillMount",value:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reset();case 2:case"end":return e.stop()}},n,this)}));return e}()},{key:"componentDidMount",value:function(){(0,B.identify)(this.props.me)}},{key:"render",value:function(){var e=this.state.loading,t=this.props,n=t.recipientId;o(t,["recipientId"]);if(e)return b["default"].createElement("div",{styleName:"loading"},b["default"].createElement(x.UreactLoading,null));var r={uid:n,name:this.props.guru.students[n].name};return b["default"].createElement("div",{styleName:"guru-sidebar-show"},b["default"].createElement(m["default"],d({},this.props,{recipientProfile:r,onConversationLoaded:function(){},indent:!1})))}}]),t}(v.Component),c.propTypes={me:v.PropTypes.shape({key:v.PropTypes.string.isRequired}).isRequired,courseId:v.PropTypes.string.isRequired,jwt:v.PropTypes.string.isRequired,recipientId:v.PropTypes.string.isRequired,getStudentsForGuru:v.PropTypes.func.isRequired},c.defaultProps={recipientId:""},l),T=function(e){return d({},e)},S=d({},h["default"]),I=(0,E.connect)(T,S)((0,g["default"])(O,w["default"]));t["default"]=function(e){return b["default"].createElement(E.Provider,{store:_["default"]},b["default"].createElement(I,e))}}).call(t,n(27))},1822:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=e.sender.userId;return t[n]}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1867),l=r(c),d=n(1),f=r(d),p=n(3),h=r(p),y=n(1830),g=r(y),A=n(1819),m=r(A),v=n(1885),b=r(v),C=n(5),_=r(C),k=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._lockScrollToBottom=!0,r._scrollBottom=function(){if(r.refs.scroll){var e=r.refs.scroll;e.scrollTop=e.scrollHeight}},r.onScroll=function(){if(r.refs.scroll){var e=r.refs.scroll;r._lockScrollToBottom=e.scrollHeight-e.scrollTop-e.offsetHeight<=e.clientHeight}},r.scrollIfNeeded=function(){r._lockScrollToBottom&&r._scrollBottom()},r.renderMessages=function(e){var t=r.props,n=t.users,o=t.me,i=t.enableShowAvatar,a=e.slice().reverse();return a.map(function(e,t){var u=s(e,n),c=!1,l=!1,d=void 0,p=a[t-1]&&a[t-1].sentAt;if(p){var h=(0,_["default"])(p).startOf("day").format("YYYYMMDD"),y=(0,_["default"])(e.sentAt).startOf("day").format("YYYYMMDD");h!==y&&(c=!0,l=!0,d=f["default"].createElement(m["default"],{date:e.sentAt}))}else d=f["default"].createElement(m["default"],{date:e.sentAt});var A=a[t-1]&&s(a[t-1],n);return A&&A.uid!==u.uid&&(c=!0,l=!0),[d,f["default"].createElement(g["default"],{key:t,sender:u,me:o,message:e,showAvatar:i&&c,showArrow:l,indent:r.props.indent,onLoad:r.scrollIfNeeded})].filter(function(e){return e})})},a=n,i(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.onScroll=(0,b["default"])(this.onScroll,300),this._scrollBottom()}},{key:"componentDidUpdate",value:function(){this.scrollIfNeeded()}},{key:"render",value:function(){var e=this.props.messages;return e&&e.length?f["default"].createElement("div",{styleName:"guru-messages-list",onScroll:this.onScroll,ref:"scroll"},this.renderMessages(e)):null}}]),t}(d.Component);k.propTypes={messages:d.PropTypes.array,users:d.PropTypes.array,me:d.PropTypes.object.isRequired,enableShowAvatar:d.PropTypes.bool,indent:d.PropTypes.bool},k.defaultProps={messages:[]},t["default"]=(0,h["default"])(k,l["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1823:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1792),i=r(o),a=n(3),s=r(a),u=n(1),c=r(u),l=n(1798),d=n(48),f=r(d),p=n(1880),h=r(p),y=function(e){return c["default"].createElement("div",{styleName:"top",className:e.className},c["default"].createElement("div",{styleName:"wrapper"},c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"icon",style:{backgroundImage:"url("+h["default"]+")"}})),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"section header"},"Welcome to Udacity Mentorship!"),c["default"].createElement("div",{styleName:"section"},"As you learn, sometimes you're going to need support--which is where your Mentor comes in! Mentors are experts who help you get unstuck and do regular check ins on your progress to help you stay on track.")),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement(f["default"],{type:"primary",onClick:l.next.bind(null,"Get Started",e.courseId,e.next),label:"Get Started"}))))};y.propTypes={next:u.PropTypes.func.isRequired,prev:u.PropTypes.func.isRequired},t["default"]=(0,s["default"])(y,i["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1824:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),d=r(l),f=n(1797),p=(r(f),n(1791)),h=n(1806),y=r(h),g=n(1823),A=r(g),m=n(1825),v=r(m),b=n(1826),C=r(b),_=(u=s=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),c(t,[{key:"componentDidMount",value:function(){(0,p.track)("Guru Onboarding CTA Displayed",{category:"Guru Onboarding CTA",label:"Guru Onboarding CTA Displayed",sku:this.props.courseId})}},{key:"render",value:function(){return d["default"].createElement(y["default"],{guru:this.props.guru,courseId:this.props.courseId,steps:[A["default"],v["default"],C["default"]],done:this.props.done})}}]),t}(l.Component),s.propTypes={courseId:l.PropTypes.string.isRequired,done:l.PropTypes.func.isRequired,guru:l.PropTypes.object.isRequired},u);t["default"]=_},1825:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1792),i=r(o),a=n(3),s=r(a),u=n(1),c=r(u),l=n(1798),d=n(48),f=r(d),p=n(1881),h=r(p),y=function(e){return c["default"].createElement("div",{styleName:"top",className:e.className},c["default"].createElement("div",{styleName:"wrapper"},c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"icon",style:{backgroundImage:"url("+h["default"]+")"}})),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement("div",{styleName:"section header"},"How It Works"),c["default"].createElement("div",{styleName:"section"},"As you're learning you'll be able to ",c["default"].createElement("b",null,"send messages")," to your Mentor when you're stuck and they'll respond within a few hours.",c["default"].createElement("br",null),c["default"].createElement("br",null),"You'll also complete ",c["default"].createElement("b",null,"weekly check ins"),", where you'll share what you've learned and challenges you've faced.")),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement(f["default"],{type:"primary",onClick:l.next.bind(null,"Meet My Mentor",e.courseId,e.next),label:"Meet My Mentor"}))))};y.propTypes={next:u.PropTypes.func.isRequired,prev:u.PropTypes.func.isRequired},t["default"]=(0,s["default"])(y,i["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1826:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1792),i=r(o),a=n(3),s=r(a),u=n(1),c=r(u),l=n(1828),d=r(l),f=n(1798),p=n(48),h=r(p),y=function(e){return c["default"].createElement("div",{styleName:"top",className:e.className},c["default"].createElement("div",{styleName:"wrapper"},c["default"].createElement("div",{styleName:"big section"},c["default"].createElement(d["default"],{profile:e.guru,title:"Your Mentor",showHide:!1})),c["default"].createElement("div",{styleName:"big section"},c["default"].createElement(h["default"],{type:"primary",onClick:f.next.bind(null,"Start Messaging",e.courseId,e.next),label:"Start Messaging"}))))};y.propTypes={next:u.PropTypes.func.isRequired,prev:u.PropTypes.func.isRequired,guru:u.PropTypes.object.isRequired},t["default"]=(0,s["default"])(y,i["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1827:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1868),d=r(l),f=n(1),p=r(f),h=n(3),y=r(h),g=(u=s=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return p["default"].createElement("div",{styleName:"overlay-image"},p["default"].createElement("div",{styleName:"overlay"},this.props.children),p["default"].createElement("img",{styleName:"img",src:this.props.image,alt:this.props.alt,onLoad:this.props.onLoad}))}}]),t}(f.Component),s.propTypes={image:f.PropTypes.any.isRequired,alt:f.PropTypes.string,children:f.PropTypes.node.isRequired,onLoad:f.PropTypes.func},s.defaultProps={alt:"Image",onLoad:function(){}},u);t["default"]=(0,y["default"])(g,d["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1828:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1870),c=r(u),l=n(3),d=r(l),f=n(1),p=r(f),h=n(1803),y=r(h),g=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={show:!1},e.toggleShow=e.toggleShow.bind(e),e.showDescription=e.showDescription.bind(e),e}return a(t,e),s(t,[{key:"toggleShow",value:function(){this.setState({show:!this.state.show})}},{key:"showDescription",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.state.show,n=this.props.showHide,r=400,o=e.length>r,i=!t&&o?"hide":"show",a=!t&&o?e.slice(0,r)+"...":e;return p["default"].createElement("div",{styleName:"item",onClick:this.toggleShow},p["default"].createElement("div",{styleName:"description "+i},a),n?p["default"].createElement("div",{styleName:"link"},!t&&o?"more":"hide"):null)}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.title;return p["default"].createElement("div",{styleName:"guru-profile"},p["default"].createElement("div",{styleName:"header item"},n),p["default"].createElement(y["default"],{className:c["default"].item+" "+c["default"].avatar,size:"6em",profilePic:t.avatar_url}),p["default"].createElement("div",{styleName:"info item"},p["default"].createElement("div",{styleName:"name"},t.name)),this.showDescription(t.bio))}}]),t}(f.Component);g.propTypes={profile:f.PropTypes.shape({avatar_url:f.PropTypes.string.isRequired,name:f.PropTypes.string.isRequired,bio:f.PropTypes.string.isRequired}).isRequired,title:f.PropTypes.string,showHide:f.PropTypes.bool},g.defaultProps={showHide:!0,title:"Profile"},t["default"]=(0,d["default"])(g,c["default"],{allowMultiple:!0,errorWhenNotFound:!1})},1829:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1871),f=r(d),p=n(1),h=r(p),y=n(3),g=r(y),A=n(1891),m=r(A),v=(n(670),n(1791)),b=n(1876),C=r(b),_=n(1875),k=r(_),w=(c=u=function(e){function t(){var e,n,r,s,u=this;i(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={sending:!1},r.onSubmit=function(){var e=o(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!r.state.sending){t.next=3;break}return t.abrupt("return");case 3:if(n=r.props.sendMessage,o=r.refs.message.value,0!==o.trim().length){t.next=7;break}return t.abrupt("return");case 7:return r.setState({sending:!0}),t.next=10,n(o,r.props.conversation.id);case 10:r.refs.message.value="",r.setState({sending:!1}),(0,v.track)("Guru Message Sent",{category:"Guru Interaction",label:"Guru Interacted",sku:r.props.courseId,recipient_uid:r.props.recipientId});case 13:case"end":return t.stop()}},t,u)}));return function(t){return e.apply(this,arguments)}}(),r.handleKeyPress=function(){var e=o(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==e.key){t.next=3;break}return t.next=3,r.onSubmit(e);case 3:case"end":return t.stop()}},t,u)}));return function(t){return e.apply(this,arguments)}}(),s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){return h["default"].createElement("div",{styleName:"guru-sidebar-send"},h["default"].createElement("div",{styleName:"action-icon",onClick:this.props.toggleActionShown,style:{backgroundImage:"url("+(this.props.isActionShown?k["default"]:C["default"])+")"}}),h["default"].createElement("form",{onSubmit:this.onSubmit},h["default"].createElement(m["default"],{disabled:this.props.isActionShown,onKeyPress:this.handleKeyPress,ref:"message",placeholder:"Write a message..."})))}}]),t}(p.Component),u.propTypes={recipientId:p.PropTypes.string.isRequired,courseId:p.PropTypes.string.isRequired,conversation:p.PropTypes.object,sendMessage:p.PropTypes.func.isRequired,toggleActionShown:p.PropTypes.func.isRequired,isActionShown:p.PropTypes.bool},u.defaultProps={isActionShown:!1},c);t["default"]=(0,g["default"])(w,f["default"],{allowMultiple:!0,errorWhenNotFound:!1})}).call(t,n(27))},1830:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return e.sender.userId===t}function c(e){var t=/^image\/*/;return e.parts.map(function(e){if(t.test(e.mimeType))return{href:e.url,download:l(e)}}).filter(function(e){return e})}function l(e){return/^blob/.test(e.url)?"uploaded-file":e.url}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1872),y=r(h),g=n(5),A=r(g),m=n(1),v=r(m),b=n(3),C=r(b),_=n(1803),k=r(_),w=n(49),E=r(w),B=n(1805),x=r(B),O=n(9),T=n(1793),S=n(1827),I=r(S),j=n(1878),P=r(j),R=(f=d=function(e){function t(){var e,n,r,o;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.downloadImage=function(){c(r.props.message)},o=n,a(r,o)}return s(t,e),p(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props.message,e.isRead){t.next=4;break}return t.next=4,this.props.markMessageAsRead(this.props.message);case 4:case"end":return t.stop()}},n,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.props,n=t.me,r=t.sender,o=t.message,i=t.showAvatar,a=t.showArrow,s=t.indent,l=u(o,n.key),d=l?n:r,f=l?"me":"",p=!l&&d.avatar_url,h=o.sentAt,g=(0,A["default"])(h).format("h:mm a"),m=o.getText(),b=c(o);return v["default"].createElement("div",{styleName:"guru-single-message "+f},i!==!1&&p?v["default"].createElement(k["default"],{className:y["default"].avatar,profilePic:p,size:"2.5em"}):null,v["default"].createElement("div",{styleName:"message "+(s&&!i&&"align-avatar")},v["default"].createElement("div",{styleName:"text "+(a&&"arrow")},m&&v["default"].createElement(E["default"],{text:m,options:{sanitize:!0}}),b&&b.map(function(t,n){return v["default"].createElement(I["default"],{key:n,image:t.href,onLoad:e.props.onLoad},v["default"].createElement("a",{className:y["default"]["image-overlay"],href:t.href,download:t.download},v["default"].createElement("div",{className:y["default"].image},v["default"].createElement(x["default"],{image:P["default"]})),v["default"].createElement("div",{className:y["default"]["image-text"]},"Download File")))})),v["default"].createElement("div",{styleName:"time"},g)))}}]),t}(m.Component),d.propTypes={me:m.PropTypes.shape({key:m.PropTypes.string.isRequired}).isRequired,sender:m.PropTypes.object,message:m.PropTypes.shape({sentAt:m.PropTypes.any.isRequired,sender:m.PropTypes.shape({userId:m.PropTypes.string.isRequired}).isRequired,id:m.PropTypes.string.isRequired,isRead:m.PropTypes.bool.isRequired}).isRequired,showArrow:m.PropTypes.bool,showAvatar:m.PropTypes.bool,indent:m.PropTypes.bool,onLoad:m.PropTypes.func},d.defaultProps={showAvatar:!0,showArrow:!0,indent:!0},f),M={markMessageAsRead:T.actions.markMessageAsRead};t["default"]=(0,O.connect)(null,M)((0,C["default"])(R,y["default"],{allowMultiple:!0,errorWhenNotFound:!1}))}).call(t,n(27))},1831:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(3),s=r(a),u=n(1873),c=r(u);t["default"]=(0,s["default"])(function(e){return i["default"].createElement("div",{styleName:"star",onClick:e.onRate},i["default"].createElement("svg",{width:"23px",height:"22px",viewBox:"0 0 23 22"},i["default"].createElement("g",{stroke:"none",strokeWidth:"1","fill-rule":"evenodd",opacity:"1"},i["default"].createElement("path",{d:"M10.9156741,18.5219539 C11.0117478,18.4856106 11.1320525,18.4856106 11.2162233,18.5219539 L16.1241047,21.0553529 C17.6001359,21.8172654 18.5864015,21.1115232 18.3259713,19.4726194 L17.4508132,13.9651945 C17.4265822,13.8557319 17.4750442,13.7341549 17.546887,13.6614683 L21.4520405,9.72706985 C22.6192849,8.5510841 22.2349783,7.38784074 20.6050206,7.13068425 L15.1684245,6.27295895 C15.0600227,6.24873007 14.9643741,6.17561079 14.9159121,6.07869528 L12.4162108,1.10834 C11.6736511,-0.368150503 10.4691012,-0.370742263 9.72285265,1.10834 L7.21513502,6.07869528 C7.16709815,6.17604344 7.07102442,6.24873007 6.97495069,6.27295895 L1.53037298,7.13068425 C-0.107068136,7.38864268 -0.494064467,8.54521382 0.679006666,9.72706985 L4.58416017,13.6614683 C4.66833096,13.7341549 4.70403978,13.8557319 4.69213684,13.9651945 L3.81753161,19.4726194 C3.55772196,21.1086514 4.54636694,21.8148967 6.01549907,21.0553529 L10.9156741,18.5219539 Z",styleName:e.fillStyle}))))},c["default"])},1832:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1888),i=r(o),a=n(1831),s=r(a);t["default"]=function(t){return e.createElement("div",{className:t.className},(0,i["default"])(t.max||5,function(n){var r=n+1,o=r<=t.rating?"rated":"unrated";return e.createElement(s["default"],{key:r,fillStyle:o,onRate:function(){return t.onRate(r)}})}))}}).call(t,n(1))},1833:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StudentMain=void 0;var c,l,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1800),h=r(p),y=n(1),g=r(y),A=n(3),m=r(A),v=n(1824),b=r(v),C=n(1815),_=r(C),k=n(1791),w=n(9),E=n(1804),B=r(E),x=n(1808),O=r(x),T=n(1794),S=r(T),I=n(59),j={namespace:"mentorship-chat",name:"first-time-experience-completed"},P=(l=c=function(e){function t(){var e,n,r,o;a(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=r=s(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={loading:!0,needToShowFirstTime:void 0,needToCheckin:void 0,conversation:void 0,guruProfile:void 0},r.onFirstTimeDone=function(){var e=r.props.setAccountTag;e(j.namespace,j.name),r.setState({needToShowFirstTime:!1})},r.onConversationLoaded=function(e,t){r.setState({
conversation:e,sendMessage:t})},r.onCheckinCompleted=function(){r.setState({needToCheckin:!1})},o=n,s(r,o)}return u(t,e),f(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function n(){var e,t,r,o,i,a,s,u,c,l,d,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props,t=e.me,r=e.courseId,o=e.checkinFeatureEnabled,i=e.firstTimeFeatureEnabled,n.next=7,this.props.fetchGuruForCourse(t.key,r);case 7:return a=n.sent,n.next=10,this.props.checkForAccountTag(j.namespace,j.name);case 10:s=n.sent,u=s.hasTag,c=i&&!u,l=this.props.guru.pairings[r],d=l&&l.guru_uid,f=o&&!this.state.needToCheckin&&Boolean(this.props.guru.checkins[r]),this.setState({loading:!1,needToShowFirstTime:c,needToCheckin:f,guruProfile:this.props.guru.gurus[d]}),(0,k.identify)(this.props.me);case 18:case"end":return n.stop()}},n,this)}));return e}()},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.needToShowFirstTime,r=e.needToCheckin,i=e.conversation,a=e.sendMessage,s=e.guruProfile,u=this.props;u.guru,o(u,["guru"]);return t?g["default"].createElement("div",{styleName:"loading"},g["default"].createElement(I.UreactLoading,null)):n?g["default"].createElement("div",{styleName:"guru-sidebar-show",id:"onboard"},g["default"].createElement(b["default"],{courseId:this.props.courseId,guru:s,done:this.onFirstTimeDone})):g["default"].createElement("div",{id:"guru-side-panel",styleName:"guru-sidebar-show"},g["default"].createElement("span",{styleName:"wrapper"},r&&Boolean(i)&&g["default"].createElement("div",{styleName:"overlay",id:"checkin"},g["default"].createElement(_["default"],{checkin:this.props.guru.checkins[this.props.courseId],courseId:this.props.courseId,studentId:this.props.me.key,guruId:s.uid,conversation:i,submitRating:this.props.submitRating,submitCheckin:this.props.submitCheckin,sendMessage:a,onComplete:this.onCheckinCompleted})),g["default"].createElement(B["default"],d({},this.props,{recipientProfile:s,onConversationLoaded:this.onConversationLoaded,indent:!0}))))}}]),t}(y.Component),c.propTypes={me:y.PropTypes.shape({key:y.PropTypes.string.isRequired}).isRequired,jwt:y.PropTypes.string.isRequired,courseId:y.PropTypes.string.isRequired,setAccountTag:y.PropTypes.func.isRequired,checkForAccountTag:y.PropTypes.func.isRequired,firstTimeFeatureEnabled:y.PropTypes.bool,checkinFeatureEnabled:y.PropTypes.bool,fetchGuruForCourse:y.PropTypes.func.isRequired,submitRating:y.PropTypes.func.isRequired,submitCheckin:y.PropTypes.func.isRequired},c.defaultProps={firstTimeFeatureEnabled:!1,checkinFeatureEnabled:!1},l),R=function(e){return d({},e)},M=d({},S["default"]),N=(0,w.connect)(R,M)((0,m["default"])(P,h["default"]));t.StudentMain=N,t["default"]=function(e){return g["default"].createElement(w.Provider,{store:O["default"]},g["default"].createElement(N,e))}}).call(t,n(27))},1834:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(i,a){try{var s=n[i](a),u=s.value}catch(c){return void r(c)}return s.done?void t(u):e.resolve(u).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1874),f=r(d),p=n(1),h=r(p),y=n(3),g=r(y),A=n(1805),m=r(A),v=n(1813),b=n(1877),C=r(b),_=(c=u=function(e){function t(){var e,n,r,s,u=this;i(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={uploading:!1},r.verify=function(e){if(1!==e.length)throw new Error("Must provide only one file.");if(!/^image\/*/.test(e[0].type))throw new Error("Only accepting image files")},r.uploadFiles=function(){var e=o(regeneratorRuntime.mark(function t(e,n){var o,i=n.updateProgress,a=n.setDoneCallback;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({uploading:!0}),i({progress:0}),o=0;case 3:if(!(o<e.length)){t.next=10;break}return i({preview:e[o].preview}),t.next=7,r.props.sendImage(e[o],r.props.conversation.id);case 7:o++,t.next=3;break;case 10:a(r.props.toggleActionShown),r.setState({uploading:!1});case 12:case"end":return t.stop()}},t,u)}));return function(t,n){return e.apply(this,arguments)}}(),s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.styles,t=this.state.uploading;return h["default"].createElement("div",{styleName:"upload-photo"},h["default"].createElement("div",{styleName:"menubar"},h["default"].createElement("div",{styleName:"item",onClick:this.props.toggleActionShown},h["default"].createElement(m["default"],{image:C["default"],size:"12px"}))),h["default"].createElement("div",{styleName:"header"},t?"Uploading Files...":"Upload a File"),h["default"].createElement("div",{styleName:"upload"},h["default"].createElement(v.Dropfile,{styleNames:{uploading:e.uploading},verify:this.verify,uploadFiles:this.uploadFiles})))}}]),t}(p.Component),u.propTypes={toggleActionShown:p.PropTypes.func.isRequired,sendImage:p.PropTypes.func.isRequired,conversation:p.PropTypes.object.isRequired},c);t["default"]=(0,g["default"])(_,f["default"],{allowMultiple:!0,errorWhenNotFound:!1})}).call(t,n(27))},1837:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".dropfile--dropfile--3juQJ{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px dashed #555;box-sizing:border-box;-webkit-transition:all .3s;transition:all .3s}.dropfile--dropfile--3juQJ:hover{cursor:pointer}.dropfile--placeholder--1K7dC{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;-webkit-transition:all .3s;transition:all .3s}.dropfile--dropfile--3juQJ.dropfile--dragging--2KQ_M{border-color:#02b3e4;-webkit-transition:all .3s;transition:all .3s}.dropfile--dropfile--3juQJ.dropfile--dragging--2KQ_M .dropfile--placeholder--1K7dC{opacity:.4;-webkit-transition:all .3s;transition:all .3s}.dropfile--uploading--3_olU{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dropfile--uploading--3_olU .dropfile--header--1v4u7{font-weight:600;color:#2e3d49;padding:5px}.dropfile--uploading--3_olU .dropfile--preview--eV7NW{width:100px;height:60px;padding:5px}.dropfile--uploading--3_olU .dropfile--progressbar--1BWg_{padding:5px;width:100px}.dropfile--uploading--3_olU .dropfile--progressbar--1BWg_ .dropfile--text--3Re6a{color:#525c65}.dropfile--error--nuf9-{margin-bottom:10px;color:red}","",{version:3,sources:["/./node_modules/@udacity/ureact-dropfile/build/node_modules/@udacity/ureact-dropfile/build/dropfile/dropfile.scss"],names:[],mappings:"AAAA,2BACE,mBAAA,WAAA,OACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,AAEA,uBACA,sBACA,2BAAA,kBAAqB,CARvB,iCAWI,cAAgB,CACjB,8BAID,mBAAA,WAAA,OACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,mBACA,UACA,2BAAA,kBAAqB,CACtB,qDAGC,qBACA,2BAAA,kBAAqB,CAFvB,mFAKI,WACA,2BAAA,kBAAqB,CACtB,4BAID,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,kBAAoB,CALtB,qDAQI,gBACA,cACA,WAAa,CAVjB,sDAcI,YACA,YACA,WAAa,CAhBjB,0DAoBI,YACA,WAAa,CArBjB,iFA4BM,aAAe,CAChB,wBAKH,mBACA,SAAW,CACZ",file:"dropfile.scss",sourcesContent:[".dropfile {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  border-width: 1px;\n  border-style: dashed;\n  border-color: #555;\n  box-sizing: border-box;\n  transition: all 0.3s;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.placeholder {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  opacity: 1;\n  transition: all 0.3s;\n}\n\n.dropfile.dragging {\n  border-color: #02b3e4;\n  transition: all 0.3s;\n\n  .placeholder {\n    opacity: 0.4;\n    transition: all 0.3s;\n  }\n}\n\n.uploading {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .header {\n    font-weight: 600;\n    color: #2e3d49;\n    padding: 5px;\n  }\n\n  .preview {\n    width: 100px;\n    height: 60px;\n    padding: 5px;\n  }\n\n  .progressbar {\n    padding: 5px;\n    width: 100px;\n\n    .bar {\n\n    }\n\n    .text {\n      color: #525c65;\n    }\n  }\n}\n\n.error {\n  margin-bottom: 10px;\n  color: red;\n}\n"],sourceRoot:"webpack://"}]),t.locals={dropfile:"dropfile--dropfile--3juQJ",placeholder:"dropfile--placeholder--1K7dC",dragging:"dropfile--dragging--2KQ_M",uploading:"dropfile--uploading--3_olU",header:"dropfile--header--1v4u7",preview:"dropfile--preview--eV7NW",progressbar:"dropfile--progressbar--1BWg_",text:"dropfile--text--3Re6a",error:"dropfile--error--nuf9-"}},1838:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".image--image--3HFK9{background-size:contain;background-position:50%;background-repeat:no-repeat}.image--highlight--27WPX{-webkit-filter:brightness(0) invert(1);filter:brightness(0) invert(1)}","",{version:3,sources:["/./node_modules/@udacity/ureact-dropfile/build/node_modules/@udacity/ureact-dropfile/build/image/image.scss"],names:[],mappings:"AAAA,qBACE,wBACA,wBACA,2BAA6B,CAC9B,yBAGA,uCAAA,8BAA4B,CAC5B",file:"image.scss",sourcesContent:[".image {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.highlight {\n filter: brightness(0) invert(1);\n}\n"],sourceRoot:"webpack://"}]),t.locals={image:"image--image--3HFK9",highlight:"image--highlight--27WPX"}},1839:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".progressbar--progressbar--5ncsS{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.progressbar--bar--1JKK2{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:5px;background-color:#dbe2e8}.progressbar--bar--1JKK2 .progressbar--filled--2zadW{background-color:#02ccba;height:5px;-webkit-transition:width .2s;transition:width .2s}.progressbar--text--4bHBT{margin-left:5px}","",{version:3,sources:["/./node_modules/@udacity/ureact-dropfile/build/node_modules/@udacity/ureact-dropfile/build/progressbar/progressbar.scss"],names:[],mappings:"AAAA,iCACE,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,kBAAoB,CACrB,yBAGC,mBAAA,oBAAA,YACA,WACD,wBAA0B,CAH3B,qDAMI,yBACA,WACA,6BAAA,oBAAsB,CACvB,0BAID,eAAiB,CAClB",file:"progressbar.scss",sourcesContent:[".progressbar {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n\n.bar {\n  flex-grow: 1;\n  height: 5px;\n\tbackground-color: #dbe2e8;\n\n  .filled {\n    background-color: #02ccba;\n    height: 5px;\n    transition: width .2s;\n  }\n}\n\n.text {\n  margin-left: 5px;\n}\n"],sourceRoot:"webpack://"}]),t.locals={progressbar:"progressbar--progressbar--5ncsS",bar:"progressbar--bar--1JKK2",filled:"progressbar--filled--2zadW",text:"progressbar--text--4bHBT"}},1840:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".avatar--inner--CPCAo{background-repeat:no-repeat;border-radius:50%;background-size:cover;background-position:50%}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/avatar/avatar.scss"],names:[],mappings:"AAAA,sBACE,4BACA,kBACA,sBACA,uBAA4B,CAC7B",file:"avatar.scss",sourcesContent:[".inner {\n  background-repeat: no-repeat;\n  border-radius: 50%;\n  background-size: cover;\n  background-position: center;\n}\n"],sourceRoot:"webpack://"}]),t.locals={inner:"avatar--inner--CPCAo"}},1841:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".chat-screen-entry--error--3wXQW{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;line-height:1.4em;font-size:14px;overflow:hidden;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/chat-screen-entry/chat-screen-entry.scss"],names:[],mappings:"AAAA,iCACE,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,kBACA,eACA,gBACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,kBAAoB,CACrB",file:"chat-screen-entry.scss",sourcesContent:[".error {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n  line-height: 1.4em;\n  font-size: 14px;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n}\n"],sourceRoot:"webpack://"}]),t.locals={error:"chat-screen-entry--error--3wXQW"}},1842:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".checkin--container--3lrZ7{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;background-color:hsla(0,0%,100%,.95)}.checkin--container--3lrZ7>.checkin--end--2Lot2{margin-top:auto}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/checkin/checkin.scss"],names:[],mappings:"AAAA,2BACE,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,yBAAA,sBAAA,mBACA,YACA,oCAA4B,CAN9B,gDASI,eAAiB,CAClB",file:"checkin.scss",sourcesContent:[".container {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  background-color: rgba(white, 0.95);\n\n  >.end {\n    margin-top: auto;\n  }\n}\n"],sourceRoot:"webpack://"}]),t.locals={container:"checkin--container--3lrZ7",end:"checkin--end--2Lot2"}},1843:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".datebreak--card--gxBUb{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes datebreak--fadeIn--24aHJ{0%{opacity:0}to{opacity:1}}@keyframes datebreak--fadeIn--24aHJ{0%{opacity:0}to{opacity:1}}@-webkit-keyframes datebreak--fadeInUp--22-M-{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes datebreak--fadeInUp--22-M-{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes datebreak--rotateBounceIn--1k3x8{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes datebreak--rotateBounceIn--1k3x8{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes datebreak--bounceIn--3Ji71{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes datebreak--bounceIn--3Ji71{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes datebreak--slideInRight--2MRAS{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes datebreak--slideInRight--2MRAS{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.datebreak--datebreak--30AOK{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;color:#7d97ad;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.datebreak--date--3Wguq{font-size:12px;letter-spacing:1px;font-weight:500;text-transform:uppercase;padding:10px;padding-left:0}.datebreak--line-wrapper--1yQFb{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.datebreak--line-wrapper--1yQFb .datebreak--line--2bMju{height:1px;background:#dbe2e8;width:100%}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/datebreak/datebreak.scss"],names:[],mappings:"AAgBA,wBACE,gBACA,YACA,yBACA,iBAAmB,CACpB,4CAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,oCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,8CACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,sCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,oDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,4CACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,8CACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,sCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,kDACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,0CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,6BACE,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,cACA,yBAAA,sBAAA,kBAAoB,CACrB,wBAGC,eACA,mBACA,gBACA,yBACA,aACA,cAAgB,CACjB,gCAGC,mBAAA,oBAAA,WAAa,CADf,wDAII,WACA,mBACA,UAAY,CACb",file:"datebreak.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","@import '../../styles/_shared.scss';\n\n.datebreak {\n  display: flex;\n  flex-direction: row;\n  color: $helpgrey;\n  align-items: center;\n}\n\n.date {\n  font-size: 12px;\n  letter-spacing: 1px;\n  font-weight: 500;\n  text-transform: uppercase;\n  padding: 10px;\n  padding-left: 0;\n}\n\n.line-wrapper {\n  flex-grow: 1;\n\n  .line {\n    height: 1px;\n    background: $line-color;\n    width: 100%;\n  }\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"datebreak--card--gxBUb",datebreak:"datebreak--datebreak--30AOK",date:"datebreak--date--3Wguq","line-wrapper":"datebreak--line-wrapper--1yQFb",line:"datebreak--line--2bMju",fadeIn:"datebreak--fadeIn--24aHJ",fadeInUp:"datebreak--fadeInUp--22-M-",rotateBounceIn:"datebreak--rotateBounceIn--1k3x8",bounceIn:"datebreak--bounceIn--3Ji71",slideInRight:"datebreak--slideInRight--2MRAS"}},1844:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".dots--dots--199GH{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2em}.dots--dot--1_4Xa{margin:5px;height:.7em;width:.7em;border-radius:50%;background-color:#dbe2e8;-webkit-transition:background-color 1s;transition:background-color 1s}.dots--dot--1_4Xa.dots--hover--1bgVC:hover{cursor:pointer;opacity:.7}.dots--dot--1_4Xa.dots--active--3aayn{background-color:#02b3e4;-webkit-transition:background-color 1s;transition:background-color 1s}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/dots/dots.scss"],names:[],mappings:"AAAA,mBACE,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,yBAAA,sBAAA,mBACA,wBAAA,qBAAA,uBACA,WAAa,CACd,kBAGC,WACA,YACA,WACA,kBACD,yBACC,uCAAA,8BAAgC,CACjC,2CAIG,eACA,UAAY,CACb,sCAIF,yBACC,uCAAA,8BAAgC,CACjC",file:"dots.scss",sourcesContent:[".dots {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 2em;\n}\n\n.dot {\n  margin: 5px;\n  height: .7em;\n  width: .7em;\n  border-radius: 50%;\n\tbackground-color: #dbe2e8;\n  transition: background-color 1s;\n}\n\n.dot.hover {\n  &:hover {\n    cursor: pointer;\n    opacity: .7;\n  }\n}\n\n.dot.active {\n\tbackground-color: #02b3e4;\n  transition: background-color 1s;\n}\n"],sourceRoot:"webpack://"}]),t.locals={dots:"dots--dots--199GH",dot:"dots--dot--1_4Xa",hover:"dots--hover--1bgVC",active:"dots--active--3aayn"}},1845:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".guru-header--guru-header--DbN0f{position:relative;background-color:#fff;border-bottom:1px solid #dbe2e8}.guru-header--guru-header--DbN0f .guru-header--header--Xn25W{padding:1em 2em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-transition:opacity .2s;transition:opacity .2s;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.guru-header--guru-header--DbN0f .guru-header--header--Xn25W:hover{cursor:pointer;opacity:.7;-webkit-transition:opacity .2s;transition:opacity .2s}.guru-header--guru-header--DbN0f .guru-header--header--Xn25W .guru-header--name--2VruJ{font-weight:600}.guru-header--guru-header--DbN0f .guru-header--header--Xn25W .guru-header--icon--hvSgq{margin-left:auto;height:1.2em;width:1.2em;background-size:contain}.guru-header--guru-header--DbN0f .guru-header--body--1XmVl{display:none}.guru-header--guru-header--DbN0f.guru-header--opened--25Lut .guru-header--body--1XmVl{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;padding:2em;padding-top:1em;font-size:12px;background:#fff;color:#000;z-index:100;border-bottom:1px solid #dbe2e8}.guru-header--guru-header--DbN0f.guru-header--opened--25Lut .guru-header--body--1XmVl .guru-header--from--3yDpQ{font-weight:600}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/guru-header/guru-header.scss"],names:[],mappings:"AAAA,iCACE,kBACA,sBACA,+BAAiC,CAHnC,6DAMI,gBACA,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,+BAAA,uBACA,yBAAA,sBAAA,kBAAoB,CAVxB,mEAaM,eACA,WACA,+BAAA,sBAAwB,CAf9B,uFAmBM,eAAiB,CAnBvB,uFAuBM,iBACA,aACA,YACA,uBAAyB,CA1B/B,2DA+BI,YAAc,CACf,sFAKC,kBACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,WACA,YACA,gBACA,eACA,gBACA,WACA,YACA,+BAAiC,CAZrC,gHAeM,eAAiB,CAClB",file:"guru-header.scss",sourcesContent:[".guru-header {\n  position: relative;\n  background-color: white;\n  border-bottom: solid 1px #dbe2e8;\n\n  .header {\n    padding: 1em 2em;\n    display: flex;\n    flex-direction: row;\n    transition: opacity .2s;\n    align-items: center;\n\n    &:hover {\n      cursor: pointer;\n      opacity: .7;\n      transition: opacity .2s;\n    }\n\n    .name {\n      font-weight: 600;\n    }\n\n    .icon {\n      margin-left: auto;\n      height: 1.2em;\n      width: 1.2em;\n      background-size: contain;\n    }\n  }\n\n  .body {\n    display: none;\n  }\n}\n\n.guru-header.opened {\n  .body {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: 2em;\n    padding-top: 1em;\n    font-size: 12px;\n    background: white;\n    color: black;\n    z-index: 100;\n    border-bottom: solid 1px #dbe2e8;\n\n    .from {\n      font-weight: 600;\n    }\n  }\n}\n"],sourceRoot:"webpack://"}]),t.locals={"guru-header":"guru-header--guru-header--DbN0f",header:"guru-header--header--Xn25W",name:"guru-header--name--2VruJ",icon:"guru-header--icon--hvSgq",body:"guru-header--body--1XmVl",opened:"guru-header--opened--25Lut",from:"guru-header--from--3yDpQ"}},1846:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".image--image--3vf6J{background-size:contain;background-position:50%;background-repeat:no-repeat}.image--highlight--2fNN0{-webkit-filter:brightness(0) invert(1);filter:brightness(0) invert(1)}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/image/image.scss"],names:[],mappings:"AAAA,qBACE,wBACA,wBACA,2BAA6B,CAC9B,yBAGA,uCAAA,8BAA4B,CAC5B",file:"image.scss",sourcesContent:[".image {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.highlight {\n filter: brightness(0) invert(1);\n}\n"],sourceRoot:"webpack://"}]),t.locals={image:"image--image--3vf6J",highlight:"image--highlight--2fNN0"}},1847:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".messages-list--guru-messages-list--fgxxm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:auto;padding:1em 2em}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/messages-list/messages-list.scss"],names:[],mappings:"AAAA,0CACE,mBAAA,oBAAA,YACA,cACA,eAAiB,CAClB",file:"messages-list.scss",sourcesContent:[".guru-messages-list {\n  flex-grow: 1;\n  overflow: auto;\n  padding: 1em 2em;\n}\n"],sourceRoot:"webpack://"}]),t.locals={"guru-messages-list":"messages-list--guru-messages-list--fgxxm"}},1848:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".overlay-image--overlay-image--XcBRG{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.overlay-image--overlay-image--XcBRG .overlay-image--overlay--XrfAW{display:none}.overlay-image--overlay-image--XcBRG:hover .overlay-image--overlay--XrfAW{display:-webkit-box;display:-ms-flexbox;display:flex}.overlay-image--overlay--XrfAW{cursor:pointer;position:absolute;width:100%;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;background:hsla(0,0%,100%,.7)}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/overlay-image/overlay-image.scss"],names:[],mappings:"AAAA,qCACE,kBACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,qBAAuB,CAHzB,oEAMI,YAAc,CACf,0EAIC,oBAAA,oBAAA,YAAc,CACf,+BAID,eACA,kBACA,WACA,YACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,0BAAA,mBACA,6BAAgB,CACjB",file:"overlay-image.scss",sourcesContent:[".overlay-image {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .overlay {\n    display: none;\n  }\n}\n.overlay-image:hover {\n  .overlay {\n    display: flex;\n  }\n}\n\n.overlay {\n  cursor: pointer;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  background: rgba(255,255,255,.7);\n}\n"],sourceRoot:"webpack://"}]),t.locals={"overlay-image":"overlay-image--overlay-image--XcBRG",overlay:"overlay-image--overlay--XrfAW"}},1849:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".overlay-panel--card--3HZ7g{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes overlay-panel--fadeIn--2jxTi{0%{opacity:0}to{opacity:1}}@keyframes overlay-panel--fadeIn--2jxTi{0%{opacity:0}to{opacity:1}}@-webkit-keyframes overlay-panel--fadeInUp--3I1DM{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes overlay-panel--fadeInUp--3I1DM{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes overlay-panel--rotateBounceIn--VQc4N{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes overlay-panel--rotateBounceIn--VQc4N{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes overlay-panel--bounceIn--14erz{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes overlay-panel--bounceIn--14erz{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes overlay-panel--slideInRight--hLdrp{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes overlay-panel--slideInRight--hLdrp{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.overlay-panel--overlay-panel--31GRQ{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.overlay-panel--overlay-panel--31GRQ>.overlay-panel--end--3-Qsc{margin-top:auto}.overlay-panel--content--1mJr5{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;overflow-y:auto}.overlay-panel--first--3Ln9T{-webkit-animation:overlay-panel--fadeIn--2jxTi 1s;animation:overlay-panel--fadeIn--2jxTi 1s}.overlay-panel--last--230eT,.overlay-panel--next--1g78y{-webkit-animation:overlay-panel--slideInRight--hLdrp 1s;animation:overlay-panel--slideInRight--hLdrp 1s}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/overlay-panel/overlay-panel.scss"],
names:[],mappings:"AAgBA,4BACE,gBACA,YACA,yBACA,iBAAmB,CACpB,gDAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,wCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,kDACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,0CACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,wDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,gDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,kDACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,0CACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,sDACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,8CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,qCACE,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,yBAAA,sBAAA,kBAAoB,CAJtB,gEAOI,eAAiB,CAClB,+BAID,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,WACA,eAAiB,CAClB,6BAGC,kDAAA,yCAAqB,CACtB,AAIA,wDAGC,wDAAA,+CAA2B,CAC5B",file:"overlay-panel.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","@import '../../styles/_shared.scss';\n\n.overlay-panel {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  >.end {\n    margin-top: auto;\n  }\n}\n\n.content {\n  flex-grow: 1;\n  display: flex;\n  width: 100%;\n  overflow-y: auto;\n}\n\n.first {\n  animation: fadeIn 1s;\n}\n\n.next {\n  animation: slideInRight 1s;\n}\n\n.last {\n  animation: slideInRight 1s;\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"overlay-panel--card--3HZ7g","overlay-panel":"overlay-panel--overlay-panel--31GRQ",end:"overlay-panel--end--3-Qsc",content:"overlay-panel--content--1mJr5",first:"overlay-panel--first--3Ln9T",fadeIn:"overlay-panel--fadeIn--2jxTi",next:"overlay-panel--next--1g78y",slideInRight:"overlay-panel--slideInRight--hLdrp",last:"overlay-panel--last--230eT",fadeInUp:"overlay-panel--fadeInUp--3I1DM",rotateBounceIn:"overlay-panel--rotateBounceIn--VQc4N",bounceIn:"overlay-panel--bounceIn--14erz"}},1850:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".step--card--YLy3q{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes step--fadeIn--3kexG{0%{opacity:0}to{opacity:1}}@keyframes step--fadeIn--3kexG{0%{opacity:0}to{opacity:1}}@-webkit-keyframes step--fadeInUp--1eNkr{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes step--fadeInUp--1eNkr{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes step--rotateBounceIn--38Dm4{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes step--rotateBounceIn--38Dm4{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes step--bounceIn--144Gp{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes step--bounceIn--144Gp{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes step--slideInRight--1t3w_{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes step--slideInRight--1t3w_{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.step--top--3aauj{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.step--wrapper--3DqnC{text-align:center;padding:40px}.step--icon--13RnR{margin:auto;width:130px;height:130px;background-position:50%;background-repeat:no-repeat;background-size:contain}.step--header--1gWMk{font-size:18px;font-weight:600;color:#2e3d49}.step--section--22bpA{padding:10px 0;line-height:22px}.step--section--22bpA b{font-weight:600}.step--section--22bpA:first-child{padding-top:0}.step--section--22bpA:last-child{padding-bottom:0}.step--big--r8QiF.step--section--22bpA{padding:20px 0}.step--bold--2pDtR{font-weight:600}.step--textbox--3u6_1{outline:none;resize:none;border:1px solid #dbe2e8;padding:17.5px;height:190px;overflow:none;box-sizing:border-box}.step--complete-by--3r2TY{text-transform:uppercase;font-weight:600;color:#7d97ad}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/overlay-panel/step.scss"],names:[],mappings:"AAgBA,mBACE,gBACA,YACA,yBACA,iBAAmB,CACpB,uCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,+BAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,yCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,iCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,+CACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,uCACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,yCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,iCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,6CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,qCACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCtExB,kBACE,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,kBAAoB,CACrB,sBAGC,kBACA,YAAc,CACf,mBAGC,YACA,YACA,aACA,wBACA,4BACA,uBAAyB,CAC1B,qBAGC,eACA,gBACA,aAAe,CAChB,sBAGC,eACA,gBAAkB,CAFpB,wBAKI,eAAiB,CAClB,kCAGD,aACD,CAAC,iCAEA,gBACD,CAAC,uCAEA,cAAkB,CACnB,mBAGA,eAAiB,CACjB,sBAGC,aACA,YACA,yBACA,eACA,aACA,cACA,qBAAuB,CACxB,0BAGC,yBACA,gBACA,aAAe,CAChB",file:"step.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","// each step that is passed into overlay-panel can import this as styles\n@import '../../styles/_shared.scss';\n\n.top {\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.wrapper {\n  text-align: center;\n  padding: 40px;\n}\n\n.icon {\n  margin: auto;\n  width: 130px;\n  height: 130px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n.header {\n  font-size: 18px;\n  font-weight: 600;\n  color: #2e3d49;\n}\n\n.section {\n  padding: 10px 0px;\n  line-height: 22px;\n\n  b {\n    font-weight: 600;\n  }\n}\n.section:first-child {\n  padding-top: 0px\n}\n.section:last-child {\n  padding-bottom: 0px\n}\n.big.section {\n  padding: 20px 0px;\n}\n\n.bold {\n\tfont-weight: 600;\n}\n\n.textbox {\n  outline: none;\n  resize: none;\n  border: 1px solid $darkgrey;\n  padding: 17.5px;\n  height: 190px;\n  overflow: none;\n  box-sizing: border-box;\n}\n\n.complete-by {\n  text-transform: uppercase;\n  font-weight: 600;\n  color: #7d97ad;\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"step--card--YLy3q",top:"step--top--3aauj",wrapper:"step--wrapper--3DqnC",icon:"step--icon--13RnR",header:"step--header--1gWMk",section:"step--section--22bpA",big:"step--big--r8QiF",bold:"step--bold--2pDtR",textbox:"step--textbox--3u6_1","complete-by":"step--complete-by--3r2TY",fadeIn:"step--fadeIn--3kexG",fadeInUp:"step--fadeInUp--1eNkr",rotateBounceIn:"step--rotateBounceIn--38Dm4",bounceIn:"step--bounceIn--144Gp",slideInRight:"step--slideInRight--1t3w_"}},1851:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".profile--card--3r7IC{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes profile--fadeIn--2dUrG{0%{opacity:0}to{opacity:1}}@keyframes profile--fadeIn--2dUrG{0%{opacity:0}to{opacity:1}}@-webkit-keyframes profile--fadeInUp--1d3uj{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes profile--fadeInUp--1d3uj{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes profile--rotateBounceIn--_GuGS{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes profile--rotateBounceIn--_GuGS{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes profile--bounceIn--1DPb7{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes profile--bounceIn--1DPb7{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes profile--slideInRight--UU1Lm{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes profile--slideInRight--UU1Lm{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.profile--guru-profile--2Mtq7{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:15em;text-align:center}.profile--avatar--8al53{-webkit-animation:profile--bounceIn--1DPb7 .5s;animation:profile--bounceIn--1DPb7 .5s;-webkit-animation-timing-function:cubic-bezier(.68,-.55,.265,1.55);animation-timing-function:cubic-bezier(.68,-.55,.265,1.55)}.profile--header--1-lIc{font-weight:600;color:#58646d;padding:0 1em 1em;border-bottom:2px solid #4bb9e5;margin-bottom:1em;font-family:Open Sans,sans-serif;font-size:12px;letter-spacing:1px;color:#7d97ad;text-transform:uppercase}.profile--item--3wAM0{margin-top:2em}.profile--item--3wAM0:first-child{margin-top:0}.profile--info--GOv6S>*{margin-top:1em}.profile--info--GOv6S>:first-child{margin-top:0}.profile--name--1Gw6p{font-size:18px;font-weight:600;color:#2e3d49}.profile--location--2ODzx{font-weight:600}.profile--hide--3yctx{position:relative;-webkit-transition:all .2s;transition:all .2s}.profile--hide--3yctx:after{content:'';width:100%;height:100%;left:0;top:0;position:absolute;background:-webkit-linear-gradient(transparent,#fff);background:linear-gradient(transparent,#fff)}.profile--show--3WCAx{-webkit-transition:all .2s;transition:all .2s}.profile--link--2iB3v{font-weight:600;margin-top:1em;color:#4bb9e5;text-transform:uppercase;-webkit-transition:opacity .2s;transition:opacity .2s}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/profile/profile.scss"],names:[],mappings:"AAgBA,sBACE,gBACA,YACA,yBACA,iBAAmB,CACpB,0CAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,kCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,4CACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,oCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,kDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,0CACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,4CACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,oCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,gDACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,wCACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,8BACE,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,yBAAA,sBAAA,mBACA,WACA,iBAAmB,CACpB,wBAGC,+CAAA,uCACA,mEAAA,0DAAuC,CACxC,wBAGC,gBACA,cACA,kBACA,gCACA,kBACA,iCACA,eACA,mBACA,cACA,wBAA0B,CAC3B,sBAGC,cAAgB,CACjB,kCAEC,YAAc,CACf,wBAIG,cAAgB,CAFpB,mCAKI,YAAc,CACf,sBAID,eACA,gBACA,aAAe,CAChB,0BAGC,eAAiB,CAClB,sBAGC,kBACA,2BAAA,kBAAqB,CAFvB,4BAKI,WACA,WACA,YACA,OACA,MACA,kBACA,qDAAA,4CAA2B,CAC5B,sBAID,2BAAA,kBAAqB,CACtB,sBAGC,gBACA,eACA,cACA,yBACA,+BAAA,sBAAwB,CACzB",file:"profile.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","@import '../../styles/_shared.scss';\n\n.guru-profile {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 15em;\n  text-align: center;\n}\n\n.avatar {\n  animation: bounceIn .5s;\n  animation-timing-function: cubic-bezier(.68, -.55, .265, 1.55);\n}\n\n.header {\n  font-weight: 600;\n  color: $spacegrey;\n  padding: 0 1em 1em 1em;\n  border-bottom: 2px solid $brightblue;\n  margin-bottom: 1em;\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  letter-spacing: 1px;\n  color: $guru-profile-header-color;\n  text-transform: uppercase;\n}\n\n.item {\n  margin-top: 2em;\n}\n.item:first-child {\n  margin-top: 0;\n}\n\n.info {\n  >* {\n    margin-top: 1em;\n  }\n  >*:first-child {\n    margin-top: 0;\n  }\n}\n\n.name {\n  font-size: 18px;\n  font-weight: 600;\n  color: #2e3d49;\n}\n\n.location {\n  font-weight: 600;\n}\n\n.hide {\n  position: relative;\n  transition: all 0.2s;\n\n  &:after {\n    content: '';\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    position: absolute;\n    background: linear-gradient(transparent, white);\n  }\n}\n\n.show {\n  transition: all 0.2s;\n}\n\n.link {\n  font-weight: 600;\n  margin-top: 1em;\n  color: $brightblue;\n  text-transform: uppercase;\n  transition: opacity .2s;\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"profile--card--3r7IC","guru-profile":"profile--guru-profile--2Mtq7",avatar:"profile--avatar--8al53",bounceIn:"profile--bounceIn--1DPb7",header:"profile--header--1-lIc",item:"profile--item--3wAM0",info:"profile--info--GOv6S",name:"profile--name--1Gw6p",location:"profile--location--2ODzx",hide:"profile--hide--3yctx",show:"profile--show--3WCAx",link:"profile--link--2iB3v",fadeIn:"profile--fadeIn--2dUrG",fadeInUp:"profile--fadeInUp--1d3uj",rotateBounceIn:"profile--rotateBounceIn--_GuGS",slideInRight:"profile--slideInRight--UU1Lm"}},1852:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".send-input--guru-sidebar-send--1l3Tm{padding:10px;position:relative}.send-input--guru-sidebar-send--1l3Tm textarea{resize:none;max-height:200px;box-sizing:border-box;width:100%;box-shadow:0 1px 2px 0 rgba(46,60,73,.05);border:1px solid #dbe2e8;padding:10px;border-radius:2px}.send-input--action-icon--1zLcj{top:50%;right:0;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);position:absolute;width:20px;height:20px;background-size:contain;background-position:50%;background-repeat:no-repeat;opacity:1;-webkit-transition:opacity .5s;transition:opacity .5s}.send-input--action-icon--1zLcj:hover{cursor:pointer;opacity:.7;-webkit-transition:opacity .5s;transition:opacity .5s}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/send-input/send-input.scss"],names:[],mappings:"AAAA,sCACE,aACA,iBAAmB,CAFrB,+CAKI,YACA,iBACA,sBACA,WACA,0CACA,yBACA,aACA,iBAAmB,CACpB,gCAID,QACA,QACA,wCAAA,gCACA,kBACA,WACA,YACA,wBACA,wBACA,4BACA,UACA,+BAAA,sBAAwB,CACzB,sCAEC,eACA,WACA,+BAAA,sBAAwB,CACzB",file:"send-input.scss",sourcesContent:[".guru-sidebar-send {\n  padding: 10px;\n  position: relative;\n\n  textarea {\n    resize: none;\n    max-height: 200px;\n    box-sizing: border-box;\n    width: 100%;\n    box-shadow: 0 1px 2px 0 rgba(46, 60, 73, 0.05);\n    border: solid 1px #dbe2e8;\n    padding: 10px;\n    border-radius: 2px;\n  }\n}\n\n.action-icon {\n  top: 50%;\n  right: 0;\n  transform: translate(-100%, -50%);\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  opacity: 1;\n  transition: opacity .5s;\n}\n.action-icon:hover {\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity .5s;\n}\n"],sourceRoot:"webpack://"}]),t.locals={"guru-sidebar-send":"send-input--guru-sidebar-send--1l3Tm","action-icon":"send-input--action-icon--1zLcj"}},1853:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,'.single-message--card--3cwgz{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes single-message--fadeIn--2UN3v{0%{opacity:0}to{opacity:1}}@keyframes single-message--fadeIn--2UN3v{0%{opacity:0}to{opacity:1}}@-webkit-keyframes single-message--fadeInUp--147Vc{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes single-message--fadeInUp--147Vc{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes single-message--rotateBounceIn--1HF1t{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes single-message--rotateBounceIn--1HF1t{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes single-message--bounceIn--3jbSX{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes single-message--bounceIn--3jbSX{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes single-message--slideInRight--20uOn{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes single-message--slideInRight--20uOn{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.single-message--guru-single-message--2RlHy{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1em;-webkit-animation:single-message--fadeIn--2UN3v 1s;animation:single-message--fadeIn--2UN3v 1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.single-message--guru-single-message--2RlHy a{color:inherit;text-decoration:underline}.single-message--guru-single-message--2RlHy:last-child{margin-bottom:0}.single-message--me--3V5Cm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.single-message--me--3V5Cm .single-message--message--NZFQD{-webkit-box-align:end;-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.single-message--me--3V5Cm .single-message--message--NZFQD.single-message--align-avatar--2xbem{padding-left:0}.single-message--me--3V5Cm .single-message--avatar--1xWQy{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;margin-left:1em;margin-right:0}.single-message--me--3V5Cm .single-message--text--2pEkg{background:#02b3e4;color:#fff}.single-message--me--3V5Cm .single-message--arrow--wtSaz{position:relative}.single-message--me--3V5Cm .single-message--arrow--wtSaz:after{content:" ";position:absolute;left:100%;top:10px;border-left:5px solid #02b3e4;border-top:5px solid transparent;border-bottom:5px solid transparent}.single-message--message--NZFQD{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.single-message--message--NZFQD.single-message--align-avatar--2xbem{padding-left:3.5em}.single-message--avatar--1xWQy{margin-right:1em}.single-message--text--2pEkg{padding:1em 1.5em;border-radius:4px;background:#f5f7f8;word-break:break-word}.single-message--text--2pEkg img{width:100%}.single-message--arrow--wtSaz{position:relative}.single-message--arrow--wtSaz:after{content:" ";position:absolute;right:100%;top:10px;border-right:5px solid #f5f7f8;border-top:5px solid transparent;border-bottom:5px solid transparent}.single-message--time--j6NkO{color:#7d97ad;font-size:12px}.single-message--image-overlay--3b2Hw{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.single-message--image-overlay--3b2Hw .single-message--image-text--3xa3e{font-weight:600;color:#525c65}',"",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/single-message/single-message.scss"],names:[],mappings:"AAgBA,6BACE,gBACA,YACA,yBACA,iBAAmB,CACpB,iDAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,yCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,mDACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,2CACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,yDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,iDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,mDACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,2CACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,uDACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,+CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,4CACE,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,kBACA,mDAAA,2CACA,qCAAA,4BAA8B,CALhC,8CAQI,cACA,yBAA2B,CAT/B,uDAaI,eAAiB,CAClB,2BAID,qBAAA,kBAAA,wBAA0B,CAD5B,2DAII,sBAAA,mBAAA,4BAAA,oBAAsB,CAJ1B,+FAOI,cAAgB,CAPpB,0DAWI,4BAAA,iBAAA,QACA,gBACA,cAAgB,CAbpB,wDAiBI,mBACA,UAAa,CAlBjB,yDAsBI,iBAAmB,CAtBvB,+DA0BI,YACA,kBACA,UACA,SACA,8BACA,iCACA,mCAAqC,CACtC,gCAID,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,qBAAuB,CACxB,oEAEC,kBAAoB,CACrB,+BAGC,gBAAkB,CACnB,6BAGC,kBACA,kBACA,mBACA,qBAAuB,CAJzB,iCAOI,UAAY,CACb,8BAID,iBAAmB,CACpB,oCAGC,YACA,kBACA,WACA,SACA,+BACA,iCACA,mCAAqC,CACtC,6BAGC,cACA,cAAgB,CACjB,sCAGC,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,wBAAA,qBAAA,uBACA,yBAAA,sBAAA,kBAAoB,CAJtB,yEAOI,gBACA,aAAe,CAChB",file:"single-message.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n",'@import \'../../styles/_shared.scss\';\n\n.guru-single-message {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1em;\n  animation: fadeIn 1s;\n  animation-fill-mode: forwards;\n\n  a {\n    color: inherit;\n    text-decoration: underline;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.me {\n  justify-content: flex-end;\n\n  .message {\n    align-items: flex-end;\n  }\n  .message.align-avatar {\n    padding-left: 0;\n  }\n\n  .avatar {\n    order: 2;\n    margin-left: 1em;\n    margin-right: 0;\n  }\n\n  .text {\n    background: $my-message-background;\n    color: white;\n  }\n\n  .arrow {\n    position: relative;\n  }\n\n  .arrow:after {\n    content: " ";\n    position: absolute;\n    left: 100%;\n    top: 10px;\n    border-left: 5px solid $my-message-background;\n    border-top: 5px solid transparent;\n    border-bottom: 5px solid transparent;\n  }\n}\n\n.message {\n  display: flex;\n  flex-direction: column;\n}\n.message.align-avatar {\n  padding-left: 3.5em;\n}\n\n.avatar {\n  margin-right: 1em;\n}\n\n.text {\n  padding: 1em 1.5em;\n  border-radius: 4px;\n  background: $lightgrey;\n  word-break: break-word;\n\n  img {\n    width: 100%;\n  }\n}\n\n.arrow {\n  position: relative;\n}\n\n.arrow:after {\n  content: " ";\n  position: absolute;\n  right: 100%;\n  top: 10px;\n  border-right: 5px solid $lightgrey;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n}\n\n.time {\n  color: $helpgrey;\n  font-size: 12px;\n}\n\n.image-overlay {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .image-text {\n    font-weight: 600;\n    color: #525c65;\n  }\n}\n'],sourceRoot:"webpack://"}]),t.locals={card:"single-message--card--3cwgz","guru-single-message":"single-message--guru-single-message--2RlHy",fadeIn:"single-message--fadeIn--2UN3v",me:"single-message--me--3V5Cm",message:"single-message--message--NZFQD","align-avatar":"single-message--align-avatar--2xbem",avatar:"single-message--avatar--1xWQy",text:"single-message--text--2pEkg",arrow:"single-message--arrow--wtSaz",time:"single-message--time--j6NkO","image-overlay":"single-message--image-overlay--3b2Hw","image-text":"single-message--image-text--3xa3e",fadeInUp:"single-message--fadeInUp--147Vc",rotateBounceIn:"single-message--rotateBounceIn--1HF1t",bounceIn:"single-message--bounceIn--3jbSX",slideInRight:"single-message--slideInRight--20uOn"}},1854:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".stars--star--2yUb0{margin-right:10px;cursor:pointer;display:inline-block}.stars--rated--37yaQ{fill:#ecc81a}.stars--unrated--2X9T1{fill:#dbe2e8}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/stars/stars.scss"],names:[],mappings:"AAAA,oBACE,kBACA,eACA,oBAAsB,CACvB,qBAGC,YAAc,CACf,uBAGC,YAAc,CACf",file:"stars.scss",sourcesContent:[".star {\n  margin-right: 10px;\n  cursor: pointer;\n  display: inline-block;\n}\n\n.rated {\n  fill: #ecc81a;\n}\n\n.unrated {\n  fill: #dbe2e8;\n}"],sourceRoot:"webpack://"}]),t.locals={star:"stars--star--2yUb0",rated:"stars--rated--37yaQ",unrated:"stars--unrated--2X9T1"}},1855:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".upload-photo--card--3_pzV{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes upload-photo--fadeIn--2B6sh{0%{opacity:0}to{opacity:1}}@keyframes upload-photo--fadeIn--2B6sh{0%{opacity:0}to{opacity:1}}@-webkit-keyframes upload-photo--fadeInUp--3bXUo{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes upload-photo--fadeInUp--3bXUo{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes upload-photo--rotateBounceIn--dxlkp{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes upload-photo--rotateBounceIn--dxlkp{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes upload-photo--bounceIn--36diA{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes upload-photo--bounceIn--36diA{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes upload-photo--slideInRight--1kUrl{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes upload-photo--slideInRight--1kUrl{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.upload-photo--upload-photo--ixMhn{padding:1em;border-top:1px solid #efefef;background:#fff}.upload-photo--menubar--1M7JU{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.upload-photo--menubar--1M7JU .upload-photo--item--2Y6AX{opacity:1;-webkit-transition:opacity .5s;transition:opacity .5s}.upload-photo--menubar--1M7JU .upload-photo--item--2Y6AX:hover{cursor:pointer;opacity:.7;-webkit-transition:opacity .5s;transition:opacity .5s}.upload-photo--header--m-k-1{text-align:center;font-weight:600;color:#2e3d49;margin-bottom:10px}.upload-photo--upload--2KUGE{height:150px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.upload-photo--uploading--nOVNh{border:none!important}","",{
version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/components/node_modules/@udacity/ureact-guru-ui/build/components/upload-photo/upload-photo.scss"],names:[],mappings:"AAgBA,2BACE,gBACA,YACA,yBACA,iBAAmB,CACpB,+CAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,uCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,iDACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,yCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,uDACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,+CACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,iDACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,yCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,qDACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,6CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,mCACE,YACA,6BACA,eAAkB,CACnB,8BAGC,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,qBAAA,kBAAA,wBAA0B,CAH5B,yDAMI,UACA,+BAAA,sBAAwB,CAP5B,+DAUI,eACA,WACA,+BAAA,sBAAwB,CACzB,6BAID,kBACA,gBACD,cACC,kBAAoB,CACrB,6BAGC,aACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,qBAAuB,CACxB,gCAGC,qBAAwB,CACzB",file:"upload-photo.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","@import '../../styles/_shared.scss';\n\n.upload-photo {\n  padding: 1em;\n  border-top: 1px solid #efefef;\n  background: white;\n}\n\n.menubar {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n\n  .item {\n    opacity: 1;\n    transition: opacity .5s;\n  }\n  .item:hover {\n    cursor: pointer;\n    opacity: .7;\n    transition: opacity .5s;\n  }\n}\n\n.header {\n  text-align: center;\n  font-weight: 600;\n\tcolor: #2e3d49;\n  margin-bottom: 10px;\n}\n\n.upload {\n  height: 150px;\n  display: flex;\n  flex-direction: column;\n}\n\n.uploading {\n  border: none !important;\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"upload-photo--card--3_pzV","upload-photo":"upload-photo--upload-photo--ixMhn",menubar:"upload-photo--menubar--1M7JU",item:"upload-photo--item--2Y6AX",header:"upload-photo--header--m-k-1",upload:"upload-photo--upload--2KUGE",uploading:"upload-photo--uploading--nOVNh",fadeIn:"upload-photo--fadeIn--2B6sh",fadeInUp:"upload-photo--fadeInUp--3bXUo",rotateBounceIn:"upload-photo--rotateBounceIn--dxlkp",bounceIn:"upload-photo--bounceIn--36diA",slideInRight:"upload-photo--slideInRight--1kUrl"}},1856:function(e,t,n){t=e.exports=n(1772)(),t.push([e.id,".show--card--kIj8F{background:#fff;padding:3em;border:1px solid #dbe2e8;border-radius:2px}@-webkit-keyframes show--fadeIn--2mntr{0%{opacity:0}to{opacity:1}}@keyframes show--fadeIn--2mntr{0%{opacity:0}to{opacity:1}}@-webkit-keyframes show--fadeInUp--cRW26{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@keyframes show--fadeInUp--cRW26{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes show--rotateBounceIn--2JKNU{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes show--rotateBounceIn--2JKNU{0%{-webkit-transform:scale(.6);transform:scale(.6);-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes show--bounceIn--15ut3{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes show--bounceIn--15ut3{0%{-webkit-transform:scale(.6);transform:scale(.6)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes show--slideInRight--yzXXE{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes show--slideInRight--yzXXE{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}.show--guru-sidebar-show--3PcoQ{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;line-height:1.4em;font-size:14px;overflow:hidden;color:#525c65;font-weight:300;position:relative;background-color:#fff}.show--overlay--1Eayn{position:absolute;z-index:1000;height:100%;width:100%}.show--wrapper--11i8C{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}.show--header--2cNbD,.show--wrapper--11i8C{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.show--header--2cNbD{width:100%;-ms-flex-negative:0;flex-shrink:0}.show--body--3cV_Y{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.show--action--3J3mq{position:absolute;top:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.show--end--36bZF{border-top:1px solid #dbe2e8;margin-top:auto;-ms-flex-negative:0;flex-shrink:0;position:relative}.show--loading--2iRCL{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}","",{version:3,sources:["/./node_modules/@udacity/ureact-guru-ui/build/node_modules/@udacity/ureact-guru-ui/build/styles/_shared.scss","/./node_modules/@udacity/ureact-guru-ui/build/node_modules/@udacity/ureact-guru-ui/build/styles/show.scss"],names:[],mappings:"AAgBA,mBACE,gBACA,YACA,yBACA,iBAAmB,CACpB,uCAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAPd,+BAGC,GACE,SAAW,CAEb,GACE,SAAW,CAAA,CAIf,yCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAPxB,iCACE,GACE,UACA,oCAAA,2BAAoB,CAEtB,GACE,UACA,+BAAA,sBAAoB,CAAA,CAIxB,+CACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAXpB,uCACE,GACE,4BAAA,oBACA,gCAAA,uBAAiB,CAGnB,IACE,6BAAA,oBAAgB,CAGlB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,yCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CALpB,iCACE,GACE,4BAAA,mBAAgB,CAElB,GACE,2BAAA,kBAAgB,CAAA,CAIpB,6CACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CANxB,qCACE,GACE,kCAAA,yBAAoB,CAGtB,GACE,+BAAA,sBAAoB,CAAA,CCvExB,gCACE,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,kBACA,eACA,gBACA,cACA,gBACA,kBACA,qBAAwB,CACzB,sBAGC,kBACA,aACA,YACA,UAAY,CACb,sBAGC,mBAAA,oBAAA,YACA,AAEA,eAAiB,CAClB,2CAHC,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,qBACA,CAQD,AAPA,qBAGC,WACA,AAEA,oBAAA,aAAe,CAChB,mBAGC,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,sBACA,eAAiB,CAClB,qBAGC,kBACA,MACA,WACA,oCAAA,2BAAoB,CACrB,kBAGC,6BACA,gBACA,oBAAA,cACA,iBAAmB,CACpB,sBAGC,mBAAA,oBAAA,YACA,oBAAA,oBAAA,aACA,yBAAA,sBAAA,mBACA,wBAAA,qBAAA,sBAAwB,CACzB",file:"show.scss",sourcesContent:["$spacegrey: #58646d; // header font\n$darkgrey: #dbe2e8; // border\n$lightgrey: #f5f7f8; // other messages\n$helpgrey: #7d97ad; // for dim text\n$blue: #8bd9f1; // send button\n$brightblue: #4bb9e5; // link\n$teal: #02ccba; // my messages\n$line-color: #dbe2e8; // for datebreak line\n\n$guruMainWidth: 1200px;\n\n$message-box-font-color: #525C65;\n$message-box-font-weight: 300;\n$my-message-background: #02b3e4;\n$guru-profile-header-color: #7d97ad;\n\n.card {\n  background: white;\n  padding: 3em;\n  border: 1px solid $darkgrey;\n  border-radius: 2px;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeInUp {\n  0% {\n    opacity: 0;\n    transform: translate(0, 100px);\n  }\n  100% {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes rotateBounceIn {\n  0% {\n    transform: scale(.6);\n    transform: rotate(90deg);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes bounceIn {\n  0% {\n    transform: scale(.6);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes slideInRight {\n  0% {\n    transform: translate(100%, 0);\n  }\n\n  100% {\n    transform: translate(0, 0);\n  }\n}\n","@import './_shared.scss';\n\n.guru-sidebar-show {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  line-height: 1.4em;\n  font-size: 14px;\n  overflow: hidden;\n  color: $message-box-font-color;\n  font-weight: $message-box-font-weight;\n  position: relative;\n  background-color: white;\n}\n\n.overlay {\n  position: absolute;\n  z-index: 1000;\n  height: 100%;\n  width: 100%;\n}\n\n.wrapper {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.header {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n}\n\n.body {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.action {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  transform: translate(0, -100%);\n}\n\n.end {\n  border-top: 1px solid $darkgrey;\n  margin-top: auto;\n  flex-shrink: 0;\n  position: relative;\n}\n\n.loading {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n"],sourceRoot:"webpack://"}]),t.locals={card:"show--card--kIj8F","guru-sidebar-show":"show--guru-sidebar-show--3PcoQ",overlay:"show--overlay--1Eayn",wrapper:"show--wrapper--11i8C",header:"show--header--2cNbD",body:"show--body--3cV_Y",action:"show--action--3J3mq",end:"show--end--36bZF",loading:"show--loading--2iRCL",fadeIn:"show--fadeIn--2mntr",fadeInUp:"show--fadeInUp--cRW26",rotateBounceIn:"show--rotateBounceIn--2JKNU",bounceIn:"show--bounceIn--15ut3",slideInRight:"show--slideInRight--yzXXE"}},1857:function(e,t,n){var r=n(1837);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1858:function(e,t,n){var r=n(1838);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1859:function(e,t,n){var r=n(1839);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1860:function(e,t,n){var r=n(1840);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1861:function(e,t,n){var r=n(1841);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1862:function(e,t,n){var r=n(1842);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1863:function(e,t,n){var r=n(1843);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1864:function(e,t,n){var r=n(1844);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1865:function(e,t,n){var r=n(1845);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1866:function(e,t,n){var r=n(1846);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1867:function(e,t,n){var r=n(1847);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1868:function(e,t,n){var r=n(1848);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1869:function(e,t,n){var r=n(1849);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1870:function(e,t,n){var r=n(1851);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1871:function(e,t,n){var r=n(1852);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1872:function(e,t,n){var r=n(1853);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1873:function(e,t,n){var r=n(1854);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1874:function(e,t,n){var r=n(1855);"string"==typeof r&&(r=[[e.id,r,""]]);n(1773)(r,{});r.locals&&(e.exports=r.locals)},1875:function(e,t,n){e.exports=n.p+"/images/icon-attach-color-2e348.svg"},1876:function(e,t,n){e.exports=n.p+"/images/icon-attach-0f4c9.svg"},1877:function(e,t,n){e.exports=n.p+"/images/icon-close-23701.svg"},1878:function(e,t,n){e.exports=n.p+"/images/icon-download-27048.svg"},1879:function(e,t,n){e.exports=n.p+"/images/icon_info-3096f.svg"},1880:function(e,t,n){e.exports=n.p+"/images/illustration-community-9eadf.svg"},1881:function(e,t,n){e.exports=n.p+"/images/illustration-summary-190d4.svg"},1882:function(e,t,n){e.exports=n.p+"/images/pigeon-b4f2c.svg"},1883:function(e,t){function n(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}e.exports=n},1884:function(e,t){function n(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}e.exports=n},1885:function(e,t,n){function r(e,t,n){function r(t){var n=m,r=v;return m=v=void 0,w=t,C=e.apply(r,n)}function l(e){return w=e,_=setTimeout(p,t),E?r(e):C}function d(e){var n=e-k,r=e-w,o=t-n;return B?c(o,b-r):o}function f(e){var n=e-k,r=e-w;return void 0===k||n>=t||n<0||B&&r>=b}function p(){var e=i();return f(e)?h(e):void(_=setTimeout(p,d(e)))}function h(e){return _=void 0,x&&m?r(e):(m=v=void 0,C)}function y(){void 0!==_&&clearTimeout(_),w=0,m=k=v=_=void 0}function g(){return void 0===_?C:h(i())}function A(){var e=i(),n=f(e);if(m=arguments,v=this,k=e,n){if(void 0===_)return l(k);if(B)return _=setTimeout(p,t),r(k)}return void 0===_&&(_=setTimeout(p,t)),C}var m,v,b,C,_,k,w=0,E=!1,B=!1,x=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,o(n)&&(E=!!n.leading,B="maxWait"in n,b=B?u(a(n.maxWait)||0,t):b,x="trailing"in n?!!n.trailing:x),A.cancel=y,A.flush=g,A}var o=n(77),i=n(1886),a=n(1811),s="Expected a function",u=Math.max,c=Math.min;e.exports=r},1886:function(e,t,n){var r=n(89),o=function(){return r.Date.now()};e.exports=o},1887:function(e,t,n){function r(e,t,n){var r=u(e)?o:s,c=arguments.length<3;return r(e,a(t,4),n,c,i)}var o=n(1883),i=n(332),a=n(331),s=n(1884),u=n(68);e.exports=r},1888:function(e,t,n){function r(e,t){if(e=a(e),e<1||e>s)return[];var n=u,r=c(e,u);t=o(t),e-=u;for(var l=i(r,t);++n<e;)t(n);return l}var o=n(331),i=n(673),a=n(1890),s=9007199254740991,u=4294967295,c=Math.min;e.exports=r},1889:function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=o(e),e===i||e===-i){var t=e<0?-1:1;return t*a}return e===e?e:0}var o=n(1811),i=1/0,a=1.7976931348623157e308;e.exports=r},1890:function(e,t,n){function r(e){var t=o(e),n=t%1;return t===t?n?t-n:t:0}var o=n(1889);e.exports=r},1891:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function c(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),g=r(y),A=n(1892),m=r(A),v=function(){},b=(d=l=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={height:null,minHeight:-(1/0),maxHeight:1/0},n._onNextFrameActionId=null,n._rootDOMNode=null,n._onChange=n._onChange.bind(n),n._resizeComponent=n._resizeComponent.bind(n),n._onRootDOMNode=n._onRootDOMNode.bind(n),n}return s(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,n=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,o(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements"]));"object"===("undefined"==typeof t?"undefined":p(t))&&(n.value=t.value),n.style=f({},n.style,{height:this.state.height||0});var r=Math.max(n.style.maxHeight?n.style.maxHeight:1/0,this.state.maxHeight);return r<this.state.height&&(n.style.overflow="hidden"),g["default"].createElement("textarea",f({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=u(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&c(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,n=t.valueLink,r=t.onChange;n?n.requestChange(e.target.value):r(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,m["default"])(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(g["default"].Component),l.propTypes={value:g["default"].PropTypes.string,onChange:g["default"].PropTypes.func,onHeightChange:g["default"].PropTypes.func,useCacheForDOMMeasurements:g["default"].PropTypes.bool,rows:g["default"].PropTypes.number,minRows:g["default"].PropTypes.number,maxRows:g["default"].PropTypes.number},l.defaultProps={onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},d);t["default"]=b},1892:function(e,t){"use strict";function n(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];s||(s=document.createElement("textarea"),document.body.appendChild(s));var a=r(e,t),u=a.paddingSize,c=a.borderSize,l=a.boxSizing,d=a.sizingStyle;s.setAttribute("style",d+";"+o),s.value=e.value||e.placeholder||"";var f=-(1/0),p=1/0,h=s.scrollHeight;if("border-box"===l?h+=c:"content-box"===l&&(h-=u),null!==n||null!==i){s.value="";var y=s.scrollHeight-u;null!==n&&(f=y*n,"border-box"===l&&(f=f+u+c),h=Math.max(f,h)),null!==i&&(p=y*i,"border-box"===l&&(p=p+u+c),h=Math.min(p,h))}return{height:h,minHeight:f,maxHeight:p}}function r(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&a[n])return a[n];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),u=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),c=i.map(function(e){return e+":"+r.getPropertyValue(e)}).join(";"),l={sizingStyle:c,paddingSize:s,borderSize:u,boxSizing:o};return t&&n&&(a[n]=l),l}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",i=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],a={},s=void 0}});
//# sourceMappingURL=e6655.js.map